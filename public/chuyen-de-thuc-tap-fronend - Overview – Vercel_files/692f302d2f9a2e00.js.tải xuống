;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="5a42682d-fbd9-6d0f-71b7-3e7299bd390e")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1813317,e=>{"use strict";var i=e.i(7557283),t=e.i(1283928);e.s(["canAccessDimension",0,function(e){let{dimension:i,team:a,can:r,isSeawallFlagged:n,isFirewallFlagged:s}=e,d=t.AllDimensions[i];return!(d.restrictions?.some(e=>{let[i,t]=e;return!r(i,t)})||"clientIp"===i&&a.hideIpAddresses||"wafAction"===i&&!n&&!s||["wafRuleId","clientJa4Digest","clientIpCountry"].includes(i)&&!s)},"canAccessEvent",0,function(e){let{event:a,team:r,can:n}=e,s=t.AllEvents[a];return!s.restrictions?.some(e=>{let[i,t]=e;return!n(i,t)})&&("blockedConnection"!==a||!!(r.permissions?.ipBlocking?.includes(i.Action.List)&&r.permissions.domain?.includes(i.Action.List)))},"canAccessMeasure",0,function(e){let{measure:i}=e;return!0},"getAggregableMeasures",0,e=>Object.keys(t.AllMeasures).filter(i=>{let a=t.AllMeasures[i];return"canAggregate"in a&&(Array.isArray(a.canAggregate)?a.canAggregate.includes(e):a.events.includes(e))}),"getGroupableDimensions",0,e=>Object.keys(t.AllDimensions).filter(i=>{let a=t.AllDimensions[i];return"canGroupBy"in a&&a.events.includes(e)})])},9486194,e=>{"use strict";e.s(["queryBuilderEvents",0,["incomingRequest","imageTransformation","isrOperation","serverlessFunctionInvocation","middlewareInvocation","outgoingRequest","aiGatewayRequest","blockedConnection","firewallAction","botIdCheck","edgeFunctionInvocation"],"staticDimensionValues",0,[{dimensions:["environment"],values:[{id:"production",label:"Production"},{id:"preview",label:"Preview"}]},{dimensions:["requestMethod"],values:[{id:"GET"},{id:"POST"},{id:"PUT"},{id:"DELETE"},{id:"PATCH"},{id:"HEAD"},{id:"OPTIONS"},{id:"PROPFIND"},{id:"TRACE"},{id:"CONNECT"},{id:"PROPPATCH"},{id:"MKCOL"},{id:"COPY"},{id:"MOVE"},{id:"LOCK"},{id:"UNLOCK"}]},{dimensions:["httpStatus"],values:[{id:100},{id:101},{id:102},{id:103},{id:200},{id:201},{id:202},{id:203},{id:204},{id:205},{id:206},{id:207},{id:208},{id:226},{id:300},{id:301},{id:302},{id:303},{id:304},{id:305},{id:306},{id:307},{id:308},{id:400},{id:401},{id:402},{id:403},{id:404},{id:405},{id:406},{id:407},{id:408},{id:409},{id:410},{id:411},{id:412},{id:413},{id:414},{id:415},{id:416},{id:417},{id:418},{id:421},{id:422},{id:423},{id:424},{id:425},{id:426},{id:428},{id:429},{id:431},{id:451},{id:500},{id:501},{id:502},{id:503},{id:504},{id:505},{id:506},{id:507},{id:508},{id:510},{id:511}]},{dimensions:["edgeNetworkRegion","functionRegion","imageTransformationRegion","isrShieldRegion"],values:[{id:"sfo1",label:"San Francisco, USA"},{id:"bom1",label:"Mumbai, India"},{id:"sin1",label:"Singapore"},{id:"fra1",label:"Frankfurt, Germany"},{id:"iad1",label:"Washington D.C., USA"},{id:"cdg1",label:"Paris, France"},{id:"hkg1",label:"Hong Kong, China"},{id:"gru1",label:"São Paulo, Brazil"},{id:"arn1",label:"Stockholm, Sweden"},{id:"cle1",label:"Cleveland, USA"},{id:"cpt1",label:"Cape Town, South Africa"},{id:"dub1",label:"Dublin, Ireland"},{id:"dxb1",label:"Dubai, UAE"},{id:"hnd1",label:"Tokyo, Japan"},{id:"icn1",label:"Seoul, South Korea"},{id:"kix1",label:"Osaka, Japan"},{id:"lhr1",label:"London, UK"},{id:"pdx1",label:"Portland, USA"},{id:"syd1",label:"Sydney, Australia"},{id:"yul1",label:"Montréal, Canada"}]},{dimensions:["cacheResult"],values:[{id:"HIT"},{id:"MISS"},{id:"BYPASS"},{id:"STALE"},{id:"REVALIDATED"},{id:"PRERENDER"}]},{dimensions:["wafAction"],values:[{id:"log",label:"LOG"},{id:"bypass",label:"BYPASS"},{id:"challenge",label:"CHALLENGE"},{id:"challenge-solved",label:"CHALLENGE_SOLVED"},{id:"challenge-failed",label:"CHALLENGE_FAILED"},{id:"deny",label:"DENY"},{id:"rate_limit",label:"RATE_LIMIT"},{id:"redirect",label:"REDIRECT"},{id:"allow",label:"ALLOW"}]},{dimensions:["skewProtection"],values:[{id:"active"},{id:"inactive"}]},{dimensions:["functionStartType"],values:[{id:"hot",label:"HOT"},{id:"cold",label:"COLD"},{id:"prewarmed",label:"PREWARMED"},{id:"unknown",label:"UNKNOWN"}]}]])},9179929,e=>{"use strict";var i=e.i(2749380),t=e.i(1233856),a=e.i(6695816),r=e.i(5778089);e.s(["useLast",0,function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.useMemo)(()=>{if(!e?.data)return null;let{value:t="value",filter:a}=i,r="string"==typeof t?e=>e[t]??null:t;for(let i=e.data.length-1;i>=0;i--){if(a&&!a(e.data[i]))continue;let t=r(e.data[i]);if(null!==t)return t}return null},[e?.data,i])},"useSum",0,function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.useMemo)(()=>{if(!e?.summary)return null;let{value:t="value",filter:a}=i,r=e.summary;return(a&&(r=r.filter(a)),"function"==typeof t)?r.reduce((e,i)=>e+(t(i)??0),0):r.reduce((e,i)=>e+(i[t]??0),0)},[e?.summary,i])},"useTableData",0,function(e){let{enrich:r,meta:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(0,a.useMemo)(()=>{if(!e?.summary)return null;let a=n?.timeseries?.by??[],s=n?.timeseries?.lowGranularity,d=n?.timeseries?.granularity,l=r?e.summary.map(e=>({...e,...r(e)})):e.summary,o=r?e.data?.map(e=>({...e,...r(e)})):e.data,u=a.length>0&&o?o.reduce((e,i)=>{let t=a.map(e=>i[e]).join(",");return e[t]??=[],e[t].push(i),e},{}):{};if(a.length>0&&o){let e=d||(()=>{if(!o.length)return{minutes:1};let e=o.map(e=>new Date(e.timestamp).getTime()),t=Math.min(...e),a=Math.max(...e);return(0,i.getGranularityFromDuration)(a-t,s)})();Object.keys(u).forEach(i=>{let r=u[i];if(0===r.length)return;let n={};r.forEach(i=>{let a=new Date(i.timestamp),r=(0,t.startOfDuration)(a,e).toISOString();n[r]??=[],n[r].push(i)});let s=[];Object.entries(n).forEach(e=>{let[i,t]=e;if(0===t.length)return;let r={...t[0],timestamp:i};Object.keys(t[0]).filter(e=>"number"==typeof t[0][e]&&!a.includes(e)).forEach(e=>{r[e]=t.reduce((i,t)=>i+(t[e]||0),0)}),s.push(r)}),u[i]=s})}let c={};for(let e of l)for(let i in e)"number"==typeof e[i]&&(!c[i]||e[i]>c[i])&&(c[i]=e[i]);let m=Object.keys(c);return l.map(e=>{let i={},t=a.length>0?a.map(i=>e[i]).join(","):null;if(t){let e=u[t];for(let t of m)e&&(i[t]=e.map(e=>({date:e.timestamp,value:e[t]})))}return e.meta={maxValue:c,timeseries:i},e})},[e?.data,e?.summary,n?.timeseries?.by,n?.timeseries?.lowGranularity,n?.timeseries?.granularity,r,...s])},"useTimeseriesData",0,function(e,i){return(0,a.useMemo)(()=>{if(!e?.data)return null;let t={};if("singleCategoryName"in i){let{singleCategoryName:t,rollupName:a="value"}=i;return e.data.map(e=>{let{timestamp:i,...r}=e;return{name:i.toISOString(),[t]:r[a]}})}if("rollupCategories"in i){let{rollupCategories:a,filter:r}=i;e.data.forEach(e=>{if(r&&!r(e))return;let i=e.timestamp.toISOString();Object.entries(a).forEach(a=>{let[r,n]=a,s=e[r]??null;t[i]??={name:i};let d=t[i][n]??null;t[i][n]=null!==s?(d??0)+s:d})})}else{let{category:a,value:n="value",filter:s}=i,d="string"==typeof a?e=>e[a]:a,l="string"==typeof n?e=>e[n]??null:n;e.data.forEach(e=>{if(s&&!s(e))return;let i=e.timestamp.toISOString(),a=d(e)||r.emptyStringReplacement,n=l(e);t[i]??={name:i};let o=t[i][a]??null;t[i][a]=null!==n?(o??0)+n:o})}return Object.values(t)},[e?.data,i])}])},8188735,e=>{"use strict";var i=e.i(277234),t=e.i(4244280);async function a(e,a,r){return(0,i.fetchAPI)(`${(0,t.API_PROJECTS_VERSION)("v5")}/${encodeURIComponent(e)}${a?`?teamId=${a}`:""}`,{method:"PATCH",body:JSON.stringify(r),throwOnHTTPError:!0})}async function r(e,a,r){return(0,i.fetchAPI)(`${(0,t.API_PROJECTS_VERSION)("v9")}/${encodeURIComponent(e)}${a?`?teamId=${a}`:""}`,{method:"PATCH",body:JSON.stringify(r),throwOnHTTPError:!0})}e.s(["default",0,a,"updateProjectSettingsV9",0,r])},1025907,1287438,e=>{"use strict";var i=e.i(3559248);let t=(0,i.createServerReference)("40157144f07e0fab0c9bdc2347bd2391ae163c4f9a",i.callServer,void 0,i.findSourceMapURL,"applyCouponCode");e.s(["applyCouponCode",0,t],1025907);let a=(0,i.createServerReference)("404d889dcf615a2565465514e1f24df4b4b77e6d50",i.callServer,void 0,i.findSourceMapURL,"readCouponStatus");e.s(["readCouponStatus",0,a],1287438)},606598,e=>{"use strict";e.s(["BOTID_FREE_PROMO_COUPON_CODE",0,"EC04D756-7A00-4EDD-BD31-FD4852CD76A7","BOTID_FREE_PROMO_TOAST_KEY",0,"botid-free-2025-promo"])},5838860,e=>{"use strict";var i=e.i(6695816),t=e.i(1025907),a=e.i(1287438),r=e.i(9183349),n=e.i(8188735),s=e.i(606598);function d(e){let{teamId:t,couponCode:n}=e,[s,d]=(0,i.useState)({loading:!0,subscriptionId:null,redeemedCoupon:!1}),l=(0,i.useCallback)(async()=>{if(t)return(0,a.readCouponStatus)({teamIdOrSlug:t,couponCode:n})},[n,t]);return(0,i.useEffect)(()=>{t&&l().then(e=>{e&&d({...e,loading:!1})}).catch(e=>{if("production"!==r.VERCEL_ENV)throw e;d(e=>({...e,loading:!1}))})},[l,t]),{...s,readStatus:l}}e.s(["useCouponStatus",0,d,"useRedeemCoupon",0,function(e){let{couponCode:a,project:l,teamId:o}=e,[u,c]=(0,i.useState)(!1),m=d({teamId:o,couponCode:a}),p=(0,i.useCallback)(async()=>{if(o&&l){c(!0);try{if(m.redeemedCoupon)return;await Promise.all([(0,t.applyCouponCode)({teamIdOrSlug:o,couponCode:a}),(0,n.updateProjectSettingsV9)(l.name,o,{dismissedToasts:[{key:s.BOTID_FREE_PROMO_TOAST_KEY,action:"accept",value:l.security?.botIdEnabled??!1,dismissedAt:Date.now()}]})]),await m.readStatus()}catch(e){if("production"!==r.VERCEL_ENV)throw e}finally{c(!1)}}},[a,m.redeemedCoupon,l,o,m.readStatus]);return[u,p]}])},4994408,e=>{"use strict";var i=e.i(6695816);e.s(["useLoadingStates",0,function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let[r,n]=(0,i.useState)(!1),s=t.some(e=>e);return s||r||n(!0),{is:s,has:r}}])},4771682,e=>{"use strict";var i=e.i(31889),t=e.i(7553931),a=e.i(6695816),r=e.i(2504781),n=e.i(455575),s=e.i(6307463),d=e.i(57106),l=e.i(5338940),o=e.i(4597921),u=e.i(7557283),c=e.i(1717203),m=e.i(9183349),p=e.i(6352514),O=e.i(4759942),f=e.i(6060673),E=e.i(8188735),b=e.i(4994408),g=e.i(5838860),h=e.i(606598);function y(e){let{onDismiss:t,onAccept:a}=e;return(0,i.jsxs)("div",{className:"isolate relative rounded-md *:rounded-md h-[250px] w-[420px] flex flex-col shadow-lg",children:[(0,i.jsxs)("div",{className:"relative grid place-items-center h-32 shrink-0",children:[(0,i.jsx)("figure",{className:"rounded-full size-16 border border-dashed border-gray-alpha-300 dark:border-gray-alpha-500 grid place-items-center",children:(0,i.jsx)(s.Botid,{color:"gray-900",size:32})}),(0,i.jsx)(T,{})]}),(0,i.jsxs)("div",{className:"bg-background-100 text-copy-14 flex flex-col justify-between p-4 grow",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{children:["BotID Deep Analysis is free until"," ",(0,i.jsx)("strong",{className:"font-medium",children:"January 15th, 2026"}),"."]}),(0,i.jsx)(d.Link,{href:"https://vercel.fyi/botid-bfcm",children:"Learn more"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2 justify-end",children:[(0,i.jsx)(r.Button,{onClick:t,type:"tertiary",children:"Dismiss"}),(0,i.jsx)(r.Button,{onClick:a,children:"Configure BotID"})]})]})]})}function T(){return(0,i.jsxs)("div",{className:"isolate absolute inset-0 -z-10 *:border-gray-alpha-300 *:dark:border-gray-alpha-500 overflow-hidden not-sr-only pointer-events-none select-none",children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(to_bottom,transparent,var(--ds-background-100))] z-10"}),(0,i.jsx)("hr",{className:"border border-dashed translate-y-[31px]"}),(0,i.jsx)("hr",{className:"border border-dashed translate-y-[93px]"}),(0,i.jsx)("hr",{className:"rotate-90 border border-dashed -translate-x-[32px]"}),(0,i.jsx)("hr",{className:"rotate-90 border border-dashed translate-x-[32px]"}),(0,i.jsx)("hr",{className:"rotate-90 border border-dashed -translate-x-[96px]"}),(0,i.jsx)("hr",{className:"rotate-90 border border-dashed translate-x-[96px]"}),(0,i.jsx)("hr",{className:"rotate-90 border border-dashed -translate-x-[160px]"}),(0,i.jsx)("hr",{className:"rotate-90 border border-dashed translate-x-[160px]"})]})}e.s(["BotIdPromoToast",0,function(){let e,r=(0,t.useRouter)(),s=(0,t.usePathname)(),d=(0,n.useToasts)(),{teamSlug:T,projectSlug:S}=(e=(0,t.useParams)(),{teamSlug:e?.teamSlug??void 0,projectSlug:e?.project??void 0}),{data:_,isLoading:A}=(0,f.useProject)(S,{apiVersion:"v9"}),{team:v,isLoading:R}=(0,l.useTeam)(T),I=(0,o.useServerFlag)("esp-623",!1),C=(0,c.useCanAct)(u.Resource.SeawallConfig,[u.Action.Read,u.Action.Update],"every"),D=(0,c.useCanAct)(u.Resource.Project,[u.Action.Read,u.Action.Update],"every"),P=(0,g.useCouponStatus)({teamId:v?.id,couponCode:h.BOTID_FREE_PROMO_COUPON_CODE}),x=(0,b.useLoadingStates)(null===s,!d.loaded,A,R,P.loading),j=(0,a.useRef)(!1),w=(0,a.useMemo)(()=>(_?.dismissedToasts??[]).some(e=>e.key===h.BOTID_FREE_PROMO_TOAST_KEY),[_,h.BOTID_FREE_PROMO_TOAST_KEY]),M=(0,a.useCallback)(async()=>{if(h.BOTID_FREE_PROMO_TOAST_KEY&&S&&v?.id&&_&&(!x.is||x.has)){d.removeToastByKey(h.BOTID_FREE_PROMO_TOAST_KEY),O.analytics.track(p.AnalyticsEvent.BOTID_PROMO_TOAST_DISMISSED,{teamId:v.id,projectId:_.id});try{await (0,E.updateProjectSettingsV9)(S,v.id,{dismissedToasts:[{key:h.BOTID_FREE_PROMO_TOAST_KEY,action:"cancel",value:_.security?.botIdEnabled??!1,dismissedAt:Date.now()}]})}catch(e){if("production"!==m.VERCEL_ENV)throw e}}},[h.BOTID_FREE_PROMO_TOAST_KEY,d.removeToastByKey,S,v?.id,_,x]),N=(0,a.useCallback)(async()=>{if(h.BOTID_FREE_PROMO_TOAST_KEY&&_?.id&&v?.id&&s&&(!x.is||x.has)){d.removeToastByKey(h.BOTID_FREE_PROMO_TOAST_KEY),O.analytics.track(p.AnalyticsEvent.BOTID_PROMO_TOAST_CLICKED,{teamId:v.id,projectId:_.id});try{await (0,E.updateProjectSettingsV9)(_.id,v.id,{dismissedToasts:[{key:h.BOTID_FREE_PROMO_TOAST_KEY,action:"accept",value:_.security?.botIdEnabled??!1,dismissedAt:Date.now()}]})}catch(e){if("production"!==m.VERCEL_ENV)throw e}finally{s.includes("firewall/configure")||r.push(`/${T}/${S}/firewall/configure#bot-management`)}}},[r.push,S,T,v?.id,h.BOTID_FREE_PROMO_TOAST_KEY,_,d.removeToastByKey,s,x]);return(0,a.useEffect)(()=>{!I||j.current||w||P.loading||P.redeemedCoupon||P?.subscriptionId?.type!=="vercel"||!_||!v||!h.BOTID_FREE_PROMO_TOAST_KEY||!s||x.is&&!x.has||!C||!D||v.billing?.plan==="hobby"||s.includes("firewall/configure")||(d.message({key:h.BOTID_FREE_PROMO_TOAST_KEY,preserve:!0,fullBleed:!0,containerClassName:"!p-0 [&_[class*=actionsContainer]]:hidden [&_#toast-message] !shadow-none",text:(0,i.jsx)(y,{onDismiss:M,onAccept:N})}),O.analytics.track(p.AnalyticsEvent.BOTID_PROMO_TOAST_VIEWED,{teamId:v.id,projectId:_.id}),j.current=!0)},[h.BOTID_FREE_PROMO_TOAST_KEY,I,D,C,P,P?.subscriptionId,w,x,N,M,s,_,S,v,T,d.message]),null}])}]);

//# debugId=5a42682d-fbd9-6d0f-71b7-3e7299bd390e
//# sourceMappingURL=3d6f705da09cd90b.js.map