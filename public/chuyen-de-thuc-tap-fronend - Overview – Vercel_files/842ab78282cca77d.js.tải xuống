;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="887f3ac7-dc82-a2e1-6a8d-4302b7d49494")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1857199,114843,e=>{"use strict";var t=e.i(31889),r=e.i(6695816),n=e.i(7917902),a=e.i(1717203),s=e.i(7557283),i=e.i(8158658),l=e.i(7909933),o=e.i(277234),d=e.i(4244280),c=e.i(5338940),u=e.i(2466450);e.i(6483798);var h=e.i(8287059),g=e.i(3607582),m=e.i(5088860);let x=new Set(["expired","canceled"]);e.s(["default",0,function(){let{team:e}=(0,n.useAccount)(),{data:p}=function(e,t){let{isReady:r,team:n}=(0,c.useTeam)();return(0,l.default)(()=>{if(!r||!e&&n?.billing?.status!=="expired")return null;let t=new URLSearchParams;return n&&t.set("teamId",n.id),`${d.API_STRIPE_BALANCE_DUE}?${t}`},e=>(0,o.fetchAPI)(e,{throwOnHTTPError:!0}),void 0)}(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{team:t}=(0,n.useAccount)();return(!e||t?.billing?.plan!=="enterprise")&&t?.billing?.status==="overdue"}()),[j,f]=(0,r.useState)(null),{can:b,isLoading:y}=(0,a.default)(),v=(0,h.useOpenUpgradeModal)();if(e?.billing?.plan!=="pro"||!x.has(e.billing.status??"")||y)return null;let C=b(s.Action.Update,s.Resource.Team),w=p?.balanceDue?(0,u.formatCurrency)(p.balanceDue,p.currency):void 0;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.ProductBanner,{actions:(()=>{if(C)return(0,t.jsx)(g.BannerAction,{onClick:()=>v({source:"expired-plan-banner-cta",forceImmediateUpgrade:!0,teamHint:e?.id}),children:"Reactivate Pro"})})(),name:`${e.id}-plan-expired`,children:(0,t.jsxs)("span",{className:"text-gray-1000",children:["Your account has been suspended. ",C?"Would you like to reactivate your subscription?":"To continue collaborating with team members please contact your account owner to reactivate your subscription."]})}),(0,t.jsx)(i.default,{active:"add-payment-method"===j,description:`Your account is ${w} overdue. Please add a payment method to pay your account balance prior to changing your plan.`,onAdded:()=>f("downgrade"),onCancel:()=>f("downgrade"),title:"Pay Overdue Balance"})]})}],1857199),e.s(["HobbyTeam",0,function(){let{team:e}=(0,n.useAccount)(),a=(0,h.useOpenUpgradeModal)(),s=(0,r.useMemo)(()=>!!e&&e.billing?.plan==="hobby"&&!e.createdDirectToHobby&&e.softBlock?.reason!=="FAIR_USE_LIMITS_EXCEEDED"&&(!e.merge||"target"!==e.merge.type)&&null===e.billing.cancelation,[e]);return e&&s?(0,t.jsx)(m.ProductBanner,{actions:(0,t.jsx)(g.BannerAction,{onClick:()=>a({source:"hobby-team-banner-cta",forceImmediateUpgrade:!0}),children:"Upgrade Now"}),dismissible:!0,name:`${e.id}-hobby-team`,children:(0,t.jsx)("span",{className:"text-gray-1000",children:"Your Pro Trial has expired. Would you like to upgrade to Pro?"})}):null}],114843)},82656,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 2.38401C2.64568 2.28957 2.84672 2.17097 3.09632 2.0516C3.67556 1.77457 4.50202 1.5 5.5 1.5C6.36835 1.5 7.01666 1.91731 7.76416 2.47582C7.81395 2.51302 7.86487 2.55137 7.91678 2.59046C8.2325 2.82825 8.58515 3.09385 8.94862 3.30046C9.38732 3.54983 9.90016 3.75 10.5 3.75C11.4771 3.75 12.5081 3.46807 13.2589 3.20897C13.3421 3.18026 13.4226 3.15157 13.5 3.12321V8.81917C13.366 8.88807 13.1923 8.96944 12.9825 9.05151C12.4127 9.27435 11.5825 9.49998 10.5568 9.49998C9.65149 9.49998 9.11435 9.17173 8.42753 8.74001L8.40495 8.72582C7.70405 8.28516 6.85285 7.75 5.5 7.75C4.25466 7.75 3.22521 8.08445 2.5 8.42432V2.38401ZM2.5 10.134V15.25V16H1V15.25V2V1.65215L1.26554 1.42746L1.75 2C1.26554 1.42746 1.26576 1.42728 1.26599 1.42709L1.26646 1.42668L1.26752 1.42579L1.27005 1.42367L1.27679 1.41807L1.29689 1.4017C1.31321 1.38857 1.33537 1.37107 1.36321 1.34985C1.41885 1.30743 1.49735 1.24998 1.59739 1.18261C1.79715 1.04807 2.08466 0.872716 2.44914 0.698399C3.17671 0.350428 4.22526 0 5.5 0C6.90437 0 7.9038 0.707694 8.66198 1.27418C8.72015 1.31765 8.77638 1.3599 8.831 1.40094C9.15213 1.64223 9.41729 1.84147 9.68987 1.99641C9.99337 2.16892 10.2476 2.25 10.5 2.25C11.2275 2.25 12.0715 2.03193 12.7695 1.79103C13.1109 1.67321 13.4025 1.55523 13.6079 1.46707C13.7104 1.42308 13.7908 1.38677 13.8446 1.36197C13.8714 1.34957 13.8916 1.34007 13.9044 1.33395L13.9182 1.32736L13.9206 1.32621L13.9208 1.32612L13.9209 1.32608L13.9209 1.32605L13.9211 1.32597L15 0.798502V2V9.24998V9.6392L14.6817 9.86326L14.25 9.24998C14.6817 9.86326 14.6815 9.86342 14.6813 9.86359L14.6808 9.86394L14.6797 9.86471L14.6771 9.86653L14.6702 9.87124L14.6502 9.88477C14.6341 9.89556 14.6123 9.90981 14.5851 9.92701C14.5307 9.96141 14.4542 10.0077 14.3569 10.0618C14.1624 10.1699 13.8834 10.3098 13.5289 10.4485C12.8202 10.7256 11.8039 11 10.5568 11C9.20395 11 8.35275 10.4648 7.65185 10.0242L7.62928 10.01C6.94245 9.57826 6.40532 9.25 5.5 9.25C4.50202 9.25 3.67557 9.52457 3.09633 9.8016C2.84672 9.92098 2.64568 10.0396 2.5 10.134ZM2.23212 10.3245C2.23169 10.3249 2.23159 10.325 2.23184 10.3248L2.23212 10.3245Z" fill="currentColor"/>');e.s(["Flag",0,t])},1515636,4578256,e=>{"use strict";var t=e.i(31889),r=e.i(9722978);let n={gray:"var(--ds-blue-600)",warning:"var(--ds-amber-700)",error:"var(--ds-red-700)",success:"var(--ds-blue-600)"};function a(e){let a=e.variant,s=(0,r.clsx)("focus-visible:!shadow-[var(--banner-focus-color)] focus-visible:shadow-focus-ring rounded-xs cursor-pointer bg-transparent py-1 font-sans font-medium underline border-none underline-offset-[5px] outline-none px-0 h-6 my-[-1px]","gray"===a&&"hover:text-gray-900 hover:decoration-gray-500 decoration-gray-500 text-gray-1000","warning"===a&&"hover:text-amber-900 hover:decoration-amber-500 decoration-amber-400 text-amber-1000","error"===a&&"hover:text-red-900 hover:decoration-red-500 decoration-red-400 text-red-1000","success"===a&&"hover:text-blue-900 hover:decoration-blue-500 decoration-blue-400 text-blue-1000"),i={"--banner-focus-color":n[a],"--tw-shadow":"0 0 0 2px var(--ds-background-100), 0 0 0 4px var(--banner-focus-color) !important"};return"href"in e?(0,t.jsx)("a",{className:s,href:e.href,style:i,children:e.children}):(0,t.jsx)("button",{className:s,onClick:e.onClick,style:i,type:"button",children:e.children})}e.s(["ProjectBannerLink",0,a],4578256),e.s(["ProjectBanner",0,function(e){let{variant:n="gray",icon:s,label:i,callToAction:l}=e;return(0,t.jsx)("aside",{className:(0,r.clsx)("flex z-30 gap-x-2 justify-center items-center py-2 leading-5 border-t border-b min-h-[40px] translate-y-[-1px] text-[14px]","gray"===n&&"text-gray-900 bg-gray-100 border-gray-400","warning"===n&&"text-amber-900 bg-amber-100 border-amber-400","error"===n&&"text-red-900 bg-red-100 border-red-400","success"===n&&"text-blue-900 bg-blue-100 border-blue-400"),children:(0,t.jsxs)("div",{className:"flex flex-col gap-2 px-6 w-full md:justify-center md:flex-row md:items-center",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("div",{"aria-hidden":!0,className:"shrink-0",children:s}),(0,t.jsx)("p",{children:i})]}),(0,t.jsxs)("div",{className:"ml-6 md:ml-0",children:[l&&"onClick"in l?(0,t.jsx)(a,{onClick:l.onClick,variant:n,children:l.label}):null,l&&"href"in l?(0,t.jsx)(a,{href:l.href,variant:n,children:l.label}):null]})]})})}],1515636)},1335111,2295268,e=>{"use strict";var t=e.i(31889),r=e.i(1515636),n=e.i(60582),a=e.i(6695816),s=e.i(8078031);let i=(0,a.memo)(function(e){let{add:t,remove:r}=(0,a.useContext)(s.SideBannerContext),n=(0,a.useMemo)(()=>({}),[e.heading,e.body,e.badge,e.variant,e.priority,e.action?.label,!!e.onDismiss]),i=(0,a.useRef)(e);return i.current=e,(0,a.useEffect)(()=>{let e={...i.current};return e.action&&"onClick"in e.action&&(e.action.onClick=()=>{i.current.action&&"onClick"in i.current.action&&i.current.action?.onClick()}),e.onDismiss&&(e.onDismiss=()=>{i.current.onDismiss?.()}),t(e),()=>r(e)},[t,r,n]),null});var l=e.i(6143247);let o=(0,a.createContext)(!1);function d(){return(0,a.useContext)(o)}e.s(["StickyBannerContainer",0,function(e){let{children:r,className:a}=e;return(0,t.jsx)(o.Provider,{value:!0,children:(0,t.jsx)("div",{className:(0,l.cn)("empty:hidden","[&>*:not(:first-child)]:border-t-0",!n.IS_DASH&&"sticky top-[var(--collapsed-navbar-height)] z-40",a),children:r})})},"useIsInsideStickyBannerContainer",0,d],2295268),e.s(["CompatBanner",0,function(e){let{onDismiss:a,priority:s,sticky:l=!0,...o}=e,c=d();return n.IS_DASH?(0,t.jsx)(i,{heading:o.heading??"Action Required",body:o.label,variant:o.variant&&"gray"!==o.variant?o.variant:"default",onDismiss:a,action:o.callToAction,priority:s}):l&&!c?(0,t.jsx)("div",{className:"sticky max-h-fit top-[var(--collapsed-navbar-height)] z-[75]",children:(0,t.jsx)(r.ProjectBanner,{...o})}):(0,t.jsx)(r.ProjectBanner,{...o})}],1335111)},7994132,e=>{"use strict";var t=e.i(31889),r=e.i(57106);function n(e){let{discontinueDate:t}=e,r=Date.now();return void 0!==t&&t.getTime()<=r}e.s(["WarningMessage",0,function(e){let{selectedOption:{range:a,discontinueDate:s,link:i}}=e;if(s){let e=new Intl.DateTimeFormat("en-US",{dateStyle:"long"}).format(s),l=i?(0,t.jsx)(r.Link,{external:!0,href:i,type:"highlight",children:e}):(0,t.jsx)(t.Fragment,{children:e});return(0,t.jsx)(t.Fragment,{children:n({discontinueDate:s})?(0,t.jsxs)(t.Fragment,{children:["Node.js ",a," is discontinued since ",l,". Please upgrade to create new builds."]}):(0,t.jsxs)(t.Fragment,{children:["Node.js ",a," is End of Life and will not receive any further updates. New builds will be disabled on ",l,"."]})})}},"getNodeVersions",0,function(){return[{major:24,range:"24.x"},{major:22,range:"22.x"},{major:20,range:"20.x"},{major:18,range:"18.x",discontinueDate:new Date("2025-09-01"),link:"/changelog/node-js-18-is-being-deprecated"},{major:16,range:"16.x",discontinueDate:new Date("2025-01-31"),link:"/changelog/node-js-16-deprecation"},{major:14,range:"14.x",discontinueDate:new Date("2023-08-15"),link:"/changelog/node-js-14-and-16-are-being-deprecated"},{major:12,range:"12.x",discontinueDate:new Date("2022-10-03"),link:"/changelog/node-js-12-is-being-deprecated"},{major:10,range:"10.x",discontinueDate:new Date("2021-04-20"),link:"/changelog/node-js-10-is-being-deprecated"},{major:8,range:"8.10.x",discontinueDate:new Date("2020-01-06")}]},"isDiscontinued",0,n])},5339950,e=>{"use strict";var t=e.i(6695816),r=e.i(7553931);e.s(["useIsFixesPage",0,function(){let e=(0,r.usePathname)();return(0,t.useMemo)(()=>/^(?:\/[^\/]+){2}\/fix(?:es)?(?:\/|$)/i.test(e||""),[e])}])},2797446,e=>{e.v({buttonContainer:"index-module__p9DpLa__buttonContainer"})},6298710,e=>{"use strict";var t=e.i(31889),r=e.i(6695816),n=e.i(675543),a=e.i(1857199),s=e.i(114843),i=e.i(7553931),l=e.i(7432042),o=e.i(762945),d=e.i(1335111),c=e.i(6060673),u=e.i(7917902),h=e.i(9668517),g=e.i(7994132);let m=(0,l.default)("30d");function x(){let e,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{team:s}=(0,u.useAccount)(),l=(e=(0,h.useTeamSlug)(),n=(0,i.usePathname)(),(0,r.useMemo)(()=>{if(!n||!e)return!1;let t=n.split("/").filter(Boolean),r=t.indexOf(e);return -1!==r&&(t.length===r+1||"~"===t[r+1])},[n,e])),o=s?.membership?.role;return s&&l&&("OWNER"===o||"MEMBER"===o)?(0,t.jsx)(p,{...a}):null}function p(e){let{onOpenModal:r}=e,n=(0,i.useRouter)(),a=(0,h.useTeamSlug)(),{data:s=[]}=(0,c.useTeamProjects)({deprecated:"true",limit:String(51)}),l=(0,g.getNodeVersions)(),u=l[0].major,x=l.find(e=>void 0!==e.discontinueDate),p=x?.major,j=x?.discontinueDate?.toLocaleDateString("en-US",{dateStyle:"long"});if(x?.discontinueDate&&Date.now()-x.discontinueDate.getTime()>m)return null;let f=s.length>50,b=f?s.slice(0,50):s,y=f?50:s.length;if(0===b.length)return null;let v=f?`You have more than ${y} projects using Node.js ${p} or older. New builds will fail starting ${j}.`:`You have ${y} ${1===y?"project":"projects"} using Node.js ${p} or older. New builds will fail starting ${j}.`;return(0,t.jsx)(d.CompatBanner,{variant:"warning",icon:(0,t.jsx)(o.Warning,{size:16}),label:v,callToAction:{label:`Upgrade to Node.js ${u}`,onClick:()=>{r?r():a&&n.push(`/${a}#upgrade-deprecated-nodejs-versions`)}}})}var j=e.i(2064047),f=e.i(455575),b=e.i(3869281),y=e.i(6891161),v=e.i(5255926),C=e.i(7087273),w=e.i(109803),S=e.i(277234),N=e.i(4244280),k=e.i(8042625);async function M(e,t){return(0,S.fetchAPI)(`${(0,N.API_PROJECTS_VERSION)("v10")}/node-version${(0,k.encode)({teamId:e})}`,{method:"PATCH",body:JSON.stringify(t),throwOnHTTPError:!0})}var A=e.i(9771394);let D=e=>{let{project:r,selected:n,toggle:a,canUpdateProjects:s,isPlaceholder:i=!1}=e;return i||!r?(0,t.jsx)(j.Entity,{left:(0,t.jsx)(v.Skeleton,{height:16,width:16}),children:(0,t.jsxs)("div",{className:"flex gap-4 flex-1 items-center",children:[(0,t.jsx)("div",{className:"mr-4",children:(0,t.jsx)(v.Skeleton,{height:16,width:120})}),(0,t.jsxs)("div",{className:"flex ml-auto gap-4 whitespace-nowrap",children:[(0,t.jsx)(v.Skeleton,{height:16,width:80}),(0,t.jsx)(v.Skeleton,{height:16,width:80})]})]})}):(0,t.jsx)(j.Entity,{left:(0,t.jsx)(b.Checkbox,{checked:!!n[r.id],onChange:e=>{e.stopPropagation(),a(r)},"aria-label":`Select ${r.name}`,disabled:!s}),onClick:()=>{s&&a(r)},children:(0,t.jsxs)("div",{className:"flex gap-4 flex-1 items-center",children:[(0,t.jsx)("div",{className:"mr-4",children:(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",children:r.name})}),(0,t.jsxs)("div",{className:"flex ml-auto gap-4 whitespace-nowrap",children:[(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900",children:["Node.js ",r.displayCurrentVersion]}),(0,t.jsxs)("p",{className:"text-copy-14 text-green-900",children:["Node.js ",r.displayTargetVersion]})]})]})})};function T(e){let{active:n,onClose:a,allowEmpty:s=!1}=e,i=(0,h.useTeamSlug)(),{data:l=[],mutate:o,isLoading:d}=(0,c.useTeamProjects)({deprecated:"true",limit:String(51)}),[m,x]=(0,r.useState)(!1),{team:p}=(0,u.useAccount)(),S=l.length>50,N=S?l.slice(0,50):l,k=(0,r.useRef)(null),T=(0,r.useRef)(!1),P=(0,g.getNodeVersions)(),E=P[0].major,L=`${E}.x`,$=(0,r.useMemo)(()=>N.map(e=>{let t=e.nodeVersion??"";return{id:e.id,name:e.name,currentVersion:t,targetVersion:L,displayCurrentVersion:t.replace(".x",""),displayTargetVersion:L.replace(".x",""),project:e}}).sort((e,t)=>e.name.localeCompare(t.name)),[N,L]),O=$.length,{amountSelected:B,areAllSelected:I,isSelectAllMode:V,selected:R,setSelected:_,setIsSelectAllMode:U,toggle:F,toggleAll:H}=function(e,t){let[n,a]=(0,r.useState)({}),[s,i]=(0,r.useState)(!1),l=Object.keys(n).length,o=l>0&&l===e.length,d=(0,r.useCallback)(e=>{let t=e.id;i(!1),a(r=>{if(!r[t])return{...r,[t]:e};{let e={...r};return delete e[t],e}})},[]),c=(0,r.useCallback)(()=>{o&&(!t||s)?(a({}),i(!1)):(a(Object.fromEntries(e.map(e=>[e.id,e]))),i(t))},[o,s,e,t]);return{amountSelected:l,areAllSelected:o,isSelectAllMode:s,selected:n,setSelected:a,setIsSelectAllMode:i,toggle:d,toggleAll:c}}($,S);(0,r.useEffect)(()=>{d||T.current||(k.current=O,T.current=!0)},[d,O]),(0,r.useEffect)(()=>{s||d||null===k.current||!(k.current>0)||0!==O||a()},[s,d,O,a]);let z=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i&&(t||0!==e.length)){x(!0);try{let{successfulUpdates:r,unauthorizedUpdates:n,failedUpdates:a}=await M(i,{nodeVersion:L,applyToAllProjects:t,projects:t?void 0:e.map(e=>e.id)});if(r.length>0){let e=t?`Successfully upgraded all deprecated projects to Node.js ${E}`:`Successfully upgraded ${r.length} project${1===r.length?"":"s"} to Node.js ${E}`;f.toasts.success(e),await o()}n.length>0&&f.toasts.error(`You don't have permission to upgrade ${n.length} project${1===n.length?"":"s"}`),a.length>0&&f.toasts.error(`Failed to upgrade ${a.length} project${1===a.length?"":"s"}. Please try again.`),0===r.length&&0===n.length&&0===a.length&&f.toasts.message("All projects are already up to date")}catch(e){f.toasts.error(e instanceof Error?e.message:"An error occurred during the upgrade process. Please try again.")}_({}),U(!1),x(!1)}},W=p?.membership?.role,J="OWNER"===W||"MEMBER"===W;if(!n||!s&&!d&&0===O&&(null===k.current||0===k.current))return(0,t.jsx)(t.Fragment,{});if(s){if(!J)return(0,t.jsxs)(y.Modal.Modal,{active:n,onClickOutside:a,width:800,children:[(0,t.jsxs)(y.Modal.Body,{children:[(0,t.jsx)(y.Modal.Header,{children:(0,t.jsx)(y.Modal.Title,{children:"Upgrade Deprecated Node.js Versions"})}),(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-copy-14 text-gray-700",children:"Only members with an Owner or Member role can upgrade the Node.js version."})})]}),(0,t.jsx)(y.Modal.Actions,{children:(0,t.jsx)(y.Modal.Action,{onClick:a,type:"secondary",children:"Close"})})]});if(!d&&0===O)return(0,t.jsxs)(y.Modal.Modal,{active:n,onClickOutside:a,width:800,children:[(0,t.jsxs)(y.Modal.Body,{children:[(0,t.jsx)(y.Modal.Header,{children:(0,t.jsx)(y.Modal.Title,{children:"Upgrade Deprecated Node.js Versions"})}),(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-copy-14 text-gray-600",children:"All projects are using a supported version of Node.js."})})]}),(0,t.jsx)(y.Modal.Actions,{children:(0,t.jsx)(y.Modal.Action,{onClick:a,type:"secondary",children:"Close"})})]})}let Y=P.find(e=>void 0!==e.discontinueDate)?.discontinueDate?.toLocaleDateString("en-US",{dateStyle:"long"}),q=async()=>{let e=Object.values(R),t=V&&S;await z(e,t)};return(0,t.jsxs)(y.Modal.Modal,{active:n,onClickOutside:a,width:800,children:[(0,t.jsxs)(y.Modal.Body,{children:[(0,t.jsxs)(y.Modal.Header,{children:[(0,t.jsx)(y.Modal.Title,{children:"Upgrade Deprecated Node.js Versions"}),(0,t.jsx)(y.Modal.Subtitle,{children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900",children:["These projects use a deprecated version of Node.js. They do not receive security updates and new builds will fail starting"," ",Y,". Upgrade to Node.js ",E," to prevent any errors. A new deployment is required for your changes to take effect."," ",(0,t.jsxs)("a",{href:"https://vercel.com/changelog/node-js-18-is-being-deprecated",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-800",children:["Learn more",(0,t.jsx)(w.External,{size:12})]})]}),S&&(0,t.jsxs)("p",{className:"text-copy-14 text-amber-900",children:["Showing ",50," most recently updated projects â€¢ Select all to upgrade every project"]})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex flex-row items-center justify-between flex-1 px-4 py-3 bg-background-200 rounded-t border border-b-0 border-gray-200",children:(0,t.jsx)(v.Skeleton,{show:d,height:20,autoSize:!0,children:(0,t.jsxs)(b.Checkbox,{"aria-label":"Select all",checked:V||!S&&I,indeterminate:S&&I&&!V,className:"text-gray-700 gap-2 text-sm",disabled:0===O||d||!J,onChange:H,children:[0===B?"Select all":V&&S?"All projects selected":`${B} selected`,B>0&&!V?` of ${O} shown`:S&&!V?" 50+ projects":S?"":` (${O})`]})})}),(0,t.jsx)(C.Scroller,{overflow:"y",width:"100%",className:"border border-gray-200 rounded rounded-t-none max-h-[350px]",children:(0,t.jsx)(j.Entity.List,{className:"first:rounded-none",children:(0,t.jsx)(A.PlaceholderContext.Provider,{value:d,children:d?[1,2,3,4,5].map(e=>(0,t.jsx)(D,{selected:R,toggle:F,canUpdateProjects:J,isPlaceholder:!0},`skeleton-${e}`)):$.map(e=>(0,t.jsx)(D,{project:e,selected:R,toggle:F,canUpdateProjects:J},e.id))})})})]}),!J&&(0,t.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded border",children:(0,t.jsx)("p",{className:"text-copy-14 text-gray-700",children:"Only members with an Owner or Member role can bulk upgrade Node.js"})})]}),(0,t.jsxs)(y.Modal.Actions,{children:[(0,t.jsx)(y.Modal.Action,{onClick:a,type:"secondary",children:"Close"}),J&&(0,t.jsx)(v.Skeleton,{show:d,children:(0,t.jsx)(y.Modal.Action,{onClick:q,disabled:0===B||m,loading:m,children:0===B?"Upgrade":V&&S?"Upgrade all projects":`Upgrade ${B} ${1===B?"Project":"Projects"}`})})]})]})}var P=e.i(5339950);function E(){let[e,n]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!1),l=(0,i.useRouter)(),o=(0,r.useCallback)(e=>{s(e),e&&n(!0)},[]);return((0,r.useEffect)(()=>{let e=()=>{o("#upgrade-deprecated-nodejs-versions"===window.location.hash)};return e(),window.addEventListener("hashchange",e),()=>{window.removeEventListener("hashchange",e)}},[o]),(0,P.useIsFixesPage)())?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x,{onOpenModal:()=>n(!0)}),e?(0,t.jsx)(T,{active:e,onClose:()=>{n(!1),a&&"#upgrade-deprecated-nodejs-versions"===window.location.hash&&l.replace(window.location.pathname)},allowEmpty:a}):null]})}var L=e.i(57106),$=e.i(4004502),O=e.i(5338940),B=e.i(7722264),I=e.i(8440968),V=e.i(1717203),R=e.i(7557283),_=e.i(6352514),U=e.i(4759942),F=e.i(8132352),H=e.i(4361526),z=e.i(7525322);e.i(6483798);var W=e.i(8287059),J=e.i(2797446);function Y(){let{isReady:e,mutate:n,team:a}=(0,O.useTeam)(),{can:s}=(0,V.default)(),[i,l]=(0,r.useState)(null),[o,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!0),h=(0,W.useUpgradeModalIsOpen)(),g=(0,r.useMemo)(()=>{if(!e||a?.membership?.role==="VIEWER"||a?.membership?.role==="VIEWER_FOR_PLUS")return!1;let t=a?.billing?.address?.line1??!1,r=a?.billing?.address?.country??!1,n=a?.billing?.address?.postalCode??!1,s=a?.billing?.address?.city??!1;return!n||!s||!r||!t},[a,e]);if(!function(e){let{plan:t,teamReady:r,hasEmptyAddress:n,upgradeModalIsOpen:a}=e;return"pro"===t&&r&&n&&!a}({plan:a?.billing?.plan??"",teamReady:e,hasEmptyAddress:g,upgradeModalIsOpen:h}))return null;let m=s(R.Action.Update,R.Resource.BillingAddress),x=async e=>{l(null),d(!0);let t=(0,z.validateAddressFormData)(e);if((0,B.isError)(t))return void l(`Invalid billing address. ${t.message}`);if(!a?.id)return void l("Team not found.");try{await (0,H.saveBillingDetails)(a.id,t),await n().catch(()=>{})}catch(e){e instanceof I.ApiError?l(e.message):l("There was a problem saving your billing address")}finally{d(!1),u(!1)}},p=()=>{u(!c),U.analytics.track(_.AnalyticsEvent.DISMISSED_ADDRESS_MODAL,{teamId:a?.id})};return(0,t.jsx)(y.Modal.Modal,{active:c,onClickOutside:()=>p(),children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),x(new FormData(e.currentTarget))},children:[(0,t.jsxs)(y.Modal.Body,{children:[(0,t.jsx)(y.Modal.Header,{children:(0,t.jsx)(y.Modal.Title,{children:"Billing Address Required"})}),m?(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-5 flex-initial",children:[(0,t.jsx)("p",{className:"text-copy-14",children:"Vercel now requires your billing address associated with your payment method for compliance reasons."}),(0,t.jsx)("p",{className:"text-copy-14",children:"Failure to provide the billing address may result in an inability to access portions of Vercel's services."}),(0,t.jsx)(F.FullBillingAddressForm,{disabled:!1})]}):(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-7 flex-initial",children:[(0,t.jsx)("p",{className:"text-copy-14",children:"Our records indicate that your team does not have a valid billing address on file."}),(0,t.jsxs)("p",{className:"text-copy-14",children:["Please contact"," ",(0,t.jsx)(L.Link,{href:`/${a?.slug}/~/settings/members`,onClick:()=>u(!1),variant:"blend",children:"your team owner or a team member with the billing role"})," ","and ask them to update your team's billing address in order to avoid losing access to portions of Vercel's services."]})]})]}),i?(0,t.jsx)(y.Modal.Error,{children:i}):null,(0,t.jsx)(y.Modal.Actions,{className:m?"":J.default.buttonContainer,children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.Modal.Action,{"data-testid":(0,$.tid)("billing-address-modal","add-later"),onClick:()=>p(),type:"secondary",children:"Add Later"}),(0,t.jsx)(y.Modal.Action,{buttonType:"submit",loading:o,children:"Confirm"})]}):(0,t.jsx)(y.Modal.Action,{onClick:()=>u(!c),children:"Dismiss"})})]})})}var q=e.i(8633387),Z=e.i(82656),K=e.i(6942035);function X(e){try{return localStorage.getItem(e)}catch{return null}}function G(e,t){try{return localStorage.setItem(e,t),!0}catch{return!1}}function Q(){return(0,t.jsx)(L.Link,{href:"/accountrecovery?userType=existing&problemType=blocked",className:"mx-1 text-amber-1000 hover:text-amber-900 transition-colors",target:"_blank",rel:"noopener noreferrer",children:"this form"})}function ee(){let{team:e}=(0,u.useAccount)(),{data:n}=(0,q.useDashboardProject)(),a=(0,r.useMemo)(()=>n?.internalRoutes?.filter(e=>"status"in e&&451===e.status)||[],[n]),s=(0,r.useMemo)(()=>e?.blocked?"This team has been flagged for abuse.":n?.abuse?.block?"This project has been flagged for abuse.":a.length>0?"This project has paths that have been flagged as abuse.":null,[e,n,a]),i=!!n?.abuse?.block,l=a.length>0,{isDismissed:o,dismiss:c}=function(e,t){let[n,a]=(0,r.useState)(0),s=(t?.length??0)>0,i=(0,r.useMemo)(()=>s?new Set(t.map(e=>btoa(JSON.stringify(e)))):new Set,[t,s]),l=(0,r.useMemo)(()=>s&&e?`dismissed-abuse-banner:${e}`:null,[e,s]),o=(0,r.useMemo)(()=>{if(!l)return new Set;let e=X(l);if(!e)return new Set;try{let t=JSON.parse(e);return new Set(Array.isArray(t)?t:[])}catch{return new Set}},[l,n]);(0,r.useEffect)(()=>{if(!l)return;let e=X(l);if(e)try{let t=JSON.parse(e),r=new Set(Array.isArray(t)?t:[]);if(0===r.size)return;let n=new Set,a=!1;for(let e of r)i.has(e)?n.add(e):a=!0;a&&G(l,JSON.stringify(Array.from(n)))}catch{}},[l,i]);let d=(0,r.useMemo)(()=>{if(!s)return!1;for(let e of i)if(!o.has(e))return!0;return!1},[i,o,s]);return{isDismissed:(0,r.useMemo)(()=>!!s&&!!l&&!d,[s,l,d]),dismiss:(0,r.useCallback)(()=>{s&&l&&G(l,JSON.stringify(Array.from(new Set([...o,...i]))))&&a(Date.now())},[l,i,o,s])}}(n?.id,a);return e&&s&&(!l||!o||i)?(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.CompatBanner,{icon:(0,t.jsx)(Z.Flag,{className:"shrink-0"}),label:(0,t.jsxs)("span",{className:"flex flex-wrap items-center",children:[s," Please complete",(0,t.jsx)(Q,{}),"for further assistance."]}),sticky:!1,variant:"warning",priority:3}),l?(0,t.jsx)("button",{type:"button","aria-label":"Dismiss banner",onClick:c,className:"absolute right-3 top-1/2 -translate-y-1/2 z-40 p-1 rounded-xs bg-transparent border-none outline-none cursor-pointer text-amber-900 hover:text-amber-1000 focus-visible:shadow-[0_0_0_2px_var(--ds-background-100),0_0_0_4px_var(--ds-amber-600)]",children:(0,t.jsx)(K.Cross,{size:14})}):null]}):null}var et=e.i(2295268);e.s(["ProductBanners",0,function(e){let{children:i}=e;return(0,t.jsxs)(et.StickyBannerContainer,{children:[(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(n.ProTrialExpiring,{})}),(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(a.default,{})}),(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(s.HobbyTeam,{})}),(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(Y,{})}),(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(E,{})}),(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(ee,{})}),i]})}],6298710)}]);

//# debugId=887f3ac7-dc82-a2e1-6a8d-4302b7d49494
//# sourceMappingURL=6b0e105f23b39a89.js.map