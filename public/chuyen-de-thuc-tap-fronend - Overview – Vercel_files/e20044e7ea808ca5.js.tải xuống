;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="fda80b84-df03-721b-c825-d9c014c69e10")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3559248,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={callServer:function(){return a.callServer},createServerReference:function(){return o.createServerReference},findSourceMapURL:function(){return s.findSourceMapURL}};for(var i in r)Object.defineProperty(n,i,{enumerable:!0,get:r[i]});let a=e.r(5998577),s=e.r(8120704),o=e.r(4994714)},9358876,e=>{"use strict";e.s(["pluralize",0,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=1!==t?`${e}s`:e;return n&&(r=`${t} ${r}`),r}])},6850581,e=>{"use strict";var t=e.i(31889),n=e.i(6695816),r=e.i(1344973),i=e.i(5797774);function a(e){let{date:n}=e,i=d(n);return(0,t.jsx)(r.Text,{as:"span",color:"gray-900",variant:"label-14",children:i})}function s(e){let{date:n}=e,r=Intl.DateTimeFormat().resolvedOptions().timeZone,i=c(n);return(0,t.jsxs)("div",{className:"flex flex-col gap-3 min-w-[300px] ",children:[(0,t.jsx)("div",{className:"flex flex-col gap-3",children:(0,t.jsx)("span",{className:"tabular-nums text-label-13 text-gray-900",children:i})}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(o,{date:n,zone:"UTC"}),(0,t.jsx)(o,{date:n,zone:r})]})]})}function o(e){let{date:n,zone:r}=e,i=new Date(n),a=new Intl.DateTimeFormat("en-US",{timeZone:r,timeZoneName:"short"}).formatToParts(i).find(e=>"timeZoneName"===e.type)?.value||r,s=i.toLocaleString("en-US",{timeZone:r,year:"numeric",month:"long",day:"numeric"}),o=i.toLocaleTimeString("en-US",{timeZone:r,hour:"2-digit",minute:"2-digit",second:"2-digit"});return(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"flex items-center justify-center h-4 px-1.5 bg-gray-200 rounded-xs",children:(0,t.jsx)("span",{className:"text-label-12-mono text-gray-900",children:a})}),(0,t.jsx)("span",{className:"text-label-13",children:s})]}),(0,t.jsx)("span",{className:"tabular-nums text-label-12-mono text-gray-900",children:o})]})}let l=[{unit:"year",ms:31536e6},{unit:"month",ms:2628e6},{unit:"day",ms:864e5},{unit:"hour",ms:36e5},{unit:"minute",ms:6e4},{unit:"second",ms:1e3}];function c(e){let[t,r]=(0,n.useState)("");return(0,n.useEffect)(()=>{let t=()=>{let t=function(e){let t=Math.abs(e),n=[];for(let{unit:e,ms:r}of l){let i=Math.floor(t/r);if((i>0||n.length>0)&&(n.push(`${i} ${e}${1!==i?"s":""}`),t%=r),3===n.length)break}return n.join(", ")}(new Date().getTime()-e);r(t?`${t} ago`:"Just now")};t();let n=setInterval(t,1e3);return()=>clearInterval(n)},[e]),t}function d(e){let[t,r]=(0,n.useState)("");return(0,n.useEffect)(()=>{if(!e)return void r("");let t=()=>{let t=new Date().getTime()-e,n=Math.floor(t/864e5),i=Math.floor(t/36e5),a=Math.floor(t/6e4);n>0?r(`${n} day${n>1?"s":""} ago`):i>0?r(`${i} hour${i>1?"s":""} ago`):a>0?r(`${a} minute${a>1?"s":""} ago`):r("Just now")};t();let n=setInterval(t,6e4);return()=>clearInterval(n)},[e]),t}e.s(["RelativeTimeCard",0,function(e){let{date:n,children:r,...o}=e,l=void 0===r?(0,t.jsx)(a,{date:n}):r;return n?(0,t.jsx)(i.ContextCard.Trigger,{content:(0,t.jsx)(s,{date:n}),...o,children:l}):l},"useShortTimeAgo",0,d,"useTimeAgo",0,c])},7921976,e=>{"use strict";var t=e.i(8620523);e.s(["isModifierPressed",0,e=>(0,t.isAppleDevice)()?e.metaKey:e.ctrlKey])},7735885,(e,t,n)=>{e.e,t.exports=function(){var e=[function(e,t){e.exports=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(2),s=n(8),o=n(0);e.exports=function(){var e,t;function n(e,t){var r=t.location,i=t.distance,a=t.threshold,o=t.maxPatternLength,l=t.caseSensitive,c=t.tokenSeparator,d=t.findAllMatches,u=t.minMatchCharLength,h=t.id,m=t.keys,f=t.shouldSort,p=t.getFn,g=t.sortFn,x=void 0===g?function(e,t){return e.score-t.score}:g,v=t.tokenize,y=t.matchAllTokens,b=t.includeMatches,j=t.includeScore,w=t.verbose;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.options={location:void 0===r?0:r,distance:void 0===i?100:i,threshold:void 0===a?.6:a,maxPatternLength:void 0===o?32:o,isCaseSensitive:void 0!==l&&l,tokenSeparator:void 0===c?/ +/g:c,findAllMatches:void 0!==d&&d,minMatchCharLength:void 0===u?1:u,id:void 0===h?null:h,keys:void 0===m?[]:m,includeMatches:void 0!==b&&b,includeScore:void 0!==j&&j,shouldSort:void 0===f||f,getFn:void 0===p?s:p,sortFn:x,verbose:void 0!==w&&w,tokenize:void 0!==v&&v,matchAllTokens:void 0!==y&&y},this.setCollection(e)}return e=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var n=this._prepareSearchers(e),r=n.tokenSearchers,i=n.fullSearcher,a=this._search(r,i),s=a.weights,o=a.results;return this._computeScore(s,o),this.options.shouldSort&&this._sort(o),t.limit&&"number"==typeof t.limit&&(o=o.slice(0,t.limit)),this._format(o)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),r=0,i=n.length;r<i;r+=1)t.push(new a(n[r],this.options));return{tokenSearchers:t,fullSearcher:new a(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=this.list,r={},i=[];if("string"==typeof n[0]){for(var a=0,s=n.length;a<s;a+=1)this._analyze({key:"",value:n[a],record:a,index:a},{resultMap:r,results:i,tokenSearchers:e,fullSearcher:t});return{weights:null,results:i}}for(var o={},l=0,c=n.length;l<c;l+=1)for(var d=n[l],u=0,h=this.options.keys.length;u<h;u+=1){var m=this.options.keys[u];if("string"!=typeof m){if(o[m.name]={weight:1-m.weight||1},m.weight<=0||m.weight>1)throw Error("Key weight has to be > 0 and <= 1");m=m.name}else o[m]={weight:1};this._analyze({key:m,value:this.options.getFn(d,m),record:d,index:l},{resultMap:r,results:i,tokenSearchers:e,fullSearcher:t})}return{weights:o,results:i}}},{key:"_analyze",value:function(e,t){var n=e.key,r=e.arrayIndex,i=void 0===r?-1:r,a=e.value,s=e.record,l=e.index,c=t.tokenSearchers,d=void 0===c?[]:c,u=t.fullSearcher,h=void 0===u?[]:u,m=t.resultMap,f=void 0===m?{}:m,p=t.results,g=void 0===p?[]:p;if(null!=a){var x=!1,v=-1,y=0;if("string"==typeof a){this._log("\nKey: ".concat(""===n?"-":n));var b=h.search(a);if(this._log('Full text: "'.concat(a,'", score: ').concat(b.score)),this.options.tokenize){for(var j=a.split(this.options.tokenSeparator),w=[],S=0;S<d.length;S+=1){var k=d[S];this._log('\nPattern: "'.concat(k.pattern,'"'));for(var T=!1,I=0;I<j.length;I+=1){var M=j[I],A=k.search(M),N={};A.isMatch?(N[M]=A.score,x=!0,T=!0,w.push(A.score)):(N[M]=1,this.options.matchAllTokens||w.push(1)),this._log('Token: "'.concat(M,'", score: ').concat(N[M]))}T&&(y+=1)}v=w[0];for(var C=w.length,_=1;_<C;_+=1)v+=w[_];v/=C,this._log("Token score average:",v)}var P=b.score;v>-1&&(P=(P+v)/2),this._log("Score average:",P);var L=!this.options.tokenize||!this.options.matchAllTokens||y>=d.length;if(this._log("\nCheck Matches: ".concat(L)),(x||b.isMatch)&&L){var E=f[l];E?E.output.push({key:n,arrayIndex:i,value:a,score:P,matchedIndices:b.matchedIndices}):(f[l]={item:s,output:[{key:n,arrayIndex:i,value:a,score:P,matchedIndices:b.matchedIndices}]},g.push(f[l]))}}else if(o(a))for(var R=0,D=a.length;R<D;R+=1)this._analyze({key:n,arrayIndex:R,value:a[R],record:s,index:l},{resultMap:f,results:g,tokenSearchers:d,fullSearcher:h})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var n=0,r=t.length;n<r;n+=1){for(var i=t[n].output,a=i.length,s=1,o=1,l=0;l<a;l+=1){var c=e?e[i[l].key].weight:1,d=(1===c?i[l].score:i[l].score||.001)*c;1!==c?o=Math.min(o,d):(i[l].nScore=d,s*=d)}t[n].score=1===o?s:o,this._log(t[n])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var n=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,function(e,t){if("object"===r(t)&&null!==t){if(-1!==n.indexOf(t))return;n.push(t)}return t})),n=null}var i=[];this.options.includeMatches&&i.push(function(e,t){var n=e.output;t.matches=[];for(var r=0,i=n.length;r<i;r+=1){var a=n[r];if(0!==a.matchedIndices.length){var s={indices:a.matchedIndices,value:a.value};a.key&&(s.key=a.key),a.hasOwnProperty("arrayIndex")&&a.arrayIndex>-1&&(s.arrayIndex=a.arrayIndex),t.matches.push(s)}}}),this.options.includeScore&&i.push(function(e,t){t.score=e.score});for(var a=0,s=e.length;a<s;a+=1){var o=e[a];if(this.options.id&&(o.item=this.options.getFn(o.item,this.options.id)[0]),i.length){for(var l={item:o.item},c=0,d=i.length;c<d;c+=1)i[c](o,l);t.push(l)}else t.push(o.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}],i(n.prototype,e),t&&i(n,t),n}()},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(3),a=n(4),s=n(7);e.exports=function(){var e,t;function n(e,t){var r=t.location,i=t.distance,a=t.threshold,o=t.maxPatternLength,l=void 0===o?32:o,c=t.isCaseSensitive,d=t.tokenSeparator,u=t.findAllMatches,h=t.minMatchCharLength;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.options={location:void 0===r?0:r,distance:void 0===i?100:i,threshold:void 0===a?.6:a,maxPatternLength:l,isCaseSensitive:void 0!==c&&c,tokenSeparator:void 0===d?/ +/g:d,findAllMatches:void 0!==u&&u,minMatchCharLength:void 0===h?1:h},this.pattern=this.options.isCaseSensitive?e:e.toLowerCase(),this.pattern.length<=l&&(this.patternAlphabet=s(this.pattern))}return e=[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,n=t.maxPatternLength,r=t.tokenSeparator;if(this.pattern.length>n)return i(e,this.pattern,r);var s=this.options,o=s.location,l=s.distance,c=s.threshold,d=s.findAllMatches,u=s.minMatchCharLength;return a(e,this.pattern,this.patternAlphabet,{location:o,distance:l,threshold:c,findAllMatches:d,minMatchCharLength:u})}}],r(n.prototype,e),t&&r(n,t),n}()},function(e,t){var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,i=new RegExp(t.replace(n,"\\$&").replace(r,"|")),a=e.match(i),s=!!a,o=[];if(s)for(var l=0,c=a.length;l<c;l+=1){var d=a[l];o.push([e.indexOf(d),d.length-1])}return{score:s?.5:1,isMatch:s,matchedIndices:o}}},function(e,t,n){var r=n(5),i=n(6);e.exports=function(e,t,n,a){for(var s=a.location,o=a.distance,l=void 0===o?100:o,c=a.threshold,d=a.findAllMatches,u=void 0!==d&&d,h=a.minMatchCharLength,m=void 0===s?0:s,f=e.length,p=void 0===c?.6:c,g=e.indexOf(t,m),x=t.length,v=[],y=0;y<f;y+=1)v[y]=0;-1!==g&&(p=Math.min(r(t,{errors:0,currentLocation:g,expectedLocation:m,distance:l}),p),-1!==(g=e.lastIndexOf(t,m+x))&&(p=Math.min(r(t,{errors:0,currentLocation:g,expectedLocation:m,distance:l}),p))),g=-1;for(var b=[],j=1,w=x+f,S=1<<x-1,k=0;k<x;k+=1){for(var T=0,I=w;T<I;)r(t,{errors:k,currentLocation:m+I,expectedLocation:m,distance:l})<=p?T=I:w=I,I=Math.floor((w-T)/2+T);w=I;var M=Math.max(1,m-I+1),A=u?f:Math.min(m+I,f)+x,N=Array(A+2);N[A+1]=(1<<k)-1;for(var C=A;C>=M;C-=1){var _=C-1,P=n[e.charAt(_)];if(P&&(v[_]=1),N[C]=(N[C+1]<<1|1)&P,0!==k&&(N[C]|=(b[C+1]|b[C])<<1|1|b[C+1]),N[C]&S&&(j=r(t,{errors:k,currentLocation:_,expectedLocation:m,distance:l}))<=p){if(p=j,(g=_)<=m)break;M=Math.max(1,2*m-g)}}if(r(t,{errors:k+1,currentLocation:m,expectedLocation:m,distance:l})>p)break;b=N}return{isMatch:g>=0,score:0===j?.001:j,matchedIndices:i(v,void 0===h?1:h)}}},function(e,t){e.exports=function(e,t){var n=t.errors,r=t.currentLocation,i=t.expectedLocation,a=t.distance,s=void 0===a?100:a,o=(void 0===n?0:n)/e.length,l=Math.abs((void 0===i?0:i)-(void 0===r?0:r));return s?o+l/s:l?1:o}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=-1,i=-1,a=0,s=e.length;a<s;a+=1){var o=e[a];o&&-1===r?r=a:o||-1===r||((i=a-1)-r+1>=t&&n.push([r,i]),r=-1)}return e[a-1]&&a-r>=t&&n.push([r,a-1]),n}},function(e,t){e.exports=function(e){for(var t={},n=e.length,r=0;r<n;r+=1)t[e.charAt(r)]=0;for(var i=0;i<n;i+=1)t[e.charAt(i)]|=1<<n-i-1;return t}},function(e,t,n){var r=n(0);e.exports=function(e,t){return function e(t,n,i){if(n){var a=n.indexOf("."),s=n,o=null;-1!==a&&(s=n.slice(0,a),o=n.slice(a+1));var l=t[s];if(null!=l)if(o||"string"!=typeof l&&"number"!=typeof l)if(r(l))for(var c=0,d=l.length;c<d;c+=1)e(l[c],o,i);else o&&e(l,o,i);else i.push(l.toString())}else i.push(t);return i}(e,t,[])}}],t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"u">typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}()},7520861,e=>{"use strict";var t=e.i(6695816),n=e.i(4178896),r=e.i(6690779),i=e.i(9450593),a=e.i(721526),s=e.i(6053993),o=e.i(9280211),l=e.i(5670136),c=e.i(3013066),d=e.i(31889),u="Collapsible",[h,m]=(0,r.createContextScope)(u),[f,p]=h(u),g=t.forwardRef((e,n)=>{let{__scopeCollapsible:r,open:a,defaultOpen:s,disabled:l,onOpenChange:u,...h}=e,[m=!1,p]=(0,i.useControllableState)({prop:a,defaultProp:s,onChange:u});return(0,d.jsx)(f,{scope:r,disabled:l,contentId:(0,c.useId)(),open:m,onOpenToggle:t.useCallback(()=>p(e=>!e),[p]),children:(0,d.jsx)(o.Primitive.div,{"data-state":w(m),"data-disabled":l?"":void 0,...h,ref:n})})});g.displayName=u;var x="CollapsibleTrigger",v=t.forwardRef((e,t)=>{let{__scopeCollapsible:r,...i}=e,a=p(x,r);return(0,d.jsx)(o.Primitive.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":w(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...i,ref:t,onClick:(0,n.composeEventHandlers)(e.onClick,a.onOpenToggle)})});v.displayName=x;var y="CollapsibleContent",b=t.forwardRef((e,t)=>{let{forceMount:n,...r}=e,i=p(y,e.__scopeCollapsible);return(0,d.jsx)(l.Presence,{present:n||i.open,children:e=>{let{present:n}=e;return(0,d.jsx)(j,{...r,ref:t,present:n})}})});b.displayName=y;var j=t.forwardRef((e,n)=>{let{__scopeCollapsible:r,present:i,children:l,...c}=e,u=p(y,r),[h,m]=t.useState(i),f=t.useRef(null),g=(0,s.useComposedRefs)(n,f),x=t.useRef(0),v=x.current,b=t.useRef(0),j=b.current,S=u.open||h,k=t.useRef(S),T=t.useRef(void 0);return t.useEffect(()=>{let e=requestAnimationFrame(()=>k.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.useLayoutEffect)(()=>{let e=f.current;if(e){T.current=T.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();x.current=t.height,b.current=t.width,k.current||(e.style.transitionDuration=T.current.transitionDuration,e.style.animationName=T.current.animationName),m(i)}},[u.open,i]),(0,d.jsx)(o.Primitive.div,{"data-state":w(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!S,...c,ref:g,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:S&&l})});function w(e){return e?"open":"closed"}e.s(["Content",0,b,"Root",0,g,"Trigger",0,v,"createCollapsibleScope",0,m])},8284460,e=>{"use strict";var t=e.i(6695816),n=e.i(6690779),r=e.i(6773559),i=e.i(6053993),a=e.i(4178896),s=e.i(9450593),o=e.i(9280211),l=e.i(7520861),c=e.i(3013066),d=e.i(6781954),u=e.i(31889),h="Accordion",m=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[f,p,g]=(0,r.createCollection)(h),[x,v]=(0,n.createContextScope)(h,[g,l.createCollapsibleScope]),y=(0,l.createCollapsibleScope)(),b=t.default.forwardRef((e,t)=>{let{type:n,...r}=e;return(0,u.jsx)(f.Provider,{scope:e.__scopeAccordion,children:"multiple"===n?(0,u.jsx)(I,{...r,ref:t}):(0,u.jsx)(T,{...r,ref:t})})});b.displayName=h;var[j,w]=x(h),[S,k]=x(h,{collapsible:!1}),T=t.default.forwardRef((e,n)=>{let{value:r,defaultValue:i,onValueChange:a=()=>{},collapsible:o=!1,...l}=e,[c,d]=(0,s.useControllableState)({prop:r,defaultProp:i,onChange:a});return(0,u.jsx)(j,{scope:e.__scopeAccordion,value:c?[c]:[],onItemOpen:d,onItemClose:t.default.useCallback(()=>o&&d(""),[o,d]),children:(0,u.jsx)(S,{scope:e.__scopeAccordion,collapsible:o,children:(0,u.jsx)(N,{...l,ref:n})})})}),I=t.default.forwardRef((e,n)=>{let{value:r,defaultValue:i,onValueChange:a=()=>{},...o}=e,[l=[],c]=(0,s.useControllableState)({prop:r,defaultProp:i,onChange:a}),d=t.default.useCallback(e=>c(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...t,e]}),[c]),h=t.default.useCallback(e=>c(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.filter(t=>t!==e)}),[c]);return(0,u.jsx)(j,{scope:e.__scopeAccordion,value:l,onItemOpen:d,onItemClose:h,children:(0,u.jsx)(S,{scope:e.__scopeAccordion,collapsible:!0,children:(0,u.jsx)(N,{...o,ref:n})})})}),[M,A]=x(h),N=t.default.forwardRef((e,n)=>{let{__scopeAccordion:r,disabled:s,dir:l,orientation:c="vertical",...h}=e,g=t.default.useRef(null),x=(0,i.useComposedRefs)(g,n),v=p(r),y="ltr"===(0,d.useDirection)(l),b=(0,a.composeEventHandlers)(e.onKeyDown,e=>{if(!m.includes(e.key))return;let t=e.target,n=v().filter(e=>!e.ref.current?.disabled),r=n.findIndex(e=>e.ref.current===t),i=n.length;if(-1===r)return;e.preventDefault();let a=r,s=i-1,o=()=>{(a=r+1)>s&&(a=0)},l=()=>{(a=r-1)<0&&(a=s)};switch(e.key){case"Home":a=0;break;case"End":a=s;break;case"ArrowRight":"horizontal"===c&&(y?o():l());break;case"ArrowDown":"vertical"===c&&o();break;case"ArrowLeft":"horizontal"===c&&(y?l():o());break;case"ArrowUp":"vertical"===c&&l()}let d=a%i;n[d].ref.current?.focus()});return(0,u.jsx)(M,{scope:r,disabled:s,direction:l,orientation:c,children:(0,u.jsx)(f.Slot,{scope:r,children:(0,u.jsx)(o.Primitive.div,{...h,"data-orientation":c,ref:x,onKeyDown:s?void 0:b})})})}),C="AccordionItem",[_,P]=x(C),L=t.default.forwardRef((e,t)=>{let{__scopeAccordion:n,value:r,...i}=e,a=A(C,n),s=w(C,n),o=y(n),d=(0,c.useId)(),h=r&&s.value.includes(r)||!1,m=a.disabled||e.disabled;return(0,u.jsx)(_,{scope:n,open:h,disabled:m,triggerId:d,children:(0,u.jsx)(l.Root,{"data-orientation":a.orientation,"data-state":H(h),...o,...i,ref:t,disabled:m,open:h,onOpenChange:e=>{e?s.onItemOpen(r):s.onItemClose(r)}})})});L.displayName=C;var E="AccordionHeader",R=t.default.forwardRef((e,t)=>{let{__scopeAccordion:n,...r}=e,i=A(h,n),a=P(E,n);return(0,u.jsx)(o.Primitive.h3,{"data-orientation":i.orientation,"data-state":H(a.open),"data-disabled":a.disabled?"":void 0,...r,ref:t})});R.displayName=E;var D="AccordionTrigger",O=t.default.forwardRef((e,t)=>{let{__scopeAccordion:n,...r}=e,i=A(h,n),a=P(D,n),s=k(D,n),o=y(n);return(0,u.jsx)(f.ItemSlot,{scope:n,children:(0,u.jsx)(l.Trigger,{"aria-disabled":a.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...o,...r,ref:t})})});O.displayName=D;var $="AccordionContent",F=t.default.forwardRef((e,t)=>{let{__scopeAccordion:n,...r}=e,i=A(h,n),a=P($,n),s=y(n);return(0,u.jsx)(l.Content,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...s,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function H(e){return e?"open":"closed"}F.displayName=$,e.s(["Content",0,F,"Header",0,R,"Item",0,L,"Root",0,b,"Trigger",0,O])},9385057,e=>{"use strict";let t=e=>crypto.getRandomValues(new Uint8Array(e));e.s(["customAlphabet",0,function(e){let n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:21;return r=-~(1.6*(n=(2<<Math.log(e.length-1)/Math.LN2)-1)*i/e.length),function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,s="";for(;;){let i=t(r),o=r;for(;o--;)if((s+=e[i[o]&n]||"").length===a)return s}}},"nanoid",0,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>((t&=63)<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"")}],9385057)},3930829,e=>{"use strict";var t=e.i(6695816),n=e.i(3924999),r=e.i(2919890),i=e.i(7316497),a=e.i(5260505),s=e.i(8765922),o=e.i(1194788);e.s(["useIsomorphicSWRInfinite",0,function(e,l,c){let{isServer:d,config:u,fetcher:h,fallbackSource:m}=(0,r.useIsomorphicSwrContext)(!0),f=(0,t.useMemo)(()=>"function"==typeof l?(e,t)=>l(e,t):(e,t)=>t(e),[l]),p=(0,t.useMemo)(()=>e=>{if(d)throw Error("useSWR: swrFetcher is not available on server");return f(e,h)},[d,f,h]),g="object"==typeof l?l:c,{ssr:x,...v}=g??{},y=(0,i.mergeConfig)(u,g),b=e(0,null),j=m(b??null,f,y,!1),{data:w,isLoading:S,error:k}=(0,a.useAsyncValue)(d,j),T=(0,n.default)((t,n)=>{let r=e(t,n);return S&&!d?null:r},p,{...v,suspense:!1,fallback:{[(0,n.unstable_serialize)(e)]:w?[w]:void 0},revalidateOnMount:!d&&(v.revalidateOnMount??(!w&&!S))}),{mutate:I,data:M,isLoading:A}=T,N=(0,t.useMemo)(()=>(0,s.withThrottle)(b,()=>{(0,o.debug)(`Client fallback data fetch for ${b}`),I()},2e3),[b,I]);return(0,t.useEffect)(()=>{!k||A||M||N()},[k,N,M,A]),{...T,isLoading:T.isLoading&&void 0===T.data||S||d}}])},5771992,e=>{"use strict";var t=e.i(6695816),n=e.i(7909933),r=e.i(8042625),i=e.i(277234),a=e.i(4244280),s=e.i(5338940),o=e.i(1360174),l=e.i(5140444),c=e.i(7553931),d=e.i(3930829),u=e.i(588428),h=e.i(4670733),m=e.i(2259673),f=e.i(7783521);e.s(["default",0,function(e){let{limit:t,projectId:o,project:l,from:c,target:d,users:u=[],...h}=e,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v6",{isReady:p,team:g}=(0,s.useTeam)(),x=u.length>0?u.map(e=>e.uid).join(","):null,v=!!o||!!l?.id;return(0,n.default)(p&&v&&t>0?`${(0,a.API_DEPLOYMENTS)(f)}${(0,r.encode)({projectId:o||l?.id,limit:t,from:c||null,teamId:g?.id,target:d,users:x,...h})}`:null,e=>(0,i.fetchAPI)(e,{throwOnHTTPError:!0}),m)},"useDeploymentsInfinite",0,function(e){var n;let i,{limit:p,project:g,projectId:x,requireProject:v,users:y,target:b,readyStateFilter:j,meta:w,rollbackCandidate:S,since:k,until:T,subscribeToUpdates:I,branch:M,sha:A,ignoreProjectSlug:N,projectIds:C}=e,{refreshInterval:_,...P}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v6",{isReady:E,team:R}=(0,s.useTeam)(),{user:D}=(0,l.useUser)(),[O,$]=(0,t.useState)(()=>_),F=y&&y.length>0?y.map(e=>e.uid).join(","):null,H=g?.id||x,{value:U}=(0,h.useInstantRollbackHobbyRestrictionFlag)(),{value:B}=(0,u.useInstantRollbackHobbyRestrictionTeamFlag)(),{teamSlug:W,project:z}=(0,c.useParams)()??{},V={projectId:H,limit:p,teamId:R?.id,target:b||null,users:F,state:j,meta:w,rollbackCandidate:S,since:k,until:T,branch:M,sha:A,projectIds:C},Y=v||(U||B)&&void 0!==S&&(!R||R.billing?.plan==="hobby"),G=(0,d.useIsomorphicSWRInfinite)((e,t)=>{if(W&&z&&!N){if(!e)return`${(0,a.API_DEPLOYMENTS)(L)}${(0,r.encode)({...V,teamId:W,projectId:z})}`;let n=t&&t.deployments.length>=p?t.deployments[t.deployments.length-1].created-1:null;return n?`${(0,a.API_DEPLOYMENTS)(L)}${(0,r.encode)({...V,teamId:W,projectId:z,from:n})}`:null}if(Y&&!H)return null;if(!e)return E?`${(0,a.API_DEPLOYMENTS)(L)}${(0,r.encode)(V)}`:null;let n=t&&t.deployments.length>=p?t.deployments[t.deployments.length-1].created-1:null;return n&&E?`${(0,a.API_DEPLOYMENTS)(L)}${(0,r.encode)({...V,from:n})}`:null},{...P,refreshInterval:O,ssr:{timeout:1e3}}),{mutate:K}=G,q=(0,t.useMemo)(()=>(0,o.default)(()=>{K()},100),[K]),{isListening:Z}=(i=(n=I?g:void 0)?`${n.accountId}-${n.id}`:void 0,(0,m.usePusherEvent)("deployments",i,"deployment-created",q));Z||_===O?Z&&3e4!==O&&$(3e4):$(_);let J=(0,t.useMemo)(()=>G.data?G.data.flatMap(e=>e.deployments):[],[G.data]),X=R?R.id:D?.uid,Q=(0,t.useMemo)(()=>I&&X?J.map(e=>({id:e.uid,readyState:e.readyState,aliasAssigned:!!e.aliasAssigned,ownerId:X})):[],[J,I,X]);(0,f.useDeploymentsStatusPing)(Q,q);let ee=!!G.data,et=ee&&0===J.length,en=ee&&G.data&&G.size>G.data.length,er=ee&&G.data&&G.data[G.data.length-1]?.deployments.length<p;return[G,{deployments:J,initialDataLoaded:ee,isEmpty:et,loadMore:()=>G.setSize(e=>e+1),isLoadingMore:en,isReachingEnd:er,mutate:G.mutate}]}],5771992)},8488254,e=>{"use strict";var t=e.i(31889),n=e.i(6695816),r=e.i(7553931),i=e.i(455575),a=e.i(5771992),s=e.i(6060673),o=e.i(5129431);let l=(0,n.createContext)({open:()=>{}});function c(e){let{openRef:l}=e,c=(0,r.useParams)(),{data:d}=(0,s.useProject)(c?.project),u=(0,i.useToasts)(),{data:h}=(0,a.default)({limit:5,projectId:d?.id||"",target:"production"}),{modal:m,open:f}=(0,o.default)(d||void 0);return l.current=(0,n.useCallback)(e=>{if(!h)return;let n=h.deployments.map(e=>({id:e.uid,...e}));u.removeToastByKey("save-and-redeploy"),u.success({key:"save-and-redeploy",text:(0,t.jsx)("span",{className:"hyphens-auto",children:`${e??""}${e?" ":""}A new deployment is needed for changes to take effect.`}),action:"Redeploy",onAction:()=>{f(n,{redirect:!1,copy:"You are about to create a new Deployment with the latest configuration from your Project Settings."})}})},[h,f,u]),m}e.s(["SaveAndRedeployProvider",0,function(e){let{children:r}=e,i=(0,n.useRef)(()=>{}),a=(0,n.useCallback)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.current(...t)},[]);return(0,t.jsxs)(l.Provider,{value:{open:a},children:[r,(0,t.jsx)(n.Suspense,{children:(0,t.jsx)(c,{openRef:i})})]})},"useSaveAndRedeployContext",0,function(){return(0,n.useContext)(l)}])},7903285,e=>{"use strict";var t=e.i(3559248);let n=(0,t.createServerReference)("404a94b4cfab016c1cc4ca89bdc8932ba2b462d6e8",t.callServer,void 0,t.findSourceMapURL,"revalidateBillingData");e.s(["revalidateBillingData",0,n])},2771361,e=>{"use strict";var t=e.i(8042625),n=e.i(4244280),r=e.i(277234),i=e.i(6232213);async function a(e){let{source:a,teamId:s,to:o}=e,l=await (0,r.fetchAPI)(`${n.API_PLANS_CHANGE_PLAN}${(0,t.encode)({teamId:s})}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:o,source:a}),throwOnHTTPError:!0});return"pro-trial"===o&&(0,i.postToStatsigClient)({events:[{eventName:"start_pro_trial",metadata:{source:a,action:"upgrade-plan"}}]}),l}e.s(["changePlan",0,a])},9301991,(e,t,n)=>{var r=Math.floor,i=Math.random;t.exports=function(e,t){return e+r(i()*(t-e+1))}},5166895,(e,t,n)=>{var r=e.r(9301991);t.exports=function(e,t){var n=-1,i=e.length,a=i-1;for(t=void 0===t?i:t;++n<t;){var s=r(n,a),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}},3818418,(e,t,n)=>{var r=e.r(1133442),i=e.r(5166895);t.exports=function(e){return i(r(e))}},587891,(e,t,n)=>{var r=e.r(3166536);t.exports=function(e,t){return r(t,function(t){return e[t]})}},4828315,(e,t,n)=>{var r=e.r(587891),i=e.r(8833089);t.exports=function(e){return null==e?[]:r(e,i(e))}},8917708,(e,t,n)=>{var r=e.r(5166895),i=e.r(4828315);t.exports=function(e){return r(i(e))}},439862,(e,t,n)=>{var r=e.r(3818418),i=e.r(8917708),a=e.r(4272098);t.exports=function(e){return(a(e)?r:i)(e)}},6998157,e=>{"use strict";var t=e.i(215852),n=e.i(319451);e.s(["useDrains",0,function(e){let{config:r,fetchOptions:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(0,n.getDrainsKey)(e);return(0,t.useIsomorphicSuspenseSWR)(a,(e,t)=>t(e,{throwOnScopeAuthError:i?.throwOnScopeAuthError}),r)}])},45460,6129437,e=>{"use strict";var t=e.i(31889),n=e.i(9722978),r=e.i(6695816),i=e.i(7749291),a=e.i(4004502),s=e.i(57106),o=e.i(4837983),l=e.i(7735885),c=e.i(167223);function d(e){let{onChange:n,search:i,setSearch:a}=e,s=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=e=>{"/"===e.key&&(e.target instanceof HTMLInputElement&&"INPUT"===e.target.tagName||e.target instanceof HTMLTextAreaElement&&"TEXTAREA"===e.target.tagName||(e.preventDefault(),s.current?.focus()))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),(0,t.jsx)(c.default,{"aria-label":"Search settings",clearable:!0,onChange:e=>{n?.(e),e.defaultPrevented||a(e.target.value)},placeholder:"Search...",ref:s,value:i,width:"100%"})}let u=e=>{let{links:t,search:n}=e,i=(0,r.useMemo)(()=>t.flatMap(e=>{let t=[],n=Object.keys(e.sections||{}),r=e.text.toLowerCase();return!n.some(e=>e.toLowerCase()===r)&&(t.push({text:e.text,active:e.active||!1,href:e.href,hide:e.hide,testId:void 0}),"testId"in e&&(t[0].testId=e.testId),"mobileHref"in e&&(t[0].mobileHref=e.mobileHref)),n.length>0&&n.forEach(n=>{void 0!==e.href&&""!==e.href&&void 0!==e.sections&&t.push({text:e.sections[n],active:!1,href:`${e.href}#${n}`,hide:!1,testId:e.testId,mobileHref:e.mobileHref})}),t}),[t]),a=(0,r.useMemo)(()=>new l.default(i,{keys:["text"],distance:150,findAllMatches:!0,threshold:.2}),[i]);return{filteredLinks:(0,r.useMemo)(()=>{if(""===n)return t;let e=a.search(n);return n.length<2?e.splice(0,10):e},[a,n,t])}};e.s(["SettingsSearch",0,d,"useSearchSettings",0,u],6129437);var h=e.i(4031249),m=e.i(5150790),f=e.i(5163763);function p(e){let{href:r,as:l,text:c,active:d,disabled:u,tooltip:h,hide:m,external:p,scroll:g,search:x="",...v}=e;if(m)return null;let y=p?(0,t.jsx)(i.ExternalSmall,{}):null;if(r){let e=(0,t.jsxs)(s.Link,{className:(0,n.clsx)(f.default.entry,f.default.link,{[f.default.active]:d,[f.default.disabled]:u}),"data-testid":(0,a.tid)("settings","sidebar",c.toLowerCase()),href:l||r,rel:p?"noopener":void 0,scroll:g,shallow:!1,target:p?"_blank":void 0,...v,children:[(0,t.jsx)(o.HighlightText,{search:x,text:c}),y]},r);return h?(0,t.jsxs)("div",{style:{position:"relative"},children:[e,h]},`tooltip_${r}`):e}return(0,t.jsxs)("div",{className:(0,n.clsx)(f.default.entry,{[f.default.active]:d,[f.default.disabled]:u}),"data-testid":(0,a.tid)("settings","sidebar","placeholder",c.toLowerCase()),children:[(0,t.jsx)(o.HighlightText,{search:x,text:c}),y]})}function g(e){let{children:r,text:i,first:a}=e;return(0,t.jsxs)("div",{className:`flex flex-row items-center justify-start gap-2 flex-initial ${(0,n.clsx)({[f.default.section]:!0,[f.default.first]:a})}`,children:[r,(0,t.jsx)("p",{className:"text-[12px] leading-[16px] font-medium leading-[20px] text-gray-900",children:i})]})}e.s(["default",0,function(e){var i;let{sticky:s=!0,stickyTop:o=0,className:l,onSearchChange:c,searchable:x,...v}=e,{search:y,setSearch:b}=(0,r.useContext)(h.SettingsSearchContext),{workspaceBlock:j,accountBlock:w}=(i=v,(0,r.useMemo)(()=>"blocks"in i?i.blocks:{workspaceBlock:{iconText:"",links:i.links}},[i])),S=j.links,k=w?.links??[],{filteredLinks:T}=u({links:S,search:y}),{filteredLinks:I}=u({links:k,search:y});return k.length+S.length===0?(0,t.jsx)(m.SidebarSkeleton,{searchable:x,showAccountSection:void 0!==w,showWorkspaceSection:!!(w&&j.iconText)}):(0,t.jsxs)("div",{className:(0,n.clsx)(l,f.default.sidebar,"tailwind"),"data-geist-sidebar":"","data-version":"v1",style:s?{position:"sticky",top:o}:void 0,children:[x?(0,t.jsx)("div",{className:f.default.searchboxWrapper,children:(0,t.jsx)(d,{onChange:c,search:y,setSearch:b})}):null,w&&k.filter(e=>!e.hide).length>0?(0,t.jsxs)(t.Fragment,{children:[""===y&&(0,t.jsx)(g,{first:!0,text:j.iconText,children:j.icon}),T.length>0?T.map((e,n)=>(0,t.jsx)(p,{...e,search:y},`${n}${e.text}`)):null,""===y&&(0,t.jsx)(g,{text:w.iconText,children:w.icon}),I.map((e,n)=>(0,t.jsx)(p,{...e,search:y},`${n}${e.text}`))]}):T.map((e,n)=>(0,t.jsx)(p,{search:y,...e},`${n}${e.text}`)),0===T.length&&0===I.length&&""!==y&&(0,t.jsx)("div",{className:`flex flex-col items-stretch justify-start gap-2 flex-initial ${f.default.emptyCard}`,children:(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900","data-testid":(0,a.tid)("settings","sidebar","empty-search-result"),children:['No settings matching "',y,'"']})})]})}],45460)},581695,e=>{"use strict";var t=e.i(6695816),n=e.i(7780974),r=e.i(7837522);e.s(["useSettingsSearchTracking",0,function(e,i){let{track:a}=(0,r.useTrackActivity)(),s=(0,t.useRef)(!1);return{onChangeHandler:(0,t.useCallback)(()=>{s.current||(s.current=!0,a(n.VercelActivityAction.SettingsSearchTyped,{pageType:e,deviceType:i}))},[i,s,e,a])}}])},2917338,e=>{"use strict";var t=e.i(31889),n=e.i(6695816),r=e.i(4031249);e.s(["SettingsSearchContextProvider",0,function(e){let{children:i}=e,[a,s]=(0,n.useState)(""),o=(0,n.useMemo)(()=>({search:a,setSearch:s}),[a]);return(0,t.jsx)(r.SettingsSearchContext.Provider,{value:o,children:i})}])},8865193,e=>{"use strict";var t=e.i(31889),n=e.i(6891161),r=e.i(2504781),i=e.i(7909933),a=e.i(9385057),s=e.i(7837522),o=e.i(7780974),l=e.i(6695816),c=e.i(8631221),d=e.i(3196486);function u(){let{track:e}=(0,s.useTrackActivity)(),{data:t,mutate:n}=(0,i.default)("showDowngradeFromProModal",null,{fallbackData:{active:!1}}),[r,u]=(0,l.useState)(!1),h={open:t=>{let r=(0,a.nanoid)();u(!1),n({active:!0,sessionId:r,source:t,openedAt:Date.now()}),e(o.VercelActivityAction.DowngradeModalOpened,{sessionId:r,source:t})},close:()=>{n({active:!1})},abandon:()=>{t?.sessionId&&e(o.VercelActivityAction.DowngradeModalAbandoned,{sessionId:t.sessionId,ms:t.openedAt?Date.now()-t.openedAt:void 0,type:t.type}),n({active:!1})},setType:(0,l.useCallback)(e=>{t?.type||n(t=>({active:!1,...t,type:e}))},[t?.type,n]),trackCompleted:(0,l.useCallback)(()=>{t?.sessionId&&e(o.VercelActivityAction.DowngradeModalCompleted,{sessionId:t?.sessionId,ms:t.openedAt?Date.now()-t.openedAt:void 0,type:t.type})},[t?.sessionId,t?.openedAt,t?.type,e]),submitSurvey:(0,l.useCallback)(e=>{(0,d.sendToSnowflake)(c.Topic.VercelApiV0UserCancellationSurvey,{...e,source:t?.source??"downgrade-modal",downgrade_session_id:t?.sessionId??"",time_in_survey_ms:t?.openedAt?Date.now()-t.openedAt:0},"vercel-app"),u(!0)},[t?.sessionId,t?.source,e,t?.openedAt])};return t?.active?{...h,active:!0,sessionId:t.sessionId,submittedSurvey:r}:{...h,active:!1,submittedSurvey:r}}e.s(["DowngradeFromProButton",0,function(e){let{className:n}=e,{open:i}=u();return(0,t.jsx)(r.Button,{className:n,onClick:()=>i("downgrade-button"),size:"small",type:"secondary",children:"Downgrade"})},"DowngradeFromProModalController",0,function(e){let{children:r}=e,{active:i,abandon:a}=u();return(0,t.jsx)(n.Modal.Modal,{active:i,onClickOutside:a,children:r})},"useDowngradeFromProModal",0,u])},7930612,e=>{e.v({back:"with-team-settings-module__FMe5FW__back",content:"with-team-settings-module__FMe5FW__content",createTeam:"with-team-settings-module__FMe5FW__createTeam",emptyCard:"with-team-settings-module__FMe5FW__emptyCard",hide:"with-team-settings-module__FMe5FW__hide",menuPage:"with-team-settings-module__FMe5FW__menuPage",mobileSearch:"with-team-settings-module__FMe5FW__mobileSearch",tabletLinks:"with-team-settings-module__FMe5FW__tabletLinks"})},185496,e=>{"use strict";var t=e.i(31889),n=e.i(6695816),r=e.i(9722978),i=e.i(7553931),a=e.i(9475671),s=e.i(4585051),o=e.i(4004502),l=e.i(7917902),c=e.i(9668517),d=e.i(57106),u=e.i(4837983),h=e.i(45460),m=e.i(4031249),f=e.i(6129437),p=e.i(581695),g=e.i(7930612),x=e.i(6159310),v=e.i(8866156);let y=(0,n.memo)(function(e){let{suspend:s}=e,{onChangeHandler:l}=(0,p.useSettingsSearchTracking)("team","desktop"),{onChangeHandler:x}=(0,p.useSettingsSearchTracking)("team","mobile"),{search:v,setSearch:y}=(0,n.useContext)(m.SettingsSearchContext),b=(0,i.usePathname)(),S=encodeURIComponent((0,c.useTeamSlug)()||""),k=b===`/${S}/~/settings`,T=j(s),I=function(e){let{links:r}=e;return(0,n.useMemo)(()=>({workspaceBlock:{iconText:"Team",icon:(0,t.jsx)(w,{}),links:r}}),[r])}({links:T}),{filteredLinks:M}=(0,f.useSearchSettings)({links:T,search:v});return"/teams/create"===b?(0,t.jsxs)("div",{className:"geist-hide-on-tablet",children:[(0,t.jsx)(h.default,{links:[{text:"New Team",active:!0}],stickyTop:64})," "]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:(0,r.clsx)("geist-show-on-tablet",{[g.default.hide]:k}),children:(0,t.jsx)(d.Link,{className:(0,r.clsx)("geist-reset",g.default.back),href:S?`/${S}/~/settings`:"",children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-0.5 flex-initial",children:[(0,t.jsx)(a.ChevronLeft,{size:20}),(0,t.jsx)("span",{children:"Settings"})]})})}),(0,t.jsx)(h.default,{blocks:I,className:"geist-hide-on-tablet",onSearchChange:l,searchable:!0,stickyTop:64}),(0,t.jsxs)("div",{className:(0,r.clsx)("geist-show-on-tablet",g.default.tabletLinks,{[g.default.hide]:!k}),children:[(0,t.jsx)("div",{className:g.default.mobileSearch,children:(0,t.jsx)(f.SettingsSearch,{onChange:x,search:v,setSearch:y})}),M.map(e=>e.hide?null:(0,t.jsx)(d.Link,{className:"geist-reset","data-testid":e.testId,href:e.href||"",children:(0,t.jsx)(u.HighlightText,{search:v,text:e.text})},e.href)),""!==v&&0===M.length&&(0,t.jsx)("div",{className:(0,r.clsx)("flex flex-col items-stretch justify-start gap-2 flex-initial",g.default.emptyCard),children:(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900","data-testid":(0,o.tid)("settings","sidebar","empty-search-result"),children:['No settings matching "',v,'"']})})]})]})}),b=(e,t)=>{let n=e[t]?.hash;if(!n)return;let r=Object.fromEntries(Object.entries(n).map(e=>{let[t,{label:n}]=e;return[t.substring(1),n]}));return Object.keys(r).length>0?r:void 0},j=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,i.usePathname)(),r=(0,n.useCallback)(function(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(t)return(0,o.tid)(e,n,...i)},[t]),a=(0,v.useVisibleRoutes)(),s=(0,x.useNavLinks)([{route:"/[teamSlug]/~/settings/general",meta:{mobileTestId:r("team-settings","mobile-general-link"),sections:b(a,"/[teamSlug]/~/settings")}},{route:"/[teamSlug]/~/settings/add-ons",meta:{mobileTestId:r("team-settings","mobile-add-ons-link"),sections:b(a,"/[teamSlug]/~/settings/add-ons")}},{route:"/[teamSlug]/~/settings/billing",meta:{mobileTestId:r("team-settings","mobile-billing-link"),sections:b(a,"/[teamSlug]/~/settings/billing")}},{route:"/[teamSlug]/~/settings/build-and-deployment",meta:{mobileTestId:r("team-settings","mobile-build-and-deployment-link"),sections:b(a,"/[teamSlug]/~/settings/build-and-deployment")}},{route:"/[teamSlug]/~/settings/invoices",meta:{mobileTestId:r("team-settings","mobile-invoices-link")}},{route:"/[teamSlug]/~/settings/members",meta:{mobileTestId:r("team-settings","mobile-members-link")}},{route:"/[teamSlug]/~/settings/access-groups",meta:{mobileTestId:r("team-settings","access-groups-link")}},{route:"/[teamSlug]/~/settings/agent",meta:{mobileTestId:r("team-settings","mobile-agent-link"),sections:b(a,"/[teamSlug]/~/settings/agent")}},{route:"/[teamSlug]/~/settings/drains",meta:{mobileTestId:r("team-settings","mobile-drains-link")}},{route:"/[teamSlug]/~/settings/alerts",meta:{mobileTestId:r("team-settings","mobile-alerts-link")}},{route:"/[teamSlug]/~/settings/webhooks",meta:{mobileTestId:r("team-settings","mobile-webhooks-link")}},{route:"/[teamSlug]/~/settings/security",meta:{mobileTestId:r("team-settings","mobile-security-link"),sections:b(a,"/[teamSlug]/~/settings/security")}},{route:"/[teamSlug]/~/settings/deployment-protection",meta:{mobileTestId:r("team-settings","mobile-deployment-protection-link")}},{route:"/[teamSlug]/~/settings/microfrontends",meta:{mobileTestId:r("team-settings","mobile-microfrontends-link")}},{route:"/[teamSlug]/~/settings/repositories",meta:{mobileTestId:r("team-settings","mobile-repositories-link")}},{route:"/[teamSlug]/~/settings/connectivity",meta:{mobileTestId:r("team-settings","mobile-connectivity-link"),sections:b(a,"/[teamSlug]/~/settings/connectivity")}},{route:"/[teamSlug]/~/settings/environment-variables",meta:{mobileTestId:r("team-settings","mobile-environment-variables-link")}},{route:"/[teamSlug]/~/settings/notifications",meta:{mobileTestId:r("team-settings","mobile-notifications-link")}},{route:"/[teamSlug]/~/settings/apps",meta:{mobileTestId:r("team-settings","mobile-apps-link")}}],{suspend:e,namespace:"team-settings"});return(0,n.useMemo)(()=>s.links.map(e=>({text:e.label,href:e.href,active:e.isActive,testId:e.meta?.mobileTestId,sections:e.meta?.sections||[]})),[s.links])};function w(){let e=(0,l.useAccount)();return(0,t.jsx)(n.Suspense,{fallback:(0,t.jsx)(s.Avatar,{placeholder:!0,size:20}),children:(0,t.jsx)(s.Avatar,{hash:e.team?.avatar,placeholder:!e.team,size:20,teamId:e.team?.id})})}e.s(["TeamSettingsSidebar",0,y,"useTeamSettingsSidebarItems",0,j])},3494051,e=>{"use strict";var t=e.i(31889),n=e.i(6695816),r=e.i(6891161),i=e.i(1848296),a=e.i(5255926),s=e.i(9171423),o=e.i(4244280),l=e.i(5338940),c=e.i(486333),d=e.i(57106),u=e.i(9125947),h=e.i(8865193),m=e.i(5523169),f=e.i(7722264),p=e.i(455575),g=e.i(8522580),x=e.i(4585051),v=e.i(9722978);function y(e){let{inline:n=!0,team:r}=e,{id:i,avatar:a,name:s}=r;return(0,t.jsx)("span",{className:"tailwind-preflight",children:(0,t.jsxs)("span",{className:(0,v.clsx)("items-center gap-1",n?"inline-flex align-middle":"flex"),children:[(0,t.jsx)(x.Avatar,{hash:a,size:20,teamId:i}),(0,t.jsx)("span",{className:`text-[14px] leading-[20px] font-medium ${(0,v.clsx)(n&&"-translate-y-px")}`,children:s})]})})}var b=e.i(6226725);function j(e){let{error:n,nextLabel:i,onNext:a}=e,{abandon:s}=(0,h.useDowngradeFromProModal)();return(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a()},children:[(0,t.jsxs)(r.Modal.Body,{children:[(0,t.jsxs)(r.Modal.Header,{children:[(0,t.jsx)(r.Modal.Title,{children:"Downgrade Error"}),(0,t.jsx)(r.Modal.Subtitle,{children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(b.CrossCircle,{color:"red-700"}),(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-red-900",children:"Error during downgrade"})]})})]}),(0,t.jsx)("div",{className:"tailwind-preflight",children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-0 flex-initial rounded border bg-gray-200",children:[n.code?(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial border-b border-gray-500 px-2 py-1.5",children:(0,t.jsx)("p",{className:"font-mono text-[12px] leading-[16px] font-medium",children:n.code})}):null,(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial bg-gray-400 px-2 py-1.5",children:(0,t.jsx)("p",{className:"text-copy-14",children:n.message})})]})})]}),(0,t.jsxs)(r.Modal.Actions,{children:[(0,t.jsx)(r.Modal.Action,{buttonType:"button",onClick:s,type:"secondary",children:"Cancel"}),i?(0,t.jsx)(r.Modal.Action,{buttonType:"submit",children:i}):null]})]})}var w=e.i(7903285),S=e.i(5761705),k=e.i(5169576),T=e.i(7749291),I=e.i(8284460),M=e.i(7399351);let A=I.Root;function N(e){return(0,t.jsx)("p",{...e,className:"text-[14px] leading-[20px] font-medium"})}function C(e){let{children:n,link:r,linkText:i="Learn More"}=e;return(0,t.jsxs)("li",{className:"flex flex-row items-stretch justify-between flex-initial p-4",children:[n,r?(0,t.jsxs)(d.Link,{className:"flex items-center gap-[2px]",external:!0,href:r,icon:!1,variant:"highlight",children:[(0,t.jsx)("span",{children:i}),(0,t.jsx)("span",{children:(0,t.jsx)(T.ExternalSmall,{})})]}):null]})}function _(e){let{label:r,icon:i,value:a,children:s,variant:o="default"}=e,l=(0,n.useMemo)(()=>"error"===o?"*:text-red-900 text-red-900":"warning"===o?"*:text-amber-900 text-amber-900":"ok"===o?"*:text-green-900 text-green-900":"*:text-gray-900 text-gray-900",[o]);return(0,t.jsxs)(I.Item,{className:"overflow-hidden rounded border border-gray-alpha-200 divide-y divide-gray-alpha-200",value:a,children:[(0,t.jsx)(I.Header,{children:(0,t.jsxs)(I.Trigger,{className:"group flex w-full items-center justify-between bg-background-100 p-4",children:[(0,t.jsxs)("span",{className:`flex items-center gap-2 ${l}`,children:[i,"string"==typeof r?(0,t.jsx)(N,{children:r}):r]}),(0,t.jsx)("span",{className:"block text-gray-900 transition-transform duration-200 group-data-[state='closed']:rotate-180",children:(0,t.jsx)(M.ChevronUp,{})})]})}),(0,t.jsx)(I.Content,{className:"bg-background-200",children:(0,t.jsx)("ul",{className:"divide-y divide-gray-alpha-200",children:s})})]})}function P(e){let{label:n,value:r,icon:i,items:a,variant:s="default"}=e;return 0===a.length?null:(0,t.jsx)(_,{icon:i,label:n,value:r,variant:s,children:a.map(e=>e.childIntegrations&&e.childIntegrations.length>0?e.childIntegrations.map(n=>(0,t.jsx)(C,{link:n.link||L[e.resourceTypeId],children:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[n.integrationIcon&&(0,t.jsx)(x.Avatar,{hash:n.integrationIcon,size:16}),(0,t.jsx)("span",{children:n.name})]})},n.resourceId)):(0,t.jsx)(C,{link:L[e.resourceTypeId],children:e.resourceTypeName},e.resourceTypeId))})}let L={project:"/docs/projects/overview","secure-compute":"/docs/secure-compute","support-case":"/docs/dashboard-features/support-center","user-token":"/docs/rest-api#authentication","team-member":"/docs/accounts/team-members-and-roles","storage-blob":"/docs/storage/vercel-blob","storage-edge-config":"/docs/edge-config",domains:"/docs/domains","integration-configuration":"/docs/integrations/install-an-integration/product-integration#uninstall-an-integration"};var E=e.i(6401841),R=e.i(2771361),D=e.i(6998157);function O(e){let{back:i,backLabel:a,target:s,refundNote:o,refundToastMessage:c}=e,{mutate:d}=(0,l.useTeam)(),{close:u,trackCompleted:m}=(0,h.useDowngradeFromProModal)(),[x,v]=(0,n.useState)(!1);return(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v(!0),(0,R.changePlan)({source:"hobby-downgrade-modal",teamId:s.id,to:"hobby"}).then(async()=>{await d(),await (0,w.revalidateBillingData)(s.slug);let e=c?`
${c}`:"";p.toasts.success(`Your team has been downgraded.${e}`),m(),u()}).catch(e=>{let t=(0,f.isError)(e)?e.message:"Something went wrong downgrading your team.";p.toasts.error(t),u()})},children:[(0,t.jsxs)(r.Modal.Body,{children:[(0,t.jsxs)(r.Modal.Header,{children:[(0,t.jsx)(r.Modal.Title,{children:"Downgrade Plan"}),(0,t.jsx)(r.Modal.Subtitle,{children:(0,t.jsxs)("p",{className:"text-copy-14",children:[(0,t.jsx)(y,{team:s})," will be downgraded to a free, Hobby plan."]})})]}),(0,t.jsx)("div",{className:"tailwind-preflight",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(A,{className:"space-y-2",defaultValue:["hobby"],type:"multiple",children:(0,t.jsx)($,{team:s})}),(0,t.jsxs)(g.Note,{fill:!0,type:"warning",children:["You will"," ",(0,t.jsx)("span",{className:"text-[14px] leading-[20px] font-medium text-amber-900",children:"immediately"})," ","lose access to Pro features and all payments will stop."," ",o?(0,t.jsx)("span",{className:"text-[14px] leading-[20px] font-medium text-amber-900",children:o}):null]})]})})]}),(0,t.jsxs)(r.Modal.Actions,{children:[(0,t.jsx)(r.Modal.Action,{buttonType:"button",onClick:i,type:"secondary",children:a}),(0,t.jsx)(r.Modal.Action,{buttonType:"submit",loading:x,children:"Downgrade"})]})]})}function $(e){let{team:n}=e,r=n?.billing?.plan==="pro"&&n?.billing?.planIteration==="plus",{data:i}=(0,D.useDrains)({teamIdOrSlug:n.slug,includeMetadata:!1}),a=(i?.drains?.length??0)>0,s=`/${n.slug}/~/settings/drains`;return!a&&r?(0,t.jsx)(t.Fragment,{}):(0,t.jsxs)(_,{icon:(0,t.jsx)(E.Stop,{}),label:(0,t.jsx)(N,{children:"Unavailable on Hobby plan"}),value:"hobby",variant:"error",children:[r?null:(0,t.jsx)(C,{link:"/docs/observability/monitoring",children:"Monitoring"}),a?(0,t.jsx)(C,{link:s,linkText:"View in Settings",children:"Drains"}):null]})}function F(e){let{target:n,candidate:r,resourceItems:i,disabled:a}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial mt-6",children:[a?(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between flex-initial",children:[(0,t.jsx)("p",{className:"text-[15px] leading-[24px] font-semibold",children:"Blocking issues"}),(0,t.jsxs)(d.Link,{className:"flex items-center gap-[2px]",external:!0,href:"https://vercel.com/docs/plans/pro-plan#downgrading-to-hobby",icon:!1,variant:"highlight",children:[(0,t.jsx)("span",{children:"Learn More"}),(0,t.jsx)("span",{children:(0,t.jsx)(T.ExternalSmall,{})})]})]}),(0,t.jsx)(g.Note,{fill:!0,type:"error",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"font-semibold",children:"Cannot proceed with downgrade"}),(0,t.jsxs)("p",{children:[(0,t.jsx)(y,{team:r})," contains unmergeable resources. Delete or manually transfer these resources, then retry this downgrade."]})]})}),(0,t.jsx)("div",{className:"tailwind",children:(0,t.jsxs)(A,{className:"space-y-2",defaultValue:["manual","no-transfer"],type:"multiple",children:[(0,t.jsx)(P,{icon:(0,t.jsx)(b.CrossCircle,{}),items:i.noTransfer,label:"Will not transfer",value:"no-transfer",variant:"error"}),(0,t.jsx)(P,{icon:(0,t.jsx)(k.Information,{}),items:i.manual,label:"Manual transfer",value:"manual",variant:"warning"})]})})]}):(0,t.jsxs)("p",{className:"text-copy-14",children:[(0,t.jsx)(y,{team:r})," will be merged into"," ",(0,t.jsx)(y,{team:n})]}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[(0,t.jsx)("p",{className:"text-[15px] leading-[24px] font-semibold",children:"Review changes"}),(0,t.jsx)("div",{className:"tailwind",children:(0,t.jsxs)(A,{className:"space-y-2",type:"multiple",defaultValue:["hobby"],children:[(0,t.jsx)($,{team:n}),(0,t.jsx)(P,{icon:(0,t.jsx)(S.CheckCircle,{}),items:i.automatic,label:"Automatic transfer",value:"automatic",variant:"ok"})]})})]})]})}var H=e.i(6838069),U=e.i(2704354);async function B(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{throwOnHTTPError:!0};return await (0,s.fetchApi)((0,U.getConfigurationsUrl)(e),{throwOnHTTPError:t.throwOnHTTPError,contentType:"json"})}let W=async e=>e?await (0,s.fetchApi)(e,{method:"GET",throwOnHTTPError:!0,contentType:"json"}):null,z=async(e,t,n)=>{let r={automatic:[],manual:[],noTransfer:[]},i=t.filter(e=>"integration-configuration"===e.resourceTypeId),a=[];i.length>0&&(a=await B({teamSlug:n,installationType:"marketplace",skipBillingData:!0}));let s=new Map(a.map(e=>[e.id,e]));for(let t of e){let e=t;if("integration-configuration"===t.resourceTypeId){let r=(i||[]).map(e=>(function(e,t,n){let r=n.get(e.resourceId);if(!r)return{resourceId:e.resourceId,name:e.resourceTypeName};let i=r.integration,a=(0,H.getInstallationDetailsLink)({teamSlug:t,integrationSlug:r.slug,configurationId:e.resourceId,isMarketplace:!0,path:"settings"});return{resourceId:e.resourceId,name:r.name||i?.name||"Unknown Integration",integrationIcon:i?.icon,link:a}})(e,n,s));e={...t,childIntegrations:r}}"auto"===t.transferDetails.transferable?r.automatic.push(e):"manual"===t.transferDetails.transferable?r.manual.push(e):r.noTransfer.push(e)}return r};function V(e){let{candidates:a,refundNote:c,target:d}=e,[u,x]=(0,n.useState)({type:"select"}),{close:v,abandon:b,trackCompleted:S}=(0,h.useDowngradeFromProModal)(),[k,T]=(0,n.useState)(),[I,M]=(0,n.useState)(!1),[A,N]=(0,n.useState)(!1),{mutate:C}=(0,l.useTeam)(),_=(0,n.useCallback)(e=>{if(e.preventDefault(),"confirmed"!==u.type)return;M(!0);let t=(0,o.API_MERGE_FLOW)(u.plan.mergeId),n=u.plan.conflicts.flatMap(e=>(function(e,t){var n,r,i;let a;if(!e.autoresolvable)throw Error("Encoutered unexpected unresolvable conflict.");return"entity-conflict"===e.type?{...{type:"entity-conflict-resolution",resourceTypeId:(n=e).resourceTypeId,resourceId:n.resourceId},strategy:"auto",resources:n.resources}:(r=e,i=t,a={type:"unique-field-conflict-resolution",resourceTypeId:r.resourceTypeId,field:r.field},r.resources.filter(e=>{let{teamId:t}=e;return t!==i}).map(e=>({...a,strategy:"auto",teamId:e.teamId,resourceId:e.resourceId})))})(e,u.plan.targetId));(0,s.fetchApi)(t,{method:"POST",headers:{"Content-Type":"application/json"},throwOnHTTPError:!0,contentType:"json",body:JSON.stringify({conflictResolutions:n})}).then(async e=>{"error"in e?x({type:"error",error:{code:e.error.code,message:e.error.message},resolution:null}):(await C(),await (0,w.revalidateBillingData)(d.slug),S())}).catch(e=>{let t=(0,f.isError)(e)?e.message:"Something went wrong merging your teams.";p.toasts.error(t)}).finally(()=>{M(!1),v()})},[u,v,C,d.slug,S]),P=(0,n.useCallback)(e=>{if(e===k?.id)return;M(!0);let t=a.find(t=>t.id===e);if(t){let e,r;T(t),(e=d.id,r=t.id,(0,s.fetchApi)(o.API_MERGE_PLAN,{method:"POST",body:{contentType:"json",targetId:e,candidateIds:[r],mode:"downgrade"},throwOnHTTPError:!0})).then(async e=>{if(!e||"string"==typeof e)return void x({type:"error",error:{code:"Unknown error",message:"Unknown response format"},resolution:{label:"Back to Team select",action(){x({type:"select"})}}});let r=await z(e.resourceTypes,e.resources,t.slug);(0,n.startTransition)(()=>{T(t),x({type:"confirmed",candidate:t,plan:e,resourceItems:r}),N(!!(r.manual.length||r.noTransfer.length))})}).catch(e=>{(0,n.startTransition)(()=>{T(void 0),x({type:"error",error:(0,f.isError)(e)?e:{code:"Unknown error",message:"Unknown error"},resolution:{label:"Back to Team select",action(){x({type:"select"})}}})})}).finally(()=>{M(!1)})}},[a,k,d]);return((0,n.useEffect)(()=>{d.merge&&(M(!0),W((0,o.API_MERGE_FLOW)(d.merge.mergeId)).then(e=>{e&&"string"!=typeof e?("started"===e.status.type||"enqueued"===e.status.type)&&x({type:"error",resolution:null,error:{code:"merge_in_progress",message:"Team currently has a merge in progress, unable to proceed."}}):x({type:"error",error:{code:"Unknown error",message:"Unknown response format"},resolution:{label:"Back to Team select",action(){x({type:"select"})}}})}).catch(e=>{x({type:"error",resolution:null,error:(0,f.isError)(e)?e:{code:"Unknown error",message:"Unknown error"}})}).finally(()=>{M(!1)}))},[d]),"error"===u.type)?(0,t.jsx)(j,{error:u.error,nextLabel:u.resolution?.label??null,onNext:u.resolution?.action??m.default}):(0,t.jsxs)("form",{onSubmit:_,children:[(0,t.jsxs)(r.Modal.Body,{children:[(0,t.jsxs)(r.Modal.Header,{children:[(0,t.jsx)(r.Modal.Title,{children:"Downgrade Plan"}),(0,t.jsx)(r.Modal.Subtitle,{children:(0,t.jsxs)("p",{className:"text-copy-14",children:["By downgrading your plan, you will exceed the amount of Hobby teams you can have on Vercel. Select one existing Hobby team to merge into ",(0,t.jsx)(y,{team:d})," during the downgrade."]})})]}),(0,t.jsx)("div",{className:"tailwind",children:(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial rounded border border-gray-alpha-200",children:(0,t.jsx)(i.RadioGroup,{onChange:P,value:k?.id??"",children:(0,t.jsx)("div",{className:"divide-y divide-gray-alpha-200",children:a.map(e=>(0,t.jsx)(i.RadioGroup.Item,{className:"flex w-full items-center p-4",value:e.id,children:(0,t.jsx)(y,{inline:!1,team:e})},e.id))})})})}),"confirmed"===u.type?(0,t.jsx)(F,{candidate:u.candidate,disabled:A,resourceItems:u.resourceItems,target:d}):null]}),(0,t.jsx)(r.Modal.Actions,{children:(0,t.jsxs)("div",{className:"flex w-full flex-col gap-4",children:["confirmed"===u.type?(0,t.jsxs)(g.Note,{fill:!0,type:"warning",children:["The"," ",(0,t.jsx)("span",{className:"text-[14px] leading-[20px] font-medium text-amber-900",children:u.candidate.name})," ","team will be deleted. You will"," ",(0,t.jsx)("span",{className:"text-[14px] leading-[20px] font-medium text-amber-900",children:"immediately"})," ","lose access to Pro features on"," ",(0,t.jsx)("span",{className:"text-[14px] leading-[20px] font-medium text-amber-900",children:d.name})," ","and all payments will stop."," ",c?(0,t.jsx)("span",{className:"text-[14px] leading-[20px] font-medium text-amber-900",children:c}):null]}):null,(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)(r.Modal.Action,{buttonType:"button",onClick:b,type:"secondary",children:"Cancel"}),(0,t.jsx)(r.Modal.Action,{buttonType:"submit",disabled:"confirmed"!==u.type||A,loading:I,children:"Downgrade"})]})]})})]})}var Y=e.i(7909933),G=e.i(277234);e.i(1585898);var K=e.i(2066827),q=e.i(7917902);let Z={surveyName:"Downgrade Team User Feedback",surveySlug:"downgrade-team-user-feedback",surveySteps:[{title:"We're sorry to see you go",description:"Your feedback helps us improve Vercel",fields:[{type:"select",id:"reason",label:"We're sorry to see you go",options:[...(0,e.i(439862).default)([{id:"another-provider",label:"Switching to another provider",reveals:{id:"provider",label:"Which provider?"}},{id:"too-expensive",label:"Too expensive"},{id:"purchase-v0",label:"I meant to purchase v0"},{id:"company-project-shutting-down",label:"My company or project is shutting down"},{id:"missing-features",label:"Missing features",reveals:{id:"what-were-you-missing",label:"What were you missing?"}},{id:"performance-reliability",label:"Performance or reliability issues",reveals:{id:"what-can-we-do-better",label:"What could we have done better?"}}]),{id:"other",label:"Other",reveals:{id:"other-reason",label:"Additional comments"}}]}]}]},J=new Set;function X(){let{abandon:e}=(0,h.useDowngradeFromProModal)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.Modal.Body,{children:[(0,t.jsxs)(r.Modal.Header,{children:[(0,t.jsx)(r.Modal.Title,{children:"Downgrade Plan"}),(0,t.jsx)(r.Modal.Subtitle,{children:(0,t.jsx)(a.Skeleton,{height:60,width:"100%"})})]}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial tailwind-preflight",children:(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial rounded border border-gray-alpha-200",children:(0,t.jsx)(i.RadioGroup.Item,{className:"flex w-full items-center p-4",disabled:!0,fullWidth:!0,value:"1",children:(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)(a.Skeleton,{height:24,rounded:!0}),(0,t.jsx)(a.Skeleton,{height:24,width:"100%"})]})})})})]}),(0,t.jsxs)(r.Modal.Actions,{children:[(0,t.jsx)(r.Modal.Action,{buttonType:"button",onClick:e,type:"secondary",children:"Cancel"}),(0,t.jsx)(r.Modal.Action,{buttonType:"submit",disabled:!0,children:"Continue"})]})]})}e.s(["DowngradeFromProModal",0,function(e){let{teamSlug:r}=e,[i,a]=(0,n.useState)(!0),[m,f]=(0,n.useState)(J),{teams:p}=(0,l.useTeam)(),{user:g,team:x}=(0,q.useAccount)(),{abandon:v,setType:y,submittedSurvey:b,submitSurvey:j}=(0,h.useDowngradeFromProModal)(),{isLoading:w,downgradeRefundAmount:S}=(()=>{let{isReady:e,team:t}=(0,l.useTeam)(),n=(0,Y.default)(()=>e&&t?`${o.API_BILLING}/downgrade-refund-amount?teamId=${t.id}`:null,e=>(0,G.fetchAPI)(e,{throwOnHTTPError:!0}));return{...n,downgradeRefundAmount:n.data??void 0}})(),k=(0,n.useMemo)(()=>p??[],[p]),T=(0,n.useMemo)(()=>k.find(e=>e.slug===r),[k,r]),I=(0,n.useMemo)(()=>k.filter(e=>{let{id:t}=e;return m.has(t)}),[k,m]),M=(0,n.useMemo)(()=>S?S.result?S.amount>0?`$${Number(S.amount/100).toFixed(2)} will be refunded.`:null:(0,t.jsxs)(t.Fragment,{children:["Please visit our"," ",(0,t.jsx)(d.Link,{href:"/help",target:"_blank",children:"/help"})," ","page to process your refund."]}):null,[S]),A=(0,n.useMemo)(()=>S&&S.result&&S.amount>0?`You will receive a $${Number(S.amount/100).toFixed(2)} refund confirmation.`:null,[S]);(0,n.useEffect)(()=>{!async function(){if(T){a(!0);try{let[e]=await Promise.all([(0,s.fetchApi)((0,o.API_MERGE_LIST)(T.id,"hobby"),{throwOnHTTPError:!0,contentType:"json"}),(0,u.default)(750)]);f(new Set(e.teams))}catch(e){c.isDev&&console.error(e),f(J)}finally{a(!1)}}}()},[T]);let N=T&&!i&&!w;return((0,n.useEffect)(()=>{N&&y(I.length>0?"merge":"hobby")},[N,I.length,y]),b)?N?I.length>0?(0,t.jsx)(V,{candidates:I,refundNote:M,target:T}):(0,t.jsx)(O,{back:v,backLabel:"Cancel",refundNote:M,refundToastMessage:A,target:T}):(0,t.jsx)(X,{}):(0,t.jsx)(K.SurveyModalContent,{surveyInfo:Z,onSubmit:e=>{let[t]=e.fields,n="select"===t.type?t.options.find(e=>e.selected):void 0;j({reason:n?.id??"no_answer",detail:n?.reveals?.value,user_id:g?.uid||"unknown",team_id:x?.id||"unknown",plan:x?.billing?.plan||"unknown",refund_amount:S?.result?S.amount:0,is_merging:I.length>0})},onDismiss:()=>{v()},showThankYouToast:!1,setActive:()=>{}})}],3494051)},3536695,e=>{"use strict";var t=e.i(7553931),n=e.i(8977282),r=e.i(7917902),i=e.i(7909933),a=e.i(3351118),s=e.i(9070994),o=e.i(4244280),l=e.i(9668517);e.s(["TeamSettingsAuthHandler",0,function(){let e=function(){let e=(0,l.useTeamSlug)(),t=(0,a.useWindowLocationSearchParams)().get("membershipRequestedBy"),{data:n,error:r,isLoading:c}=(0,i.default)(()=>e&&t?`${o.API_TEAMS_MEMBERS}/${e}/request/${t}`:null,e=>(0,s.default)(e,{throwOnHTTPError:!0}));return{isLoading:c||!!e&&!!t&&!n&&!r,membershipRequestStatus:n}}(),c=(0,t.useSearchParams)(),d=(0,t.usePathname)(),{isTeam:u,isLoggedOut:h,team:m}=(0,r.useAccount)();if(d&&!1===u&&!1===h&&"/teams/create"!==d&&!e.isLoading){let t=Error("Team not found");throw t.status=404,e.membershipRequestStatus&&!e.membershipRequestStatus.confirmed&&(t.teamSlug=m?.slug,t.membershipRequestedBy=c?.get("membershipRequestedBy")||void 0),(0,n.removeScope)(),t}return null}],3536695)}]);

//# debugId=fda80b84-df03-721b-c825-d9c014c69e10
//# sourceMappingURL=5fe7ee9f363b28c3.js.map