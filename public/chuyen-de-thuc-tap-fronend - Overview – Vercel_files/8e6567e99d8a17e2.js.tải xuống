;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="f93e3afe-5f1b-1e7a-7093-98c20be55531")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1813317,e=>{"use strict";var i=e.i(7557283),t=e.i(1283928);e.s(["canAccessDimension",0,function(e){let{dimension:i,team:a,can:n,isSeawallFlagged:l,isFirewallFlagged:r}=e,s=t.AllDimensions[i];return!(s.restrictions?.some(e=>{let[i,t]=e;return!n(i,t)})||"clientIp"===i&&a.hideIpAddresses||"wafAction"===i&&!l&&!r||["wafRuleId","clientJa4Digest","clientIpCountry"].includes(i)&&!r)},"canAccessEvent",0,function(e){let{event:a,team:n,can:l}=e,r=t.AllEvents[a];return!r.restrictions?.some(e=>{let[i,t]=e;return!l(i,t)})&&("blockedConnection"!==a||!!(n.permissions?.ipBlocking?.includes(i.Action.List)&&n.permissions.domain?.includes(i.Action.List)))},"canAccessMeasure",0,function(e){let{measure:i}=e;return!0},"getAggregableMeasures",0,e=>Object.keys(t.AllMeasures).filter(i=>{let a=t.AllMeasures[i];return"canAggregate"in a&&(Array.isArray(a.canAggregate)?a.canAggregate.includes(e):a.events.includes(e))}),"getGroupableDimensions",0,e=>Object.keys(t.AllDimensions).filter(i=>{let a=t.AllDimensions[i];return"canGroupBy"in a&&a.events.includes(e)})])},9486194,e=>{"use strict";e.s(["queryBuilderEvents",0,["incomingRequest","imageTransformation","isrOperation","serverlessFunctionInvocation","middlewareInvocation","outgoingRequest","aiGatewayRequest","blockedConnection","firewallAction","botIdCheck","edgeFunctionInvocation"],"staticDimensionValues",0,[{dimensions:["environment"],values:[{id:"production",label:"Production"},{id:"preview",label:"Preview"}]},{dimensions:["requestMethod"],values:[{id:"GET"},{id:"POST"},{id:"PUT"},{id:"DELETE"},{id:"PATCH"},{id:"HEAD"},{id:"OPTIONS"},{id:"PROPFIND"},{id:"TRACE"},{id:"CONNECT"},{id:"PROPPATCH"},{id:"MKCOL"},{id:"COPY"},{id:"MOVE"},{id:"LOCK"},{id:"UNLOCK"}]},{dimensions:["httpStatus"],values:[{id:100},{id:101},{id:102},{id:103},{id:200},{id:201},{id:202},{id:203},{id:204},{id:205},{id:206},{id:207},{id:208},{id:226},{id:300},{id:301},{id:302},{id:303},{id:304},{id:305},{id:306},{id:307},{id:308},{id:400},{id:401},{id:402},{id:403},{id:404},{id:405},{id:406},{id:407},{id:408},{id:409},{id:410},{id:411},{id:412},{id:413},{id:414},{id:415},{id:416},{id:417},{id:418},{id:421},{id:422},{id:423},{id:424},{id:425},{id:426},{id:428},{id:429},{id:431},{id:451},{id:500},{id:501},{id:502},{id:503},{id:504},{id:505},{id:506},{id:507},{id:508},{id:510},{id:511}]},{dimensions:["edgeNetworkRegion","functionRegion","imageTransformationRegion","isrShieldRegion"],values:[{id:"sfo1",label:"San Francisco, USA"},{id:"bom1",label:"Mumbai, India"},{id:"sin1",label:"Singapore"},{id:"fra1",label:"Frankfurt, Germany"},{id:"iad1",label:"Washington D.C., USA"},{id:"cdg1",label:"Paris, France"},{id:"hkg1",label:"Hong Kong, China"},{id:"gru1",label:"São Paulo, Brazil"},{id:"arn1",label:"Stockholm, Sweden"},{id:"cle1",label:"Cleveland, USA"},{id:"cpt1",label:"Cape Town, South Africa"},{id:"dub1",label:"Dublin, Ireland"},{id:"dxb1",label:"Dubai, UAE"},{id:"hnd1",label:"Tokyo, Japan"},{id:"icn1",label:"Seoul, South Korea"},{id:"kix1",label:"Osaka, Japan"},{id:"lhr1",label:"London, UK"},{id:"pdx1",label:"Portland, USA"},{id:"syd1",label:"Sydney, Australia"},{id:"yul1",label:"Montréal, Canada"}]},{dimensions:["cacheResult"],values:[{id:"HIT"},{id:"MISS"},{id:"BYPASS"},{id:"STALE"},{id:"REVALIDATED"},{id:"PRERENDER"}]},{dimensions:["wafAction"],values:[{id:"log",label:"LOG"},{id:"bypass",label:"BYPASS"},{id:"challenge",label:"CHALLENGE"},{id:"challenge-solved",label:"CHALLENGE_SOLVED"},{id:"challenge-failed",label:"CHALLENGE_FAILED"},{id:"deny",label:"DENY"},{id:"rate_limit",label:"RATE_LIMIT"},{id:"redirect",label:"REDIRECT"},{id:"allow",label:"ALLOW"}]},{dimensions:["skewProtection"],values:[{id:"active"},{id:"inactive"}]},{dimensions:["functionStartType"],values:[{id:"hot",label:"HOT"},{id:"cold",label:"COLD"},{id:"prewarmed",label:"PREWARMED"},{id:"unknown",label:"UNKNOWN"}]}]])},9179929,e=>{"use strict";var i=e.i(2749380),t=e.i(1233856),a=e.i(6695816),n=e.i(5778089);e.s(["useLast",0,function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.useMemo)(()=>{if(!e?.data)return null;let{value:t="value",filter:a}=i,n="string"==typeof t?e=>e[t]??null:t;for(let i=e.data.length-1;i>=0;i--){if(a&&!a(e.data[i]))continue;let t=n(e.data[i]);if(null!==t)return t}return null},[e?.data,i])},"useSum",0,function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.useMemo)(()=>{if(!e?.summary)return null;let{value:t="value",filter:a}=i,n=e.summary;return(a&&(n=n.filter(a)),"function"==typeof t)?n.reduce((e,i)=>e+(t(i)??0),0):n.reduce((e,i)=>e+(i[t]??0),0)},[e?.summary,i])},"useTableData",0,function(e){let{enrich:n,meta:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(0,a.useMemo)(()=>{if(!e?.summary)return null;let a=l?.timeseries?.by??[],r=l?.timeseries?.lowGranularity,s=l?.timeseries?.granularity,d=n?e.summary.map(e=>({...e,...n(e)})):e.summary,o=n?e.data?.map(e=>({...e,...n(e)})):e.data,u=a.length>0&&o?o.reduce((e,i)=>{let t=a.map(e=>i[e]).join(",");return e[t]??=[],e[t].push(i),e},{}):{};if(a.length>0&&o){let e=s||(()=>{if(!o.length)return{minutes:1};let e=o.map(e=>new Date(e.timestamp).getTime()),t=Math.min(...e),a=Math.max(...e);return(0,i.getGranularityFromDuration)(a-t,r)})();Object.keys(u).forEach(i=>{let n=u[i];if(0===n.length)return;let l={};n.forEach(i=>{let a=new Date(i.timestamp),n=(0,t.startOfDuration)(a,e).toISOString();l[n]??=[],l[n].push(i)});let r=[];Object.entries(l).forEach(e=>{let[i,t]=e;if(0===t.length)return;let n={...t[0],timestamp:i};Object.keys(t[0]).filter(e=>"number"==typeof t[0][e]&&!a.includes(e)).forEach(e=>{n[e]=t.reduce((i,t)=>i+(t[e]||0),0)}),r.push(n)}),u[i]=r})}let c={};for(let e of d)for(let i in e)"number"==typeof e[i]&&(!c[i]||e[i]>c[i])&&(c[i]=e[i]);let m=Object.keys(c);return d.map(e=>{let i={},t=a.length>0?a.map(i=>e[i]).join(","):null;if(t){let e=u[t];for(let t of m)e&&(i[t]=e.map(e=>({date:e.timestamp,value:e[t]})))}return e.meta={maxValue:c,timeseries:i},e})},[e?.data,e?.summary,l?.timeseries?.by,l?.timeseries?.lowGranularity,l?.timeseries?.granularity,n,...r])},"useTimeseriesData",0,function(e,i){return(0,a.useMemo)(()=>{if(!e?.data)return null;let t={};if("singleCategoryName"in i){let{singleCategoryName:t,rollupName:a="value"}=i;return e.data.map(e=>{let{timestamp:i,...n}=e;return{name:i.toISOString(),[t]:n[a]}})}if("rollupCategories"in i){let{rollupCategories:a,filter:n}=i;e.data.forEach(e=>{if(n&&!n(e))return;let i=e.timestamp.toISOString();Object.entries(a).forEach(a=>{let[n,l]=a,r=e[n]??null;t[i]??={name:i};let s=t[i][l]??null;t[i][l]=null!==r?(s??0)+r:s})})}else{let{category:a,value:l="value",filter:r}=i,s="string"==typeof a?e=>e[a]:a,d="string"==typeof l?e=>e[l]??null:l;e.data.forEach(e=>{if(r&&!r(e))return;let i=e.timestamp.toISOString(),a=s(e)||n.emptyStringReplacement,l=d(e);t[i]??={name:i};let o=t[i][a]??null;t[i][a]=null!==l?(o??0)+l:o})}return Object.values(t)},[e?.data,i])}])},8587921,7873387,e=>{"use strict";var i=e.i(6695816),t=e.i(7909933),a=e.i(3924999),n=e.i(8042625),l=e.i(277234),r=e.i(4244280),s=e.i(9668517),d=e.i(5338940),o=e.i(1717203),u=e.i(7557283);let c=e=>(t,a,n)=>{let l=(0,i.useRef)(void 0),r=e(t,a,n);(0,i.useEffect)(()=>{void 0!==r.data&&(l.current=r.data)},[r.data]);let s=(0,i.useCallback)(()=>{l.current=void 0},[]);return{...r,data:void 0===r.data?l.current:r.data,isLagging:void 0===r.data&&void 0!==l.current,resetLaggy:s}};e.s(["default",0,c],7873387),e.s(["MEMBERS_LIMIT",0,20,"default",0,function(){let{sort:e="date_desc",limit:i=20,filterByUserIds:a,until:s,role:c,includeEntitlements:m,includePermissionRequests:g}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:h,team:b}=(0,d.useTeam)(),{isLoading:p,can:v}=(0,o.default)(),E=!p&&v(u.Action.List,u.Resource.TeamFellowMembership);return(0,t.default)(()=>h&&b&&E?`${r.API_TEAMS_MEMBERS_V3}/${b.id}/members${(0,n.encode)({sort:e,until:s,limit:i,role:c,filterByUserIds:a,includeEntitlements:m,includePermissionRequests:g})}`:null,e=>(0,l.fetchAPI)(e,{throwOnHTTPError:!0}),f)},"useMembersForTeam",0,function(e){let{limit:i=20,until:a,role:s,sort:d="date_desc"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,t.default)(()=>e?`${r.API_TEAMS_MEMBERS_V3}/${e.id}/members${(0,n.encode)({until:a,limit:i,role:s,sort:d})}`:null,e=>(0,l.fetchAPI)(e,{throwOnHTTPError:!0}),o)},"useMembersInfinite",0,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{search:m,limit:g,role:f,eligibleMembersForProjectId:h,sort:b="date_desc",filterByUserIds:p,includeEntitlements:v,mfaStateFilter:E,includePermissionRequests:A}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},S=arguments.length>2&&void 0!==arguments[2]&&arguments[2],y=arguments.length>3&&void 0!==arguments[3]&&arguments[3],{isReady:R,team:M}=(0,d.useTeam)(),{isLoading:T,can:P}=(0,o.default)(),L=!T&&P(u.Action.List,u.Resource.TeamFellowMembership),O=(0,s.useTeamSlug)(),I=g||20,w=(0,a.default)((e,i)=>{if(!R||!M||!L)return null;if(0===e)return`${r.API_TEAMS_MEMBERS_V3}/${M.id}/members${(0,n.encode)({sort:b,limit:I,search:m,role:f,eligibleMembersForProjectId:h,filterByUserIds:p,includeEntitlements:!!v||void 0,filterByMfaState:"all"!==E?E:void 0,includePermissionRequests:A})}`;let t=i?.pagination.nextPageCursor;return t?`${r.API_TEAMS_MEMBERS_V3}/${M.id}/members${(0,n.encode)({sort:b,limit:I,nextPageCursor:t,search:m,role:f,eligibleMembersForProjectId:h,includeEntitlements:!!v||void 0,filterByMfaState:"all"!==E?E:void 0,includePermissionRequests:A})}`:null},e=>(0,l.fetchAPI)(e,{throwOnHTTPError:!0}),{...e,use:S?[c]:[]});(0,i.useEffect)(()=>{S&&w.resetLaggy()},[O,S]);let x=(0,i.useMemo)(()=>w.data?.flatMap(e=>e.members.slice(0,I))||[],[w.data,I]),C=(0,i.useMemo)(()=>w.data?.flatMap(e=>e.permissionRequests||[])||[],[w.data]),_=!!w.data,j=_&&0===x.length,D=!!(_&&w.data&&w.size>w.data.length),k=!!(_&&w.data&&!w.data[w.data.length-1]?.pagination?.nextPageCursor);return(0,t.default)(()=>{if(!y||!w.data||k||!R||!M)return null;let e=w.data[w.data.length-1].pagination.nextPageCursor;return`${r.API_TEAMS_MEMBERS_V3}/${M.id}/members${(0,n.encode)({sort:b,limit:I,nextPageCursor:e,search:m,role:f,eligibleMembersForProjectId:h,includeEntitlements:v,filterByMfaState:"all"!==E?E:void 0,includePermissionRequests:A})}`},e=>(0,l.fetchAPI)(e,{throwOnHTTPError:!0})),[w,{members:x,permissionRequests:C.filter(e=>null!=e),initialDataLoaded:_,isEmpty:j,loadMore:()=>w.setSize(w.size+1),isLoadingMore:D,isReachingEnd:k,isLagging:w.isLagging}]},"useSuggestedMembersInfinite",0,function(){let{limit:e=25,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{can:r,isLoading:c}=(0,o.default)(),m=!c&&r(u.Action.Create,u.Resource.TeamFellowMembership),{isReady:g,team:f}=(0,d.useTeam)(),h=(0,s.useTeamSlug)(),b=(0,a.default)((i,t)=>{if(!g||!f||!m)return null;if(!i)return`/api/teams/${h}/members/suggested${(0,n.encode)({limit:e})}`;let a=t?.members,l=a?.length===e?a[a.length-1].email:null;return l?`/api/teams/${h}/members/suggested${(0,n.encode)({limit:e,from:l})}`:null},e=>(0,l.fetchAPI)(e,{throwOnHTTPError:!0}),t),p=(0,i.useMemo)(()=>b.data?.flatMap(i=>i.members.slice(0,e))||[],[b.data,e]),v=!!b.data,E=v&&0===p.length,A=!!(v&&b.data&&b.size>b.data.length),S=!!(v&&b.data&&b.data[b.data.length-1]?.members.length<e);return[b,{members:p,initialDataLoaded:v,isEmpty:E,loadMore:()=>b.setSize(b.size+1),isLoadingMore:A,isReachingEnd:S}]}],8587921)},4723202,e=>{"use strict";var i=e.i(31889),t=e.i(6695816),a=e.i(2504781),n=e.i(5255926),l=e.i(455575),r=e.i(5468328),s=e.i(277234),d=e.i(5338940),o=e.i(8587921),u=e.i(5140444),c=e.i(8248823),m=e.i(57106);async function g(e,i){await (0,s.fetchAPI)(`/api/teams/${e}/role-requests?teamId=${e}`,{method:"POST",body:JSON.stringify({teamRoles:[i]}),throwOnHTTPError:!0})}e.s(["RequestRoleButton",0,function(e){let{teamRole:s,variant:f="card"}=e,{team:h,isLoading:b}=(0,d.useTeam)(),{hasRequestedRole:p,mutate:v,isLoading:E}=function(e){let{user:i,isLoading:t}=(0,u.useUser)(),{data:a,mutate:n,isLoading:l}=(0,o.default)({includePermissionRequests:!0}),r=a?.permissionRequests;return{hasRequestedRole:r?.some(t=>t.uid===i?.uid&&t.requestedTeamRole.includes(e))??!1,mutate:n,isLoading:t||l}}(s),[A,S]=(0,t.useState)(!1),[y,R]=(0,t.useState)(!1);if(h?.membership?.role!=="VIEWER_FOR_PLUS")return null;let M=p||y;return(0,i.jsx)(n.Skeleton,{show:E||b,children:(0,i.jsx)(r.Tooltip,{disableTriggers:!M,text:(0,i.jsxs)(i.Fragment,{children:["An Owner of the team can accept your request. Requests are managed in the"," ",(0,i.jsx)(m.Link,{href:`/${h?.slug}/~/settings/members`,type:"highlight",children:"team members page"}),"."]}),children:(0,i.jsx)(a.Button,{disabled:M,loading:A,className:"card"===f?"text-label-14 font-medium":void 0,onClick:async()=>{if(h?.id){S(!0);try{await g(h.id,s),v(),R(!0),l.toasts.success("Request for the Member role has been sent")}catch(e){l.toasts.error((0,c.errorToString)(e,"Failed to send request"))}finally{S(!1)}}},size:"card"===f?"small":void 0,type:"card"===f?"tertiary":void 0,children:M?"Access Requested":"Request Access"})})})}])},8556491,e=>{"use strict";var i=e.i(31889),t=e.i(4723202),a=e.i(57106),n=e.i(1235157),l=e.i(6352514),r=e.i(4759942);e.s(["AdditionalPermissionsRequiredModal",0,function(e){let{role:s,team:d,actionLabel:o,dataTestId:u}=e;return(0,i.jsx)("div",{className:"absolute inset-0 z-[100] flex items-center justify-center bg-[rgba(255,255,255,0.5)] dark:bg-[rgba(0,0,0,0.5)]",children:(0,i.jsx)("div",{className:"absolute top-0 @md-page:top-[80px] left-1/2 -translate-x-1/2 z-[101] w-full max-w-[560px] animate-[fadeIn_300ms_ease-in-out_forwards] pointer-events-auto","data-testid":u,children:(0,i.jsxs)("div",{className:"shadow-lg @md-page:rounded-lg max-w-full bg-white overflow-hidden",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-6 p-6",children:[(0,i.jsx)("span",{className:"text-heading-24",children:"Additional Permissions Required"}),(0,i.jsxs)("div",{children:["As a ",(0,i.jsx)("strong",{children:s?(0,n.getRoleName)(s):"Viewer"})," user on the ",(0,i.jsx)("strong",{children:d?.name})," team, you do not have permission to ",o,"."]}),(0,i.jsxs)("div",{className:"text-center break-words pt-2 text-gray-900",children:["Learn more about"," ",(0,i.jsx)(a.Link,{external:!0,href:"/docs/rbac/access-roles",onClick:()=>{r.analytics.track(l.AnalyticsEvent.PERMISSIONS_CLICKED_LEARN_MORE)},type:"highlight",children:"Roles and Permissions"})]})]}),"VIEWER_FOR_PLUS"===s?(0,i.jsx)("div",{className:"flex justify-end items-center bg-background-200 p-4 border-t mt-2",children:(0,i.jsx)(t.RequestRoleButton,{teamRole:"MEMBER",variant:"modal"})}):null]})})})}])},1068837,e=>{"use strict";var i=e.i(31889),t=e.i(1717203),a=e.i(8556491);e.s(["AdditionalPermissionsRequiredModalClient",0,function(e){let{actionLabel:n,permissionChecks:l}=e,{can:r,isLoading:s,accessInfo:d}=(0,t.default)(),o=l.every(e=>{let[i,t]=e;return r(i,t)});return s||o?null:(0,i.jsx)(a.AdditionalPermissionsRequiredModal,{role:d?.role,team:d?.team??void 0,actionLabel:n})}])}]);

//# debugId=f93e3afe-5f1b-1e7a-7093-98c20be55531
//# sourceMappingURL=589c9aad49259ff5.js.map