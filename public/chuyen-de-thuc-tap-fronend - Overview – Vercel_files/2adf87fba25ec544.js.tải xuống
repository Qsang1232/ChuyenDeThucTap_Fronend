;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="5556b408-9d8a-406b-36e2-cc4f98286c97")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2327170,7713429,e=>{"use strict";var t=e.i(31889),a=e.i(616019),r=e.i(3954609),i=e.i(8161149),s=e.i(8459493),l=e.i(8735244),n=e.i(5232300),o=e.i(6318858),c=e.i(3487134),d=e.i(8664271),u=e.i(6357175),m=e.i(8835183),h=e.i(8042625),x=e.i(277234),p=e.i(9668517),g=e.i(7909933);function f(){let{search:e,options:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,p.useTeamSlug)();return(0,g.default)(a?function(e){let{teamSlug:t,search:a}=e;return`/api/dashboard/projects-filters${(0,h.encode)({teamId:t,...a?{search:a.query,type:a.type}:void 0})}`}({teamSlug:a,search:e}):null,e=>(0,x.fetchAPI)(e),{revalidateOnFocus:!1,...t,revalidateIfStale:!1})}e.s(["useDashboardProjectFilters",0,f],7713429);var j=e.i(2695633),v=e.i(6695816),y=e.i(6698404),w=e.i(3322724),b=e.i(7027445);function N(e){let{item:a,onClick:r,isSelected:i}=e,{key:{gitType:l,gitOwner:n,gitRepo:c}}=a,d=`https://${l}.${"bitbucket"===l?"org":"com"}/${n}/${c}`;return(0,t.jsx)(s.MenuItem,{onClick:r,children:(0,t.jsxs)("div",{className:"flex w-full flex-row items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex min-w-0 flex-row items-center gap-1.5",children:[(0,t.jsx)(j.GitLogo,{className:"shrink-0",gitType:l}),(0,t.jsxs)("span",{className:"truncate",children:[n,"/",c]})]}),i?(0,t.jsx)(o.Check,{color:"gray-900",className:"shrink-0"}):null]})},d)}function k(e){let{item:a,onClick:r,isSelected:i}=e,{key:{name:l}}=a;return(0,t.jsx)(s.MenuItem,{onClick:r,children:(0,t.jsxs)("div",{className:"flex w-full flex-row items-center justify-between gap-2",children:[(0,t.jsx)("div",{className:"flex min-w-0 flex-row items-center gap-1.5",children:(0,t.jsx)("span",{className:"truncate",children:l})}),i?(0,t.jsx)(o.Check,{color:"gray-900",className:"shrink-0"}):null]})})}function S(e){let{type:r,queryKey:s,queryDefinition:o,MenuItemComponent:c,placeholder:d,limit:h=10,serialize:x,deserialize:p,initialData:g}=e,[j,y,{currentValue:b}]=(0,u.useDebounceState)("",300),N=(0,w.useIsMobile)(),{actions:k}=(0,n.useMenu)(),S=(0,v.useRef)(void 0),[C,P]=(0,a.useQueryState)(s,o),{data:I,isLoading:M}=f({search:j?{query:j,type:r}:void 0}),D=(0,v.useMemo)(()=>{if(!I?.[r]&&!g?.length)return;let e=I?.[r]?.map(e=>({...e,serialized:x(e.key),fromSearch:!0}))??[];if(!j)for(let t of g??[]){let a=x(t),r=e.find(e=>e.serialized===a);r?(r.count+=1,r.fromSearch=!1):e.push({key:t,serialized:a,count:1,fromSearch:!1})}let t=e.sort((e,t)=>e.fromSearch!==t.fromSearch?e.fromSearch?1:-1:t.count-e.count),a=C?e.find(e=>e.serialized===C)??(()=>{let e=p(C);if(e)return{key:e,serialized:C,count:0}})():void 0;return a?[a,...t.filter(e=>e.serialized!==a.serialized).slice(0,h-1)]:t.slice(0,h)},[I,r,g,j,C,h,x,p]);D&&I?.[r]&&(S.current=D);let L=!I?.[r]&&S.current?S.current:D;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("li",{className:"mx-px mb-2",children:(0,t.jsx)(m.SearchInput,{autoFocus:!N,clearable:!1,loading:j.length>0&&M,onChange:e=>y(e.target.value),placeholder:`Search ${d}…`,suffixStyling:!1,value:b})}),L?L.map(e=>(0,t.jsx)(c,{item:e,isSelected:e.serialized===C,onClick:()=>{(0,v.startTransition)(async()=>{await P(e.serialized===C?null:e.serialized)}),k.setOpen(!1)}},e.serialized)):null,L&&0===L.length?(0,t.jsx)(i.EmptyState.Root,{border:!1,description:"No Results"}):null,I?.[r]||S.current?null:(0,t.jsx)("div",{className:"flex w-full items-center justify-center py-4",children:(0,t.jsx)(l.Spinner,{})})]})}e.s(["ProjectsGroupFilterItem",0,function(e){let{onClick:i}=e,[l]=(0,a.useQueryState)("mfe",r.teamOverviewSearchParams.mfe);return(0,t.jsx)(s.MenuItem,{onClick:i,prefix:(0,t.jsx)(c.Microfrontends,{}),suffix:l?(0,t.jsx)(o.Check,{color:"gray-900"}):null,children:"Microfrontend"})},"ProjectsGroupFilterMenu",0,function(){return(0,t.jsx)(S,{type:"groups",queryKey:"mfe",queryDefinition:r.teamOverviewSearchParams.mfe,placeholder:"microfrontends",MenuItemComponent:k,limit:10,...r.mfeFilter})},"ProjectsRepositoryFilterItem",0,function(e){let{onClick:i}=e,[l]=(0,a.useQueryState)("repo",r.teamOverviewSearchParams.repo);return(0,t.jsx)(s.MenuItem,{onClick:i,prefix:(0,t.jsx)(d.Repositories,{}),suffix:l?(0,t.jsx)(o.Check,{color:"gray-900"}):null,children:"Repository"})},"ProjectsRepositoryFilterMenu",0,function(){let e=(0,y.useTeamOverviewState)(e=>e.projectRepos);return(0,t.jsx)(S,{type:"repos",queryKey:"repo",queryDefinition:r.teamOverviewSearchParams.repo,placeholder:"repositories",MenuItemComponent:N,initialData:e,...r.repositoryFilter})},"ProjectsV0Filter",0,function(){let[e,i]=(0,a.useQueryState)("v0",r.teamOverviewSearchParams.v0),{actions:l}=(0,n.useMenu)(),c=e=>{l.setOpen(!1),(0,v.startTransition)(async()=>{await i(e)})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.MenuItem,{prefix:(0,t.jsx)(b.LogoV0,{}),suffix:!1===e?(0,t.jsx)(o.Check,{color:"gray-900"}):null,onClick:()=>c(!1===e&&null),children:"Hide v0 projects"}),(0,t.jsx)(s.MenuItem,{prefix:(0,t.jsx)(b.LogoV0,{}),suffix:!0===e?(0,t.jsx)(o.Check,{color:"gray-900"}):null,onClick:()=>c(!0!==e||null),children:"Show only v0 projects"})]})}],2327170)},9798117,e=>{"use strict";var t=e.i(31889),a=e.i(8674454),r=e.i(6694387),i=e.i(4991687),s=e.i(5326905),l=e.i(8459493),n=e.i(940143),o=e.i(5232300),c=e.i(6318858),d=e.i(4756166),u=e.i(616019),m=e.i(6695816),h=e.i(3954609),x=e.i(2327170),p=e.i(7713429),g=e.i(7750276);function f(e){let{prefetch:a,onClose:r}=e,{state:i}=(0,o.useMenu)();return(0,m.useEffect)(()=>{i.open||r()},[r,i.open]),i.open||a?(0,t.jsx)(j,{}):null}function j(){return(0,p.useDashboardProjectFilters)(),null}function v(){let[{sort:e},a]=(0,u.useQueryStates)(h.teamOverviewSearchParams),{actions:r}=(0,o.useMenu)();return(0,t.jsxs)(n.MenuSection,{title:"Sort by",children:[(0,t.jsx)(l.MenuItem,{suffix:e?null:(0,t.jsx)(c.Check,{color:"gray-900"}),onClick:()=>{r.setOpen(!1),(0,m.startTransition)(async()=>{await a({sort:null})})},children:"Activity"}),(0,t.jsx)(l.MenuItem,{suffix:"name"===e?(0,t.jsx)(c.Check,{color:"gray-900"}):null,onClick:()=>{r.setOpen(!1),(0,m.startTransition)(async()=>{await a({sort:"name"})})},children:"Name"})]})}e.s(["ProjectsFiltersMenu",0,function(e){let{projectViewMenuItems:l}=e,[o,c]=(0,m.useState)(void 0),[u,h]=(0,m.useState)(!1),p=(0,m.useMemo)(()=>"repositories"===o?(0,t.jsx)(x.ProjectsRepositoryFilterMenu,{}):"groups"===o?(0,t.jsx)(x.ProjectsGroupFilterMenu,{}):null,[o]),{value:j}=(0,g.useEntitlement)("v0-team-seats");return(0,t.jsxs)(i.MenuContainer,{closeOnSelect:!1,children:[(0,t.jsx)(r.MenuButton,{svgOnly:!0,type:"secondary",size:"medium","aria-label":"Filter and Sort Projects",shape:"square",onMouseEnter:()=>{h(!0)},children:(0,t.jsx)(d.ListFilter,{})}),(0,t.jsx)(a.Menu,{width:280,children:p||(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.MenuSection,{title:"Filter by",children:[(0,t.jsx)(x.ProjectsRepositoryFilterItem,{onClick:()=>c("repositories")}),(0,t.jsx)(x.ProjectsGroupFilterItem,{onClick:()=>c("groups")})]}),(0,t.jsx)(s.MenuDivider,{}),(0,t.jsx)(v,{}),j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.MenuDivider,{}),(0,t.jsx)(n.MenuSection,{title:"Preferences",children:(0,t.jsx)(x.ProjectsV0Filter,{})})]}),l]})}),(0,t.jsx)(f,{prefetch:u,onClose:()=>{c(void 0)}})]})}])},8662297,e=>{"use strict";var t=e.i(9171423),a=e.i(4244280);let r=async e=>{let{scopeId:r,viewPreference:i,favoritesViewPreference:s,recentsViewPreference:l}=e;r&&await (0,t.fetchApi)(a.API_USER,{method:"PATCH",body:{scopeId:r,viewPreference:i,favoritesViewPreference:s,recentsViewPreference:l}})};e.s(["updatePreferredScopeAndDashboardView",0,r])},6779607,e=>{"use strict";var t=e.i(31889),a=e.i(6695816),r=e.i(7553931),i=e.i(8662297);function s(e,t){let s=(0,r.useSearchParams)(),l=s?.get("view")==="list"?"list":t??"grid",[n,o]=(0,a.useState)(s?.get("sort")==="name"?"name":"default"),[c,d]=(0,a.useState)(l);(0,a.useEffect)(()=>{s?.has("sort")?o("name"===s.get("sort")?"name":"default"):o("default"),s?.has("view")&&d("list"===s.get("view")?"list":"grid")},[s]);let u=(0,a.useCallback)(t=>{e&&((0,i.updatePreferredScopeAndDashboardView)({scopeId:e,viewPreference:"list"===t?"list":"cards"}),d("list"===t?"list":"grid"))},[e]);return{sort:n,view:c,setSort:o,setView:d,saveViewPreferences:u}}var l=e.i(5326905),n=e.i(8459493),o=e.i(940143),c=e.i(8923565),d=e.i(5232300),u=e.i(616019),m=e.i(3954609),h=e.i(6318858),x=e.i(2762633),p=e.i(9550268);e.s(["ProjectViewMenuItems",0,function(e){let{initialValue:r,ownerId:i}=e,[{view:c="grid"},g]=(0,u.useQueryStates)(m.teamOverviewSearchParams),{view:f,saveViewPreferences:j}=s(i,c??r??void 0),{actions:v}=(0,d.useMenu)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.MenuDivider,{className:"@lg-page:hidden"}),(0,t.jsxs)(o.MenuSection,{title:"View",className:"@lg-page:hidden",children:[(0,t.jsx)(n.MenuItem,{prefix:(0,t.jsx)(x.GridSquare,{}),suffix:"grid"===f?(0,t.jsx)(h.Check,{color:"gray-900"}):null,onClick:()=>{j("grid"),v.setOpen(!1),(0,a.startTransition)(async()=>{await g({view:"grid"})})},children:"Grid View"}),(0,t.jsx)(n.MenuItem,{prefix:(0,t.jsx)(p.ListUnordered,{}),suffix:"list"===f?(0,t.jsx)(h.Check,{color:"gray-900"}):null,onClick:()=>{j("list"),v.setOpen(!1),(0,a.startTransition)(async()=>{await g({view:"list"})})},children:"List View"})]})]})},"ProjectViewSwitch",0,function(e){let{initialValue:a,ownerId:r}=e,[{view:i="grid"},l]=(0,u.useQueryStates)(m.teamOverviewSearchParams),{view:n,saveViewPreferences:o}=s(r,i??a??void 0);return(0,t.jsxs)(c.Switch,{className:"hidden @lg-page:flex",children:[(0,t.jsx)(c.Switch.Control,{checked:"grid"===n,icon:(0,t.jsx)(x.GridSquare,{}),label:"grid",onChange:()=>{o("grid"),l({view:"grid"})}}),(0,t.jsx)(c.Switch.Control,{checked:"list"===n,icon:(0,t.jsx)(p.ListUnordered,{}),label:"list",onChange:()=>{o("list"),l({view:"list"})}})]})}],6779607)},6091627,e=>{"use strict";var t=e.i(31889),a=e.i(5257834),r=e.i(7837522),i=e.i(7780974),s=e.i(60582),l=e.i(1295503);e.s(["ClientCreateMenuItem",0,function(e){let{href:n,trackingTarget:o,label:c,testid:d,onClick:u}=e,{track:m}=(0,r.useTrackActivity)(),h=()=>{m(i.VercelActivityAction.AddNewMenuItemClicked,{target:o}),u?.()};return s.IS_DASH?n?(0,t.jsx)(l.ActionMenuLink,{"data-testid":d,href:n,onClick:h,children:c}):(0,t.jsx)(l.ActionMenuItem,{"data-testid":d,onClick:h,children:c}):(0,t.jsx)(a.MenuLink,{"data-testid":d,href:n,onClick:h,shouldOnClickWhenLink:!0,children:c})}])},7818323,e=>{"use strict";var t=e.i(31889),a=e.i(4004502);e.i(6483798);var r=e.i(8287059),i=e.i(6091627);e.s(["CreateTeamMenuItemClient",0,function(){let e=(0,r.useOpenUpgradeModal)();return(0,t.jsx)(i.ClientCreateMenuItem,{label:"Team",onClick:()=>{e({source:"add-new",forceCreateTeam:!0,trialBehavior:"choose"})},testid:(0,a.tid)("dashboard","team","add"),trackingTarget:"team"})}])},2943367,e=>{"use strict";var t=e.i(31889),a=e.i(6695816),r=e.i(3954609),i=e.i(616019),s=e.i(2504781),l=e.i(8674454),n=e.i(6694387),o=e.i(4991687),c=e.i(9096446),d=e.i(3487134),u=e.i(5614970),m=e.i(2327170);function h(e){let{label:a,prefix:r,onDismiss:i,MenuContent:d}=e;return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(o.MenuContainer,{children:[(0,t.jsx)(n.MenuButton,{className:"!pl-2 !pr-1",prefix:r,type:"secondary",size:"small",shape:"rounded",suffix:(0,t.jsx)("div",{className:"size-6"}),children:a}),(0,t.jsx)(l.Menu,{width:280,children:(0,t.jsx)(d,{})})]}),(0,t.jsx)(s.Button,{svgOnly:!0,"aria-label":"Remove Filter",className:"absolute right-1 top-1",onClick:i,type:"tertiary",shape:"circle",size:"tiny",children:(0,t.jsx)(c.CrossSmall,{color:"gray-1000"})})]})}e.s(["ProjectFiltersPills",0,function(){let[{repo:e,mfe:s},l]=(0,i.useQueryStates)(r.teamOverviewSearchParams);if(!e&&!s)return null;let n=e?r.repositoryFilter.deserialize(e):void 0,o=s?r.mfeFilter.deserialize(s):void 0;return(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[n?(0,t.jsx)(h,{label:`${n.gitOwner}/${n.gitRepo}`,prefix:(0,t.jsx)(u.default,{gitType:n.gitType,width:16,height:16}),onDismiss:()=>{(0,a.startTransition)(async()=>{await l({repo:null})})},MenuContent:m.ProjectsRepositoryFilterMenu}):null,o?(0,t.jsx)(h,{label:o.name,prefix:(0,t.jsx)(d.Microfrontends,{}),onDismiss:()=>{(0,a.startTransition)(async()=>{await l({mfe:null})})},MenuContent:m.ProjectsGroupFilterMenu}):null]})}])},9388656,e=>{"use strict";e.s(["linkClassName",0,"min-w-0 text-inherit no-underline hover:underline [&>svg]:align-middle [&:not(:hover)>svg]:hidden [&>svg]:ml-1"])},3114048,e=>{"use strict";var t=e.i(31889),a=e.i(5468328),r=e.i(9722978),i=e.i(7553931),s=e.i(7218483),l=e.i(4396019),n=e.i(8227242),o=e.i(5002318),c=e.i(6060673),d=e.i(4206574);function u(e){let{label:u,withAuthor:m,dashboardProject:h,children:x}=e,p=(0,i.useParams)(),{data:g}=(0,c.useProject)(h?.id||p?.project),{rollbackDescription:f}=(0,l.useProjectProductionDeployment)(g?.id),j=(0,s.useAgo)(g?.lastAliasRequest?.requestedAt,{long:!0,justNowLabel:"just now"});if(g?.lastAliasRequest===void 0)return null;let v=(0,t.jsxs)(t.Fragment,{children:[f?.username?`@${f.username}`:""," "]}),y=(0,d.getPromotionStatusInfo)({project:g});return(0,t.jsx)(a.Tooltip,{center:!1,disableTriggers:f?.username===void 0,position:"bottom",text:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-1 flex-initial",children:[f?.description!==void 0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium whitespace-nowrap",children:m?(0,t.jsxs)(t.Fragment,{children:[v," rolled back:"]}):"Reason for rollback:"}),(0,t.jsxs)("blockquote",{className:"m-0 text-sm",children:["“",(0,t.jsx)(n.LinkParser,{text:f.description}),"”"]})]}),y?(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:(0,t.jsx)(o.DeploymentAliasToolTipText,{...y})}):null]}),children:x||(0,t.jsx)("div",{className:(0,r.clsx)("inline border-x-0 border-b border-t-0",f?.username!==void 0&&"border-dashed border-current"),children:u||(0,t.jsxs)(t.Fragment,{children:[v,j]})})})}e.i(9623499);var m=e.i(5576066),h=e.i(2457794),x=e.i(2348990),p=e.i(3896684),g=e.i(8893913),f=e.i(6695816),j=e.i(6352514),v=e.i(4759942),y=e.i(9481787),w=e.i(9668517),b=e.i(6065693);let N=(0,f.createContext)(Promise.resolve([]));function k(e){var a;let r,{project:i}=e,s=(0,w.useTeamSlug)(),{name:l,speedInsights:n}=i,o=(a=i.id,r=(0,f.useContext)(N),(0,f.use)(r).find(e=>e.projectId===a)),c=new URL(`/${l}/speed-insights`,"https://vercel.com"),d=(0,y.getDashboardHref)(`${c.pathname}${c.search}`,s);return n&&(0,x.isSpeedInsightsEnabled)(i)?o?(0,t.jsx)(C,{score:o.value,url:d}):(0,t.jsx)(P,{url:d}):(0,t.jsx)(S,{url:d})}function S(e){let{url:r}=e;return(0,t.jsx)(m.Link,{href:r,onClick:()=>{v.analytics.track(j.AnalyticsEvent.SPEED_INSIGHTS_PROJECT_CARD_UPSELL_CLICKED)},className:"inline-flex",prefetch:!1,children:(0,t.jsx)(a.Tooltip,{delay:!1,text:"Get detailed performance metrics with Speed Insights.",children:(0,t.jsx)(h.default,{size:"small",children:(0,t.jsx)(p.ChartActivity,{color:"gray-900"})})})})}function C(e){let{url:a,score:r}=e;return(0,t.jsx)(m.Link,{href:a,className:"inline-flex",prefetch:!1,children:(0,t.jsx)(h.default,{size:"small",value:r,children:r.toString()})})}function P(e){let{url:r}=e;return(0,t.jsx)(m.Link,{href:r,className:"inline-flex",prefetch:!1,children:(0,t.jsx)(a.Tooltip,{delay:!1,text:"This project has not collected data during the past 7 days.",children:(0,t.jsx)(h.default,{size:"small",children:(0,t.jsx)(b.NoData,{})})})})}function I(){return(0,t.jsx)(h.default,{size:"small"})}N.displayName="SpeedInsightsContext",e.s(["ProjectAlert",0,function(e){let{project:a}=e,{productionDeployment:r}=a;return r?.deploymentIsStale?(0,t.jsx)("div",{className:"z-[2]",children:(0,t.jsx)(u,{dashboardProject:a,withAuthor:!0,children:(0,t.jsx)("div",{className:"flex size-8 items-center justify-center rounded-full bg-amber-200",children:(0,t.jsx)(g.RotateCounterClockwise,{color:"amber-900"})})})}):(0,t.jsx)(f.Suspense,{fallback:(0,t.jsx)(I,{}),children:(0,t.jsx)(k,{project:a})})},"ProjectSpeedInsightsSkeleton",0,I,"SpeedInsightsProvider",0,function(e){let{children:a,scores:r}=e;return(0,t.jsx)(N.Provider,{value:r,children:a})}],3114048)},5286689,4352669,e=>{"use strict";var t=e.i(31889),a=e.i(8459493),r=e.i(6613731),i=e.i(9267266);function s(e){let{project:s}=e,{productionDeployment:l,domain:n}=s,o=function(e){if(!(!e||e.includes("*")))try{return new URL(`https://${e}`).href}catch{return}}(n),c=(0,i.useShouldVisitWithTheToolbar)(l);return o&&c?(0,t.jsx)(a.MenuItem,{className:"no-underline",href:(0,r.wrapURLWithFeedback)(o,{via:"team-dashboard-project-menu",isProduction:!0}),isLink:!0,children:"Visit with Toolbar"}):null}var l=e.i(5468328),n=e.i(6695816),o=e.i(1717203),c=e.i(7557283),d=e.i(9694629),u=e.i(5756088);function m(e){let{project:r}=e,i=(0,d.useOpenTransferModal)(),{preload:s,enablePreload:m}=(0,d.usePreloadTransferModal)(),{can:h}=(0,o.default)({projectIdOrName:r.name}),x=h(c.Action.Create,c.Resource.ProjectTransferOut);return(0,n.useEffect)(()=>{x&&!s&&m()},[x,s,m]),(0,t.jsx)(a.MenuItem,{innerMenuItemClassName:"no-underline !event-pointers-auto",onClick:()=>i({preselectedProjects:[r],source:"dashboard-transfer-menu-item"}),suffix:x?void 0:(0,t.jsx)(u.LockClosed,{}),disabled:!x,style:{textDecoration:"none"},children:x?"Transfer Project":(0,t.jsx)(l.Tooltip,{style:{textDecoration:"none"},text:"You need additional permissions to transfer this project.",children:"Transfer Project"})})}var h=e.i(8436238),x=e.i(9543208),p=e.i(387079),g=e.i(439862);function f(e){let{isFavorite:a}=e,r=(0,g.default)(v),i=(0,g.default)(j);return(0,t.jsxs)(h.motion.div,{className:"group -mx-2 flex h-full w-[calc(100%+16px)] items-center justify-between px-2",children:[a?"Remove":"Add"," Favorite",(0,t.jsx)("span",{"aria-hidden":!0,style:{height:16},children:a?(0,t.jsx)(p.StarFill,{color:"gray-900"}):(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(x.Star,{color:"gray-900"}),(0,t.jsx)("div",{className:"absolute -left-1 -top-1 block size-6",children:y.map((e,a)=>(0,t.jsx)("div",{className:"absolute size-1.5 text-[--color]",style:{"--starting-position-x":`${e.start.position.x}px`,"--starting-position-y":`${e.start.position.y}px`,"--starting-scale":e.start.scale,"--ending-position-x":`${e.end.position.x}px`,"--ending-position-y":`${e.end.position.y}px`,"--ending-scale":e.end.scale,"--color":e.color,"--delay":`${i[a]}ms`,"--duration":`${r[a]}ms`},children:(0,t.jsx)(w,{className:"block translate-x-[--starting-position-x] translate-y-[--starting-position-y] scale-[--starting-scale] transition-transform ease-out group-hover:translate-x-[--ending-position-x] group-hover:translate-y-[--ending-position-y] group-hover:scale-[--ending-scale] group-hover:delay-0 group-hover:duration-100"})},a))})]})})]})}let j=[0,50,80,100,120],v=[150,180,200,260,340],y=[{delay:0,color:"var(--ds-purple-700)",start:{position:{x:6,y:6},scale:0},end:{position:{x:1,y:1},scale:1}},{delay:100,color:"var(--ds-amber-700)",start:{position:{x:13,y:6},scale:0},end:{position:{x:16,y:0},scale:.7}},{delay:100,color:"var(--ds-pink-700)",start:{position:{x:2,y:13},scale:0},end:{position:{x:0,y:13},scale:.5}},{delay:50,color:"var(--ds-teal-700)",start:{position:{x:9,y:15},scale:0},end:{position:{x:9,y:18},scale:.7}},{delay:200,color:"var(--ds-blue-700)",start:{position:{x:15,y:12},scale:0},end:{position:{x:18,y:13},scale:.5}}];function w(e){let{className:a}=e;return(0,t.jsx)("svg",{className:a,fill:"none",height:"6",viewBox:"0 0 6 6",width:"6",xmlns:"http://www.w3.org/2000/svg",style:{transitionDuration:"var(--duration)",transitionDelay:"var(--delay)"},children:(0,t.jsx)("path",{d:"M2.5 0.5V0H3.5V0.5C3.5 1.60457 4.39543 2.5 5.5 2.5H6V3V3.5H5.5C4.39543 3.5 3.5 4.39543 3.5 5.5V6H3H2.5V5.5C2.5 4.39543 1.60457 3.5 0.5 3.5H0V3V2.5H0.5C1.60457 2.5 2.5 1.60457 2.5 0.5Z",fill:"currentColor"})})}var b=e.i(1613936),N=e.i(9668517),k=e.i(8674454),S=e.i(6694387),C=e.i(4991687),P=e.i(5326905),I=e.i(940143),M=e.i(7027445),D=e.i(8876434),L=e.i(8172689),A=e.i(4597921);let F=(0,n.createContext)(()=>Promise.resolve([]));function T(){return(0,n.useContext)(F)}F.displayName="ProjectsMutateContext",e.s(["ProjectsMutateContextProvider",0,function(e){let{children:a,mutate:r}=e;return(0,t.jsx)(F.Provider,{value:r,children:a})},"useProjectsMutateContext",0,T],4352669);var R=e.i(6159310),z=e.i(3877294);function O(e){let{project:r}=e,{isFavorite:i,removeFavorite:s,addFavorite:l}=function(e){let{addFavorite:t,removeFavorite:a,favorites:r}=(0,n.useContext)($);return{addFavorite:()=>t(e),removeFavorite:()=>a(e),isFavorite:r.includes(e)}}(r.id),o=T();return(0,t.jsx)(a.MenuItem,{onClick:()=>{o(e=>{let[t,...a]=e??[];if(!t)return e;let{favorites:s=[]}=t,l=i?s.filter(e=>e.id!==r.id):[...s,r];return[{...t,favorites:l},...a]},{revalidate:!1}),(i?s():l()).finally(()=>{o()})},children:(0,t.jsx)(f,{isFavorite:i},r.id)})}function E(e){let{project:r}=e,i=(0,N.useTeamSlug)(),{can:s}=(0,o.default)({projectIdOrName:r.name}),n=(0,R.useLink)();if(!i||!r.link||"github"!==r.link.type)return null;let d=`https://github.com/${r.link.org}/${r.link.repo}`,m=s(c.Action.Create,c.Resource.Project),h=n("/new/[teamSlug]/import",{search:{s:d,"project-name":`${r.link?.org}-${r.link?.repo}`}}),x=(0,t.jsx)(a.MenuItem,{innerMenuItemClassName:"!pointer-events-auto no-underline",href:h,disabled:!m,isLink:m,suffix:m?null:(0,t.jsx)(u.LockClosed,{}),children:m?"Import Directory":(0,t.jsx)(l.Tooltip,{className:"no-underline",text:"You need additional permissions to create projects.",children:"Import Directory"})});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.MenuDivider,{}),(0,t.jsxs)(I.MenuSection,{title:"Repository",children:[x,(0,t.jsx)(a.MenuItem,{isLink:!0,href:d,children:"View Git Repository"})]})]})}let $=(0,n.createContext)({addFavorite:()=>Promise.resolve(),removeFavorite:()=>Promise.resolve(),favorites:[]});$.displayName="ContextMenuContext",e.s(["ContextMenuContextProvider",0,function(e){let{children:a,teamId:r}=e,{addFavoriteAsync:i,removeFavoriteAsync:s,favorites:l}=(0,b.useFavoriteProjectsAndSpaces)(),o=(0,n.useMemo)(()=>({addFavorite:e=>i({projectId:e,teamId:r}),removeFavorite:e=>s({projectId:e,teamId:r}),favorites:l.filter(e=>e.teamId===r).map(e=>e.projectId)}),[i,l,s,r]);return(0,t.jsx)($.Provider,{value:o,children:a})},"ProjectContextMenu",0,function(e){let{project:r}=e,i=(0,R.useLink)(),{name:l,productionDeployment:o}=r,c=(0,A.useServerFlag)("open-in-v0-dash-and-toolbar",!1),d=(0,z.getOpenInV0Url)(r),u=(0,t.jsxs)("span",{className:"flex flex-row items-center justify-start gap-1 flex-initial",children:[(0,t.jsx)("span",{children:"Open in"}),(0,t.jsx)(M.LogoV0,{})]});return(0,t.jsxs)(C.MenuContainer,{children:[(0,t.jsx)(S.MenuButton,{type:"tertiary",svgOnly:!0,"aria-label":"Project Menu",size:"small",shape:"square",children:(0,t.jsx)(D.MoreHorizontal,{})}),(0,t.jsxs)(k.Menu,{width:200,children:[(0,t.jsx)(O,{project:r}),c&&d?(0,t.jsx)(a.MenuItem,{isLink:!0,href:d,target:"_blank",children:u}):null,(0,t.jsx)(s,{project:r}),(0,t.jsx)(a.MenuItem,{className:"no-underline",disabled:!o,href:i("/[teamSlug]/[project]/logs",{params:{project:l}}),prefetch:!1,isLink:!0,children:"View Logs"}),(0,t.jsx)(a.MenuItem,{className:"no-underline",href:i("/[teamSlug]/[project]/settings/domains",{params:{project:l}}),isLink:!0,children:"Manage Domains"}),(0,t.jsx)(m,{project:r}),(0,t.jsx)(a.MenuItem,{className:"no-underline",href:i("/[teamSlug]/[project]/settings",{params:{project:l}}),isLink:!0,children:"Settings"}),r.link?(0,t.jsx)(L.ErrorBoundary,{fallback:null,children:(0,t.jsx)(n.Suspense,{fallback:null,children:(0,t.jsx)(E,{project:r})})}):null]})]})}],5286689)},1107069,e=>{"use strict";var t=e.i(31889),a=e.i(2560270),r=e.i(2504781),i=e.i(6143247),s=e.i(57106);e.s(["ProjectsHeading",0,function(e){let{title:l,onClick:n,expanded:o,className:c,attachment:d,href:u}=e,m="text-label-14 font-medium text-gray-1000",h=u&&!n?(0,t.jsx)(s.Link,{href:u,className:(0,i.cn)(m,"w-fit hover:underline"),children:l}):(0,t.jsx)("span",{className:m,children:l});return n?(0,t.jsx)(r.Button,{type:"tertiary","data-section-heading":!0,size:"small",className:(0,i.cn)("h-8 [&>span]:px-0",c),onClick:n,width:"fit-content",prefix:(0,t.jsx)(a.ChevronDown,{className:(0,i.cn)("transition-transform duration-200 ease-in-out",{"-rotate-90":!o})}),children:h}):(0,t.jsxs)("div",{"data-section-heading":!0,className:(0,i.cn)("flex h-8 flex-row items-center gap-0.5 px-1.5 justify-between",c),children:[h,d]})}])},6591520,e=>{"use strict";var t=e.i(616019),a=e.i(3954609),r=e.i(6357175);e.s(["useTeamOverviewDebouncedSearch",0,function(){let[{q:e}]=(0,t.useQueryStates)(a.teamOverviewSearchParams);return(0,r.useDebouncedValueWithTransition)(e,200)}])},6395478,e=>{"use strict";var t=e.i(31889),a=e.i(5255926),r=e.i(6695816),i=e.i(3114048),s=e.i(6143247),l=e.i(6591520),n=e.i(616019),o=e.i(3954609);function c(e){let{view:r,hasFilters:s,hasSearch:l}=e;return(0,t.jsxs)("div",{className:"h-content relative flex flex-col gap-4 @smd-page:gap-3",children:[s||l?null:(0,t.jsx)(a.Skeleton,{height:16,boxHeight:32,vcenter:!0,width:64,className:"rounded-sm"}),r?(0,t.jsx)("div",{className:"grid"===r?"grid grid-cols-[repeat(auto-fill,minmax(330px,1fr))] gap-6":"material-small flex flex-col divide-solid divide-x-0 divide-y divide-gray-alpha-400",children:Array.from({length:3}).map((e,s)=>"grid"===r?(0,t.jsxs)("div",{className:"material-small flex flex-col gap-3 p-4",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[(0,t.jsx)(a.Skeleton,{rounded:!0,width:32,height:32}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col justify-between gap-0.5",children:[(0,t.jsx)(a.Skeleton,{width:96,height:16,boxHeight:20,vcenter:!0}),(0,t.jsx)(a.Skeleton,{width:128,height:16,boxHeight:20,vcenter:!0})]}),(0,t.jsx)(i.ProjectSpeedInsightsSkeleton,{}),(0,t.jsx)(a.Skeleton,{width:16,height:16,className:"m-2"})]}),(0,t.jsx)("div",{className:"flex h-5 w-fit items-center"}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-col justify-between gap-0.5",children:[(0,t.jsx)(a.Skeleton,{width:140,height:16,boxHeight:20,vcenter:!0}),(0,t.jsx)(a.Skeleton,{width:192,height:16,boxHeight:20,vcenter:!0})]})]},s):(0,t.jsxs)("div",{className:"flex flex-row items-center gap-4 p-4",children:[(0,t.jsx)("div",{className:"flex flex-none items-center",children:(0,t.jsx)(a.Skeleton,{rounded:!0,width:32,height:32})}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col justify-between gap-0.5 @md-page:w-1/5 @md-page:flex-none @xl-page:w-1/4",children:[(0,t.jsx)(a.Skeleton,{width:96,height:16,boxHeight:20,vcenter:!0}),(0,t.jsx)(a.Skeleton,{width:128,height:16,boxHeight:20,vcenter:!0})]}),(0,t.jsxs)("div",{className:"hidden min-w-0 flex-1 flex-col justify-between gap-0.5 @md-page:flex",children:[(0,t.jsx)(a.Skeleton,{width:140,height:16,boxHeight:20,vcenter:!0}),(0,t.jsx)(a.Skeleton,{width:192,height:16,boxHeight:20,vcenter:!0})]}),(0,t.jsx)(i.ProjectSpeedInsightsSkeleton,{}),(0,t.jsx)(a.Skeleton,{width:16,height:16,className:"m-2"})]},s))}):null,(0,t.jsx)(d,{})]})}function d(e){let{className:a}=e;return(0,t.jsx)("div",{className:(0,s.cn)("z-1 absolute top-0 -left-1 h-[calc(100%+8px)] w-[calc(100%+8px)] bg-gradient-to-b from-[hsla(var(--ds-background-200-value),0)_0px] to-[hsla(var(--ds-background-200-value),1)_220px]",a)})}function u(e){let{view:a}=e,r=(0,l.useTeamOverviewDebouncedSearch)(),[{repo:i,mfe:s}]=(0,n.useQueryStates)(o.teamOverviewSearchParams);return(0,t.jsx)(c,{view:a,hasFilters:!!(i||s),hasSearch:!!r})}e.s(["ProjectsSkeleton",0,c,"ProjectsSkeletonWithQuery",0,function(e){let{view:a,filtered:i}=e;return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)(c,{view:a,hasFilters:i}),children:(0,t.jsx)(u,{view:a})})},"SkeletonFade",0,d])},8644057,e=>{"use strict";var t=e.i(31889),a=e.i(2573136),r=e.i(616019),i=e.i(3954609),s=e.i(9388656),l=e.i(6143247),n=e.i(2689512),o=e.i(6695816),c=e.i(6159310);function d(e){let{project:a}=e;return(0,t.jsx)(o.Suspense,{fallback:(0,t.jsx)(n.ProjectAvatarSkeleton,{}),children:(0,t.jsx)(c.DashboardLink,{route:"/[teamSlug]/[project]",params:{project:a.name},prefetch:!1,className:"h-8",children:(0,t.jsx)(n.ProjectAvatar,{project:a,skipSkeleton:!0})})})}var u=e.i(4004502);e.i(9623499);var m=e.i(5576066),h=e.i(109803);function x(e){let{project:a}=e,{domain:r}=a;return r?r.includes("*")?(0,t.jsx)("span",{className:"text-label-14 h-5 max-w-full truncate leading-5 text-gray-900",children:r}):(0,t.jsxs)(m.Link,{className:(0,l.cn)(s.linkClassName,"text-label-14 text-gray-900 h-5 truncate w-fit leading-5 max-w-full"),target:"_blank",prefetch:!1,href:`https://${r}`,children:[r,(0,t.jsx)(h.External,{size:14})]}):(0,t.jsx)("span",{className:"h-5 max-w-full truncate leading-5 text-gray-900",children:"No Production Deployment"})}var p=e.i(9481787),g=e.i(5614970),f=e.i(8529990),j=e.i(7218483),v=e.i(9668517);let y=(0,e.i(9334638).withNewIcon)(`<path d="M4 6.25V14.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="square" stroke-linejoin="round"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.5 12C10.5 12.8284 11.1716 13.5 12 13.5C12.8284 13.5 13.5 12.8284 13.5 12C13.5 11.1716 12.8284 10.5 12 10.5C11.1716 10.5 10.5 11.1716 10.5 12ZM9.079 12.6869C9.38957 14.0127 10.5795 15 12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.6293 9 9.47333 9.91924 9.1149 11.1749C8.05096 10.9929 7.0611 10.4857 6.28769 9.71231C5.51428 8.9389 5.0071 7.94904 4.82513 6.8851C6.08076 6.52667 7 5.37069 7 4C7 2.34315 5.65685 1 4 1C2.34315 0.999999 1 2.34315 1 4C1 5.42051 1.98728 6.61042 3.3131 6.921C3.51279 8.37102 4.18025 9.72619 5.22703 10.773C6.2738 11.8197 7.62898 12.4872 9.079 12.6869ZM2.5 4C2.5 4.82843 3.17157 5.5 4 5.5C4.82843 5.5 5.5 4.82843 5.5 4C5.5 3.17157 4.82843 2.5 4 2.5C3.17157 2.5 2.5 3.17157 2.5 4Z" fill="currentColor"/>`);var w=e.i(1112630),b=e.i(3959168),N=e.i(7553931),k=e.i(6850581),S=e.i(6882489),C=e.i(5072965);function P(e){let{project:a}=e,r=(0,v.useTeamSlug)(),{name:i,link:n,productionDeployment:o}=a;if(!n){if(a.v0)return null;let e=(0,p.getDashboardHref)(`/${i}/settings/git`,r??void 0);return(0,t.jsx)(m.Link,{className:(0,l.cn)(s.linkClassName,"text-label-14 text-blue-900 h-5"),href:e,prefetch:!1,children:"Connect Git Repository"})}let c=(0,f.getGitInfoFromDeployment)(o);if(!c)return(0,t.jsx)("span",{className:"text-label-14 h-5 text-gray-700",children:"No Production Deployment"});let{id:d=""}=o??{},u=(0,p.getDashboardHref)(`/${i}/${d.replace("dpl_","")}`,r??void 0),[h]=c.commitMessage.split("\n");return(0,t.jsx)(m.Link,{className:(0,l.cn)(s.linkClassName,"text-label-14 text-gray-1000 font-medium truncate h-5"),href:u,prefetch:!1,children:h})}function I(e){let{project:a}=e,r=(0,v.useTeamSlug)(),{name:i,link:n,productionDeployment:o,updatedAt:c}=a,d=!!n,u=(0,f.getGitInfoFromDeployment)(o),h=new URL(`/${i}/deployments`,"https://vercel.com");d&&u&&h.searchParams.set("filterBranch",u.commitRef);let x=(0,p.getDashboardHref)(`${h.pathname}${h.search}`,r??void 0),g=(0,j.useAgo)(o?.createdAt??c),b=n?.productionBranch===u?.commitRef?" on":" from";return(0,t.jsxs)("div",{className:"flex h-5 flex-row items-center gap-1",children:[(0,t.jsxs)("span",{className:"text-label-14 flex-none text-gray-900",suppressHydrationWarning:!0,children:[(0,t.jsx)(k.RelativeTimeCard,{date:o?.createdAt??c,className:"relative z-10",side:"bottom",children:(0,t.jsx)("span",{suppressHydrationWarning:!0,children:g})}),d&&u?b:null]}),d&&u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y,{color:"gray-900",className:"flex-none"}),(0,t.jsx)(m.Link,{className:(0,l.cn)(s.linkClassName,"text-label-13-mono text-gray-900 truncate"),href:x,prefetch:!1,children:u.commitRef})]}):null,o?.deploymentIsStale?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-label-14 flex-none text-gray-900",children:"via"}),(0,t.jsx)(w.RotateClockwise,{size:14,color:"gray-1000",className:"flex-none"}),(0,t.jsx)("span",{className:"text-label-14 flex-none text-gray-1000",children:"Instant Rollback"})]}):null]})}let M=(0,b.createSerializer)(i.teamOverviewSearchParams);function D(e){let{project:a,className:s}=e,n=(0,N.usePathname)(),[c,d]=(0,r.useQueryStates)(i.teamOverviewSearchParams),{link:u}=a,h=(0,o.useMemo)(()=>{if(!u)return;let e=(0,S.getProjectLinkParts)(u);return{repoPath:(0,S.formatProjectLink)(u),href:i.repositoryFilter.serialize({gitType:u.type,gitOwner:e.org,gitRepo:e.repo})}},[u]),x=(0,o.useMemo)(()=>{if(!h)return"";let e=M({...c,repo:h.href});return`${n}${e}`},[h,c,n]);return u?(0,t.jsxs)(m.Link,{className:(0,l.cn)("flex min-w-0 flex-none flex-row items-center gap-0.5 rounded-full bg-gray-300 p-0.5 pr-1.5 w-fit",s),href:x,prefetch:!1,onClick:e=>{e.metaKey||e.shiftKey||e.ctrlKey||(e.preventDefault(),(0,o.startTransition)(async()=>{await d({repo:h?.href},{history:"push"})}))},...(0,C.createTrackingAttributes)({type:"filter",resource:"repo",source:"repo-pill"}),children:[(0,t.jsx)(g.default,{gitType:u.type,width:14,height:14,className:"m-0.5 shrink-0"}),(0,t.jsx)("span",{className:"text-label-12 truncate font-medium",children:h?.repoPath})]}):null}var L=e.i(3114048),A=e.i(5286689),F=e.i(7027445),T=e.i(7749291);function R(e){let{project:a}=e,{productionDeployment:r,v0:i}=a;if(!i)return null;let s=r?.meta;if(!(s?.v0BlockId&&s?.v0ChatId))return null;let l=`https://v0.app/chat/${s.v0ChatId}?b=${s.v0BlockId}`;return(0,t.jsxs)(m.Link,{className:"group flex items-center hover:text-gray-1000 font-medium min-w-0 flex-none flex-row gap-1 rounded-full bg-transparent hover:bg-gray-400 py-0.5 px-1.5 w-fit border border-gray-400 hover:border-gray-500 text-gray-900 text-label-12",href:l,prefetch:!1,"aria-label":"Open in v0",children:[(0,t.jsx)(F.LogoV0,{size:18}),(0,t.jsx)(T.ExternalSmall,{className:"hidden group-hover:block",size:16})]})}var z=e.i(5468328),O=e.i(3627160),E=e.i(7017723),$=e.i(6060673);function U(e){let{project:a}=e,r=(0,E.useIsImpersonating)(),{data:i}=(0,$.useProject)(r?a.id:null,{config:{revalidateOnFocus:!1}});return r&&i?.customerSupportCodeVisibility?(0,t.jsx)(z.Tooltip,{delay:!1,text:"Source Code Access enabled for support",children:(0,t.jsx)("span",{className:"inline-flex h-6 w-6 cursor-pointer items-center justify-center rounded-full bg-amber-200 text-amber-900",children:(0,t.jsx)(O.Code,{size:14})})}):null}var V=e.i(7173923);function H(e){let{projects:a}=e;return(0,t.jsx)("ul",{className:"material-small m-0 flex flex-col divide-solid p-0 divide-x-0 divide-y divide-gray-alpha-400",children:a.map(e=>(0,t.jsx)(B,{project:e},e.id))})}function B(e){let{project:a}=e;return(0,t.jsxs)("li",{className:"relative flex flex-col gap-4 p-4 leading-5 @xl-page:flex-row @xl-page:items-center [&_a]:z-10 [&_button]:z-10",children:[(0,t.jsx)(c.DashboardLink,{className:"absolute inset-0",prefetchStrategy:"hover",route:"/[teamSlug]/[project]",params:{project:a.name}}),(0,t.jsxs)("div",{className:"mr-24 flex min-w-0 flex-row gap-4 @xl-page:mr-0 @xl-page:w-[calc(25%+48px)]",children:[(0,t.jsx)("div",{className:"flex flex-none items-center",children:(0,t.jsx)(d,{project:a})}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col justify-between gap-0.5",children:[(0,t.jsx)(c.DashboardLink,{prefetchStrategy:"hover",route:"/[teamSlug]/[project]",params:{project:a.name},className:(0,l.cn)(s.linkClassName,"text-label-14 font-medium text-gray-1000 h-5 w-fit max-w-full"),"data-testid":(0,u.tid)("projects","link"),children:(0,t.jsx)(V.TruncateMiddle,{children:a.name})}),(0,t.jsx)(x,{project:a})]})]}),(0,t.jsxs)("div",{className:"order-2 flex min-w-0 flex-1 flex-col justify-between gap-0.5 @xl-page:order-1",children:[a.link||!a.v0?(0,t.jsx)(P,{project:a}):(0,t.jsx)(R,{project:a}),(0,t.jsx)(I,{project:a})]}),(0,t.jsxs)("div",{className:"flex h-5 w-fit items-center gap-2 order-1",children:[(0,t.jsx)(D,{project:a,className:"@xl-page:max-w-40"}),a.link&&a.v0&&(0,t.jsx)(R,{project:a})]}),(0,t.jsxs)("div",{className:"absolute right-4 top-[21px] order-1 flex shrink-0 flex-row items-center gap-4 @xl-page:static",children:[(0,t.jsx)(U,{project:a}),(0,t.jsx)(L.ProjectAlert,{project:a}),(0,t.jsx)(A.ProjectContextMenu,{project:a})]})]})}function _(e){let{projects:a}=e;return(0,t.jsx)("ul",{className:"m-0 grid grid-cols-[repeat(auto-fill,minmax(330px,1fr))] gap-6 p-0",children:a.map(e=>(0,t.jsx)(G,{project:e},e.id))})}function G(e){let{project:a}=e;return(0,t.jsxs)("li",{className:"material-small relative flex flex-col gap-3 p-4 leading-5 hover:border-gray-500 [&_a]:z-10 [&_button]:z-10",children:[(0,t.jsx)(c.DashboardLink,{className:"absolute inset-0",prefetchStrategy:"hover",route:"/[teamSlug]/[project]",params:{project:a.name}}),(0,t.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[(0,t.jsx)(d,{project:a}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col justify-between gap-0.5",children:[(0,t.jsx)(c.DashboardLink,{prefetchStrategy:"hover",route:"/[teamSlug]/[project]",params:{project:a.name},className:(0,l.cn)(s.linkClassName,"text-label-14 font-medium text-gray-1000 h-5 w-fit max-w-full"),"data-testid":(0,u.tid)("projects","link"),children:(0,t.jsx)(V.TruncateMiddle,{children:a.name})}),(0,t.jsx)(x,{project:a})]}),(0,t.jsx)(U,{project:a}),(0,t.jsx)(L.ProjectAlert,{project:a}),(0,t.jsx)(A.ProjectContextMenu,{project:a})]}),(0,t.jsxs)("div",{className:"flex h-5 w-fit items-center gap-2",children:[(0,t.jsx)(D,{project:a,className:"max-w-48"}),!a.link&&a.v0&&(0,t.jsx)(R,{project:a})]}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-col justify-between gap-0.5",children:[a.link||!a.v0?(0,t.jsx)(P,{project:a}):(0,t.jsx)("div",{className:"h-5"}),(0,t.jsx)(I,{project:a})]})]})}var q=e.i(1107069),W=e.i(6698404),K=e.i(776537),Q=e.i(8662297),Y=e.i(6395478),Z=e.i(4352669),X=e.i(6591520),J=e.i(2504781),ee=e.i(3748432);let et=(0,e.i(1292806).default)(()=>e.A(6835232).then(e=>e.EmptyProjects),{loadableGenerated:{modules:[4905110]}});function ea(e){let{data:a,userPreferences:r,ContentComponent:i,hideFavorites:s,ownerId:l}=e,{projects:n,favorites:c}=a,[d,u]=(0,o.useState)(r?.favoritesView??!1);return(0,t.jsxs)("div",{className:"flex flex-col gap-4 @smd-page:gap-3",children:[s?null:(0,t.jsx)(t.Fragment,{children:c.length>0?(0,t.jsxs)("div",{className:"flex flex-col gap-4 @smd-page:gap-3",children:[(0,t.jsx)(q.ProjectsHeading,{title:"Your Favorites",onClick:()=>{(0,Q.updatePreferredScopeAndDashboardView)({scopeId:l,favoritesViewPreference:d?"closed":"open"}),u(e=>!e)},expanded:d}),d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i,{projects:c}),(0,t.jsx)("div",{className:"my-3 h-px w-full bg-gray-alpha-400"})]}):null]}):(0,t.jsx)(q.ProjectsHeading,{title:"Projects"})}),(0,t.jsx)(ee.NavigationMarker,{phase:"content",label:"ProjectsContentContainer",children:(0,t.jsx)(i,{projects:n})})]})}e.s(["ProjectsContent",0,function(e){let{userPreferences:s,ownerId:l}=e;(0,W.useTeamOverviewStoreSync)();let[{sort:n,repo:c,mfe:d,v0:u,view:m}]=(0,r.useQueryStates)(i.teamOverviewSearchParams),h=(0,W.useTeamOverviewState)(e=>e.setIsSearchingProjects),x=(0,W.useTeamOverviewState)(e=>e.setProjectRepos),p=(0,X.useTeamOverviewDebouncedSearch)(),g=m||(s?.view==="cards"?"grid":s?.view)||"grid";!function(e){let{view:t}=e,a=(0,v.useTeamSlug)();(0,o.useEffect)(()=>{a&&(document.cookie=`_vc_view=${t}; path=/${a}; max-age=31536000; SameSite=Lax; Secure`)},[a,t])}({view:g});let f=!!(p||c||d),j=f?"slim":"full",y=(0,a.useDashboardProjects)({...function(e){let{search:t,sort:a,repo:r,mfe:s,v0:l}=e;return{search:t?.substring(0,100)||void 0,limit:12,sort:a||void 0,favorites:!0,repoUrl:r||void 0,mfeGroupId:s?i.mfeFilter.deserialize(s)?.id:void 0,v0:l??void 0}}({search:p,sort:n,repo:c,mfe:d,v0:u}),laggyKey:j,options:{revalidateIfStale:!1}});return((0,o.useEffect)(()=>{h(!!p&&y.isLoading)},[p,y.isLoading,h]),(0,o.useEffect)(()=>{!y.isShowingStale&&y.projects.length&&x(y.projects.map(e=>{let{link:t}=e;if(t?.type==="github"&&t.org)return{gitType:t.type,gitOwner:t.org,gitRepo:t.repo}}).filter(Boolean))},[x,y.isShowingStale,y.projects]),!y.initialDataLoaded||y.isShowingStale&&(y.staleKey!==j||0===y.projects.length))?(0,t.jsx)(Y.ProjectsSkeleton,{view:g,hasFilters:!!(d||c),hasSearch:!!p}):0===y.projects.length?p||c||d?(0,t.jsx)(K.NoResultsProjects,{search:p}):(0,t.jsxs)("div",{className:"flex flex-col gap-4 @smd-page:gap-3",children:[(0,t.jsx)(q.ProjectsHeading,{title:"Projects"}),(0,t.jsx)("div",{className:"material-small pb-12 pt-6",children:(0,t.jsx)(et,{})})]}):(0,t.jsxs)(Z.ProjectsMutateContextProvider,{mutate:y.mutate,children:[(0,t.jsx)(ee.NavigationMarker,{phase:"content",label:"ProjectsContent",children:(0,t.jsx)(ea,{data:y,userPreferences:s,ContentComponent:"grid"===g?_:H,hideFavorites:f,ownerId:l})}),y.hasMore?(0,t.jsx)(J.Button,{width:"100%",loading:y.isLoadingMore,disabled:y.isLoadingMore,type:"secondary",className:"mt-6",onClick:()=>{y.loadMore()},children:"Show More"}):null]})}],8644057)},390520,e=>{"use strict";var t=e.i(31889),a=e.i(2504781),r=e.i(1136434),i=e.i(6143247),s=e.i(6695816);let l=(0,s.createContext)({isExpanded:!1,setIsExpanded:()=>{}});l.displayName="SidebarExpandedContext",e.s(["ProjectsSidebarContainer",0,function(e){let{children:n,ssrSwitch:o}=e,[c,d]=(0,s.useState)(!1),u=(0,s.useMemo)(()=>({isExpanded:c,setIsExpanded:d}),[c]);return(0,t.jsxs)("div",{className:(0,i.cn)("group/container relative flex flex-col","@max-smd-page:[&:not(:has([value=usage]:checked)):not(:has([value=alerts]:checked)):not(:has([data-section=recents][data-has-more]))_[data-more-control]]:hidden","@max-smd-page:[&:has([value=usage]:checked):not(:has([data-section=usage][data-has-more]))_[data-more-control]]:hidden","@max-smd-page:[&:has([value=alerts]:checked):not(:has([data-section=alerts][data-has-more]))_[data-more-control]]:hidden","@max-smd-page:[&:has([data-alerts-active])_[value=alerts]+div]:text-red-900"),"data-sidebar-container":!0,children:[(0,t.jsxs)("div",{className:(0,i.cn)("relative flex flex-col","@max-smd-page:material-small @max-smd-page:min-h-[208px] @max-smd-page:overflow-hidden","@smd-page:gap-6 @smd-page:w-[320px] @lg-page:w-[404px]","@max-smd-page:[&:not(:has([value=usage]:checked))_[data-section=usage]]:hidden","@max-smd-page:[&:not(:has([value=recents]:checked))_[data-section=recents]]:hidden","@max-smd-page:[&:not(:has([value=alerts]:checked))_[data-section=alerts]]:hidden",{"@max-smd-page:max-h-[208px]":!c},"@max-smd-page:[&_[data-section-heading]]:hidden"),children:[o,(0,t.jsx)(l.Provider,{value:u,children:n}),c?null:(0,t.jsx)("div",{"data-more-control":!0,className:"z-1 absolute inset-x-0 bottom-0 h-4 w-full bg-gradient-to-b from-[hsla(var(--ds-background-200-value),0)_0%] to-[hsla(var(--ds-background-200-value),1)_100%] @smd-page:hidden"})]}),(0,t.jsx)(a.Button,{"data-more-control":!0,className:"z-[2] absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 @smd-page:hidden",svgOnly:!0,"aria-label":"Show More",type:"secondary",shape:"circle",size:"small",passthroughOnClick:e=>{e.stopPropagation(),d(e=>!e)},children:(0,t.jsx)(r.ChevronDownSmall,{className:(0,i.cn)("transition-transform duration-200 ease-in-out",{"-rotate-180":c})})})]})},"useSidebarExpandedContext",0,function(){return(0,s.useContext)(l)}])},7654643,e=>{"use strict";var t=e.i(31889),a=e.i(8042625),r=e.i(2686817),i=e.i(215852),s=e.i(1107069);function l(e){let{children:a,hasMore:r}=e;return(0,t.jsxs)("div",{className:"flex flex-col @max-smd-page:flex-1 @smd-page:gap-3","data-section":"recents","data-has-more":!!r||void 0,children:[(0,t.jsx)(s.ProjectsHeading,{title:"Recent Previews",className:"@max-smd-page:px-4 @max-smd-page:pt-4"}),(0,t.jsx)("ul",{"data-section-content":!0,className:"m-0 flex flex-col divide-solid p-0 divide-x-0 divide-y divide-gray-alpha-400 @smd-page:material-small @max-smd-page:flex-1",children:a})]})}var n=e.i(6695816),o=e.i(7837522),c=e.i(7780974),d=e.i(2627304),u=e.i(7674801),m=e.i(5018193),h=e.i(5787344),x=e.i(8529990),p=e.i(9375869);function g(e){let t=e.automaticAliases?.find(e=>e.includes("-git-"))??e.url;t.startsWith("http")||(t=`https://${t}`);let a=t.replace(/^https?:\/\//,"");return{url:t,displayUrl:a}}let f={github:u.LogoGithub,"github-limited":u.LogoGithub,gitlab:m.LogoGitlab,bitbucket:h.LogoBitbucketColor};var j=e.i(4759942),v=e.i(8216525),y=e.i(3907048),w=e.i(4844919),b=e.i(7628870),N=e.i(5071474),k=e.i(1138941),S=e.i(6613731),C=e.i(4005781),P=e.i(277234),I=e.i(7917902),M=e.i(593207),D=e.i(7218483),L=e.i(57106),A=e.i(3306538),F=e.i(2504781),T=e.i(8674454),R=e.i(6694387),z=e.i(4991687),O=e.i(5326905),E=e.i(8459493),$=e.i(8522580),U=e.i(5255926),V=e.i(8735244),H=e.i(5468328),B=e.i(2560270),_=e.i(7807066),G=e.i(3627160),q=e.i(6942035),W=e.i(7749291),K=e.i(4345845),Q=e.i(5376191),Y=e.i(8876434),Z=e.i(6198010),X=e.i(5883567),J=e.i(6107899),ee=e.i(198667),et=e.i(6685186),ea=e.i(6143247),er=e.i(7432042),ei=e.i(7909933),es=e.i(390520);function el(e){var r,i;let s,l,{entity:o,teamSlug:d}=e,u=(r="preview",{onClick:(0,n.useCallback)(e=>{let t=e.target.closest("a");if(null!==t){let e=t.dataset.trackingLinkLocation,a=t.dataset.trackingLinkType;j.analytics.track(c.VercelActivityAction.RecentsEntityClick,{type:r,linkLocation:e,linkType:a,href:t.href},{destination_groups:{data_warehouse_legacy:!0}})}},[r])}),{prMetadata:m,items:h}=o.payload,y=h[0],{url:k,displayUrl:M}=g(y.deployment),D=(0,x.getGitInfoFromDeployment)(y.deployment),T=(i=y.deployment,s=(0,p.useDeploymentLink)(i),(l=(0,x.getGitInfoFromDeployment)(i))?l.prId&&l.prUrl?{type:"pull-request",provider:l.type,url:l.prUrl,id:l.prId}:m?.number?{type:"pull-request",provider:l.type,url:function(e,t){switch(e.type){case"github":case"github-limited":return`https://github.com/${e.viaFork?e.orgNamespace:e.repoNamespace}/${e.repoName}/pull/${t}`;case"bitbucket":return`https://bitbucket.org/${e.repoNamespace}/${e.repoName}/pull-requests/${t}`;case"gitlab":return`https://gitlab.com/${e.repoNamespace}/${e.repoName}/-/merge_requests/${t}`}}(l,m.number),id:m.number}:""!==l.refUrl?{type:"branch",provider:l.type,url:l.refUrl}:{type:"commit",provider:l.type,url:l.commitUrl}:{type:"cli",url:`${s}/source`}),E=("provider"in T?f[T.provider]:void 0)??G.Code,[U,K]=(0,n.useState)(!1),X=(0,es.useSidebarExpandedContext)(),{trigger:er}=function(e){let{eventId:t}=e,{user:r,team:i}=(0,I.useAccount)(),s=function(e){let{type:t,teamSlug:r,limit:i=7}=e;return`/api/recents${(0,a.encode)({type:t,teamId:r,limit:i})}`}({type:e.type,teamSlug:i?.slug??r?.username});async function l(e){let a=new URLSearchParams;i&&a.set("teamId",i.id),await (0,P.fetchAPI)(`/recents/${t}?${a.toString()}`,{method:"DELETE"})}return(0,C.default)(s,l,{optimisticData:e=>e?.filter(e=>e.eventId!==t)??[]})}(o);(0,n.useEffect)(()=>{X.isExpanded||K(!1)},[X.isExpanded]);let el=1===o.payload.totalItems?y:void 0,eg=el?.deployment,ej=(0,p.useDeploymentLink)(eg,el?.project.name),ev=(0,S.useWrappedToolbarAuthLinkHandler)({via:"recents-preview",deployment:el?.deployment.previewCommentsEnabled?el.deployment:void 0}),[ey,ew]=(0,n.useState)(!1),eb=o.payload.items.length<o.payload.totalItems,eN=(0,ei.default)(ey&&eb?`/api/recents/hydrate-preview/${o.eventId}${(0,a.encode)({teamId:d})}`:null,async e=>(await (0,P.fetchAPI)(e)).payload.items,{shouldRetryOnError:!1,revalidateIfStale:!1,revalidateOnFocus:!1}),ek=m?.title??D?.commitRef,eS=D?.commitMessage&&ek!==D.commitMessage?D.commitMessage:void 0,eC=ek?(0,t.jsxs)("span",{className:(0,ea.cn)("text-label-14 font-medium truncate",{"text-label-14-mono":!m?.title}),title:[ek,eS].join(" / ").trim(),children:[ek,eS?(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:eS}):null]}):(0,t.jsx)("span",{className:"text-label-14 truncate font-medium",title:k,children:M}),eP=(0,t.jsx)(ec,{"aria-label":`View ${"pull-request"===T.type?"Pull Request":"Source"}`,isLink:!0,href:T.url,prefix:(0,t.jsx)(E,{}),preview:(0,t.jsxs)(t.Fragment,{children:["cli"===T.type?"View source code":null,"pull-request"===T.type?(0,t.jsxs)("span",{children:[String(T.id).length<=5?"View":null," #",T.id," on ",b.ORIGINS[T.provider]]}):null,"commit"===T.type||"branch"===T.type?`View source on ${b.ORIGINS[T.provider]}`:null,"cli"===T.type?null:(0,t.jsx)(W.ExternalSmall,{className:"ml-1"})]}),children:"pull-request"===T.type?"Pull Request":"Source"}),eI=(0,t.jsx)(ec,{"aria-label":"Remove recent",onClick:()=>void er(),prefix:(0,t.jsx)(q.Cross,{}),preview:"Remove from Recents",children:"Remove"}),eM=el?"div":F.Button;return(0,t.jsxs)("li",{className:"flex flex-col",...u,children:[(0,t.jsxs)("div",{className:"group relative flex flex-col",children:[(0,t.jsxs)(eM,{className:(0,ea.cn)("p-4",el?"flex flex-row gap-4 [&_a]:z-10":"*:flex *:flex-row *:gap-4 *:p-0"),variant:"unstyled",onMouseOver:()=>{ew(!0)},...el?void 0:{passthroughOnClick:e=>{e.target instanceof HTMLElement&&e.target.closest("a")||(ew(!0),(0,et.awaitPaint)().then(()=>{K(e=>!e),U||X.setIsExpanded(!0)}))}},children:[(0,t.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2 text-gray-1000",children:[(0,t.jsx)(ep,{entity:o,teamSlug:d}),eC]}),(0,t.jsxs)("div",{className:"flex h-5 flex-row items-center gap-1",children:[el?(0,t.jsx)(A.Badge,{className:"text-gray-900 hover:text-gray-1000 hover:bg-gray-100",variant:"pill",size:"sm",icon:(0,t.jsx)(J.PreviewEye,{}),children:"Preview"}):(0,t.jsxs)(A.Badge,{className:"text-gray-900 *:gap-0 hover:text-gray-1000 hover:bg-gray-100",variant:"pill",size:"sm",icon:U?(0,t.jsx)(B.ChevronDown,{}):(0,t.jsx)(_.ChevronRight,{}),children:[o.payload.totalItems>9?"9+":o.payload.totalItems," ","Project",o.payload.totalItems>1?"s":""]}),(0,t.jsx)(L.Link,{className:"z-10 flex","aria-label":`View ${"pull-request"===T.type?"Pull Request":"Source"}`,"data-tracking-link-location":"entity","data-tracking-link-type":T.type,href:T.url,children:(0,t.jsx)(A.Badge,{className:"h-5 text-gray-900 hover:text-gray-1000 hover:bg-gray-100",variant:"pill",size:"sm",icon:(0,t.jsx)(E,{}),children:"pull-request"===T.type?`#${T.id}`:"Source"})}),eg?(0,t.jsx)(L.Link,{className:"flex","aria-label":`View ${el.prMetadata?"Latest Deployment":"Deployment"}`,href:ej,prefetchStrategy:"hover",children:(0,t.jsx)(H.Tooltip,{"aria-hidden":!0,forceHide:!eh.has(eg.readyState),text:(0,t.jsx)(ex,{deployment:eg}),children:(0,t.jsx)(A.Badge,{className:(0,ea.cn)({"font-mono":"READY"===eg.readyState,"text-gray-900 hover:text-gray-1000":"pill"===em(eg.readyState)}),variant:em(eg.readyState),size:"sm",icon:eh.has(eg.readyState)?(0,t.jsx)(V.Spinner,{color:"var(--ds-amber-900)",size:12}):(0,t.jsx)(v.DeploymentStatus,{className:"flex h-5 flex-row items-center mx-0.5 *:size-2",deployment:eg}),children:"READY"===eg.readyState?(0,N.default)(eg).hash:(0,w.default)(eg.readyState.toLowerCase())})})}):null]})]}),(0,t.jsx)("div",{className:"w-6 shrink-0"})]}),(0,t.jsxs)(z.MenuContainer,{children:[(0,t.jsx)(R.MenuButton,{"aria-label":"Preview Menu",className:"absolute right-4 top-1/2 z-10 -translate-y-1/2",shape:"square",size:"tiny",type:"tertiary",svgOnly:!0,children:(0,t.jsx)(Y.MoreHorizontal,{})}),el?(0,t.jsx)(eu,{item:el,teamSlug:d,gitMenuItem:eP,removeMenuItem:eI}):(0,t.jsxs)(eo,{width:200,previewContainerClassName:"text-gray-900",defaultPreview:(0,t.jsxs)(t.Fragment,{children:["Updated ",ef(Date.parse(o.createdAt))]}),children:[(0,t.jsx)(ec,{prefix:U?(0,t.jsx)(Q.Minus,{}):(0,t.jsx)(Z.Plus,{}),onClick:()=>{K(e=>!e)},preview:U?"Hide projects":`Show ${o.payload.totalItems} projects`,children:U?"Hide projects":"Show projects"}),eP,(0,t.jsx)(O.MenuDivider,{}),eI]})]}),el?(0,t.jsx)(L.Link,{className:"absolute inset-0 block",href:k,tab:!0,"data-tracking-link-location":"title","data-tracking-link-type":"preview",...ev}):null]}),U&&eN.error&&!eN.data?(0,t.jsx)($.Note,{type:"error",className:"m-4 mt-0",size:"small",children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2",children:["Failed to load recents.",(0,t.jsx)(F.Button,{"aria-label":"Try again",className:"!text-inherit",onClick:()=>{eN.mutate()},size:"small",svgOnly:!0,type:"tertiary",children:eN.isLoading?(0,t.jsx)(V.Spinner,{}):(0,t.jsx)(ee.RefreshClockwise,{color:"currentColor"})})]})}):null,U&&!eN.error?(0,t.jsx)("ul",{className:"m-0 flex flex-col p-4 pt-0",children:eN.isLoading&&!eN.data?o.payload.payloadItems.map(e=>(0,t.jsx)(en,{},e.deploymentId)):eN.data?.map(e=>(0,t.jsx)(ed,{item:e,teamSlug:d},e.deployment.id))}):null]})}function en(){return(0,t.jsxs)("li",{className:"flex h-8 min-w-0 flex-row items-center gap-1.5 rounded-sm p-2 pr-1 hover:bg-gray-100 [:where(&:nth-child(odd))]:bg-background-200",children:[(0,t.jsx)(U.Skeleton,{rounded:!0,width:16,height:16}),(0,t.jsx)("div",{className:"flex min-w-0 flex-1 flex-row",children:(0,t.jsx)(U.Skeleton,{height:16,width:80})}),(0,t.jsx)(U.Skeleton,{height:20,pill:!0,width:70}),(0,t.jsx)(U.Skeleton,{height:20,pill:!0,width:80}),(0,t.jsx)(U.Skeleton,{height:24,width:24})]})}function eo(e){let{children:a,defaultPreview:r,className:i,previewContainerClassName:s,...l}=e;return(0,t.jsxs)(T.Menu,{...l,className:(0,ea.cn)(i,"relative group/menu"),children:[(0,t.jsx)(O.MenuDivider,{className:"mt-11",children:(0,t.jsx)("div",{className:(0,ea.cn)("absolute left-2 top-2 flex h-9 flex-row items-center p-2 group-has-[[data-selected]]/menu:hidden",s),children:r})}),a]})}function ec(e){let{preview:a,innerMenuItemClassName:r,previewContainerClassName:i="text-gray-900",children:s,...l}=e;return(0,t.jsxs)(E.MenuItem,{...l,innerMenuItemClassName:(0,ea.cn)("group/item",r),children:[s,(0,t.jsx)("div",{className:(0,ea.cn)("absolute left-2 top-2 hidden h-9 flex-row items-center p-2 group-[&[data-selected]]/item:flex",i),children:a})]})}function ed(e){let{item:a,teamSlug:r}=e,{deployment:i,project:s,prMetadata:l}=a,{url:n}=g(i),o=(0,p.useDeploymentLink)(i,s.name),c=(0,k.useProjectUrl)(s)??"",{hash:d}=(0,N.default)(i),u=(0,S.useWrappedToolbarAuthLinkHandler)({via:"recents-preview",deployment:i.previewCommentsEnabled?i:void 0});return(0,t.jsxs)("li",{className:"flex h-8 min-w-0 flex-row items-center gap-1 rounded-sm p-2 pr-1 hover:bg-gray-100 [:where(&:nth-child(odd))]:bg-background-200",children:[(0,t.jsx)(eg,{deploymentId:i.id,projectId:s.id,size:16,teamSlug:r}),(0,t.jsx)("div",{className:"flex min-w-0 flex-1 flex-row",children:(0,t.jsx)(L.Link,{className:"label-12 h-5 truncate leading-5 hover:underline",href:c,prefetch:!1,children:s.name})}),(0,t.jsx)(L.Link,{"aria-label":"View preview deployment","data-tracking-link-location":"entity","data-tracking-link-type":"preview",href:n,...u,children:(0,t.jsx)(A.Badge,{className:"text-gray-900 hover:text-gray-1000",variant:"pill",size:"sm",icon:(0,t.jsx)(J.PreviewEye,{}),children:"Preview"})}),(0,t.jsx)(L.Link,{"aria-label":`View ${l?"Latest Deployment":"Deployment"}`,href:o,prefetchStrategy:"hover",className:"flex",children:(0,t.jsx)(H.Tooltip,{"aria-hidden":!0,forceHide:!eh.has(i.readyState),text:(0,t.jsx)(ex,{deployment:i}),children:(0,t.jsx)(A.Badge,{className:(0,ea.cn)("h-5 pl-1.5 *:gap-1",{"font-mono text-gray-900 hover:text-gray-1000":"READY"===i.readyState}),variant:em(i.readyState),size:"sm",icon:eh.has(i.readyState)?(0,t.jsx)(V.Spinner,{color:"var(--ds-amber-900)",size:12}):(0,t.jsx)(v.DeploymentStatus,{className:"flex h-5 flex-row items-center *:size-2 ml-0",deployment:i}),children:"READY"===i.readyState?d:(0,w.default)(i.readyState.toLowerCase())})})}),(0,t.jsxs)(z.MenuContainer,{children:[(0,t.jsx)(R.MenuButton,{"aria-label":"Preview Menu",shape:"square",size:"tiny",type:"tertiary",svgOnly:!0,children:(0,t.jsx)(Y.MoreHorizontal,{size:12})}),(0,t.jsx)(eu,{item:a,teamSlug:r})]})]})}function eu(e){let{item:a,teamSlug:r,gitMenuItem:i,removeMenuItem:s}=e,{deployment:l,project:n,prMetadata:o,createdAt:c,type:d}=a,{url:u}=g(l),m=(0,p.useDeploymentLink)(l,n.name),h=(0,k.useProjectUrl)(n)??"",{hash:f}=(0,N.default)(l),j=!!o,y=function(e,t){if(!t?.commitRef)return null;let a=new URL(`${e}/deployments`,"https://vercel.com");return a.searchParams.set("filterBranch",t.commitRef),`${a.pathname}${a.search}`}(h,(0,x.getGitInfoFromDeployment)(l)),w=(0,S.useWrappedToolbarAuthLinkHandler)({via:"recents-preview",deployment:l.previewCommentsEnabled?l:void 0});return(0,t.jsxs)(eo,{width:200,previewContainerClassName:"text-gray-900",defaultPreview:(0,t.jsxs)(t.Fragment,{children:["deployment-created"===(d??"preview")?"Authored":"Preview visited"," ",ef(Date.parse(c))]}),children:[(0,t.jsx)(ec,{"aria-label":"View latest preview deployment",href:u,isLink:!0,prefix:(0,t.jsx)(J.PreviewEye,{}),...w,preview:(0,t.jsxs)(t.Fragment,{children:["View latest Preview",(0,t.jsx)(W.ExternalSmall,{className:"ml-1"})]}),children:"Preview"}),i,(0,t.jsx)(ec,{"aria-label":`View ${j?"Latest Deployment":"Deployment"}`,href:m,isLink:!0,prefetchStrategy:"hover",preview:(0,t.jsxs)("div",{className:"flex flex-row gap-1",children:["Inspect",(0,t.jsx)(v.DeploymentStatus,{className:"ml-1",deployment:l}),(0,t.jsx)("span",{className:"text-gray-1000",children:f})]}),prefix:(0,t.jsx)(v.DeploymentStatus,{className:"size-4 justify-center",deployment:l}),children:j?"Latest Deployment":"Deployment"}),y?(0,t.jsx)(ec,{"aria-label":"View branch deployments",href:y,prefetchStrategy:"hover",isLink:!0,prefix:(0,t.jsx)(K.GitBranch,{}),preview:"View branch deployments",children:"Branch Deployments"}):null,(0,t.jsx)(ec,{"aria-label":"View project",href:h,isLink:!0,prefetchStrategy:"hover",prefix:(0,t.jsx)(eg,{projectId:n.id,size:16,deploymentId:l.id,teamSlug:r}),preview:`View ${n.name}`,children:"Project"}),s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(O.MenuDivider,{}),s]}):null]})}function em(e){switch(e){case"BUILDING":case"DELETED":case"INITIALIZING":case"UPLOADING":case"DEPLOYING":return"amber-subtle";case"ERROR":return"red-subtle";default:return"pill"}}let eh=new Set(["INITIALIZING","BUILDING","UPLOADING","DEPLOYING"]);function ex(e){let{deployment:a}=e,r=(0,D.useAge)(a.buildingAt||void 0,{includeSeconds:!0});return(0,t.jsxs)("div",{children:["Duration: ",r]})}function ep(e){let{entity:a,teamSlug:r}=e,i=a.payload.totalItems>3,s=a.payload.payloadItems.slice(0,i?2:3).map(e=>{let{projectId:a,deploymentId:i}=e;return(0,t.jsx)(eg,{deploymentId:i,projectId:a,teamSlug:r},i)});return(0,t.jsxs)("div",{className:"flex h-5 flex-row items-center *:-ml-1 [&>:nth-child(1)]:ml-0",children:[(0,t.jsx)(y.CreatorAvatar,{deployment:a.payload.items[0].deployment,size:20}),s,i?(0,t.jsx)(X.PlusCircle,{className:"relative rounded-full border border-solid border-background-100 bg-background-100",color:"gray-600",size:20}):null]})}function eg(e){let{teamSlug:r,projectId:i,deploymentId:s,size:l=20}=e;return(0,t.jsx)(d.AvatarWithError,{className:"cursor-pointer bg-background-100 flex items-center",priority:!0,size:l,style:{flexBasis:l},tooltipProps:{className:"relative z-[2]",text:"There was an issue rendering your favicon"},url:function(e){let{deploymentId:t,projectId:r,teamSlug:i}=e;return`/api/v0/deployments/${t}/favicon${(0,a.encode)({teamId:i,project:r})}`}({teamSlug:r,projectId:i,deploymentId:s})})}function ef(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ago";return(0,M.ago)(Date.now()-e,{justNowLabel:"Now",justNowThreshold:(0,er.default)("10s"),suffix:t})}var ej=e.i(8161149);e.s(["RecentsList",0,function(e){let{teamSlug:s}=e,{track:d}=(0,o.useTrackActivity)(),u=(0,n.useRef)(!1),{data:m=[]}=(0,i.useIsomorphicSuspenseSWR)((0,r.swrRequest)(`/api/recents${(0,a.encode)({type:"preview",teamId:s,limit:7})}`),async(e,t)=>(await t(e)).filter(e=>e.payload.items.length>0),{revalidateIfStale:!1,revalidateOnFocus:!0});return((0,n.useEffect)(()=>{u.current||(u.current=!0,d(c.VercelActivityAction.RecentsImpression,{length:m.length}))},[m.length,d]),m.length)?(0,t.jsxs)(l,{hasMore:m.length>2,children:[m.map(e=>(0,t.jsx)(el,{entity:e,teamSlug:s},e.eventId)),1===m.length?(0,t.jsx)("li",{className:"text-label-12 flex h-20 flex-row items-center justify-center text-balance p-4 text-center text-gray-700 @smd-page:hidden",children:"Preview deployments that you have recently visited or created will appear here."}):null]}):(0,t.jsx)(l,{hasMore:!1,children:(0,t.jsx)(ej.EmptyState.Root,{className:"flex flex-1 flex-row items-center border-0 p-6 *:flex-1 *:gap-4 @max-smd-page:mt-px [&_p]:max-w-none",icon:(0,t.jsx)(ej.EmptyState.Icon,{icon:(0,t.jsx)(J.PreviewEye,{}),size:32}),description:"Preview deployments that you have recently visited or created will appear here."})})}],7654643)},4915059,e=>{"use strict";var t=e.i(31889),a=e.i(4905664),r=e.i(1107069),i=e.i(2504781),s=e.i(8161149),l=e.i(6159310),n=e.i(6695816),o=e.i(6143247),c=e.i(1136434),d=e.i(9584456),u=e.i(2259296),m=e.i(9386557);e.i(6483798);var h=e.i(8287059),x=e.i(2686817),p=e.i(215852),g=e.i(9388656),f=e.i(5072965),j=e.i(7837522),v=e.i(7780974),y=e.i(4331397),w=e.i(2689376),b=e.i(9129382);let N=(0,e.i(2993788).createUnitFormatter)({style:"short"}),k=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),S=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:2,minimumFractionDigits:2});function C(e){let{project:a,currencyType:r}=e;return(0,t.jsx)("li",{className:"flex flex-row rounded-sm [@media(hover:hover){&:hover}]:!bg-gray-100 [:where(&:nth-child(odd))]:bg-background-200 [:where(&:nth-child(odd))]:transition-colors [:where(&:nth-child(odd))]:delay-150 [:where(&:nth-child(odd))]:duration-200 group-has-[li:hover]:[:where(&:nth-child(odd))]:bg-transparent group-has-[li:hover]:[:where(&:nth-child(odd))]:delay-0 group-has-[li:hover]:[:where(&:nth-child(odd))]:duration-0",children:(0,t.jsxs)(l.DashboardLink,{className:"items-center flex h-8 min-w-0 flex-1 flex-row gap-1.5 p-2",route:"/[teamSlug]/~/usage",search:{projectId:a.id},prefetch:!1,...(0,f.createTrackingAttributes)({section:"usage-widget",element:"row",type:"project"}),children:[(0,t.jsx)(w.Gauge,{value:100*a.percent,size:"tiny",colors:{primary:"var(--ds-blue-700)",secondary:"var(--ds-gray-alpha-400)"},className:"shrink-0 *:size-4"}),(0,t.jsx)("span",{className:"text-label-14 min-w-0 flex-1 truncate leading-4",children:a.name}),(0,t.jsx)("span",{className:"text-label-12 shrink-0 font-medium tabular-nums text-gray-900",children:"USD"===r?`${S.format(a.value)}`:`${k.format(a.value)} MIUs`})]})})}function P(e){let{item:a}=e,r=a.chartKey?l.DashboardLink:"div",i=a.chartKey?{route:"/[teamSlug]/~/usage/[chartKey]",params:{chartKey:a.chartKey},prefetch:!1,...(0,f.createTrackingAttributes)({section:"usage-widget",element:"row",type:"sku"})}:void 0;return(0,t.jsx)("li",{className:"flex flex-row rounded-sm [:where(&:nth-child(odd))]:bg-background-200 [:where(&:nth-child(odd))]:transition-colors [:where(&:nth-child(odd))]:delay-150 [:where(&:nth-child(odd))]:duration-200 overflow-hidden [@media(hover:hover){&:hover}]:!bg-gray-100 group-has-[li:hover]:[:where(&:nth-child(odd))]:bg-transparent group-has-[li:hover]:[:where(&:nth-child(odd))]:delay-0 group-has-[li:hover]:[:where(&:nth-child(odd))]:duration-0",children:(0,t.jsxs)(r,{className:"items-center flex h-8 min-w-0 flex-1 flex-row gap-1.5 p-2",...i,children:[(0,t.jsx)("span",{className:"text-label-14 min-w-0 flex-1 truncate leading-4",children:a.title}),(0,t.jsx)("span",{className:"text-label-14 text-xs shrink-0 font-medium tabular-nums leading-4 text-gray-900",children:a.total})]})})}function I(e){let{item:a,hideGauge:r,isHobby:i,isUpgradeHovered:s,isLink:n,className:c}=e,{unit:d}=a,u="string"==typeof d?e=>b.formatters[d](e,"display"):e=>N(e,d??null),m=void 0!==a.percentage?(0,t.jsx)(w.Gauge,{value:a.percentage,size:"tiny",colors:i?{0:"var(--ds-blue-700)",75:"var(--ds-amber-700)",100:"var(--ds-red-700)"}:{primary:"var(--ds-blue-700)",secondary:"var(--ds-gray-alpha-400)"},className:"shrink-0 *:size-4"}):(0,t.jsx)("div",{className:"size-4 shrink-0"}),h=i&&void 0!==a.nextPlanLimit&&a.nextPlanLimit!==a.limit,x=n?l.DashboardLink:"div",p=n?{route:a.chartKey?"/[teamSlug]/~/usage/[chartKey]":"/[teamSlug]/~/usage",params:{chartKey:a.chartKey},prefetch:!1,...(0,f.createTrackingAttributes)({section:"usage-widget",element:"row",type:"sku"})}:void 0;return(0,t.jsx)("li",{className:(0,o.cn)("flex flex-row rounded-sm [:where(&:nth-child(odd))]:bg-background-200 [:where(&:nth-child(odd))]:transition-colors [:where(&:nth-child(odd))]:delay-150 [:where(&:nth-child(odd))]:duration-200 overflow-hidden group-has-[li:hover]:[:where(&:nth-child(odd))]:bg-transparent group-has-[li:hover]:[:where(&:nth-child(odd))]:delay-0 group-has-[li:hover]:[:where(&:nth-child(odd))]:duration-0",n&&"[@media(hover:hover){&:hover}]:!bg-gray-100",c),children:(0,t.jsxs)(x,{className:"items-center flex h-8 min-w-0 flex-1 flex-row gap-1.5 p-2",...p,children:[r?null:m,(0,t.jsx)("span",{className:"text-label-14 min-w-0 flex-1 truncate leading-4",children:a.title}),(0,t.jsx)("span",{className:(0,o.cn)("text-label-14 text-xs shrink-0 font-medium tabular-nums leading-4 text-gray-900",{"-mr-1.5":h&&a.nextPlanLimit}),children:a.price?S.format(a.price):(0,t.jsxs)(t.Fragment,{children:[0===a.value&&a.limit?0:u(a.value),a.limit?" / ":null,a.limit?(0,t.jsxs)("span",{className:(0,o.cn)({"relative transition-colors duration-300":h,"text-gray-600 duration-500":h&&s}),children:[u(a.limit),h?(0,t.jsx)("span",{className:(0,o.cn)("absolute inset-x-0 top-[calc(50%-1px)] block h-[2px] bg-gray-500 transition-transform duration-300 origin-left scale-x-0",{"scale-x-100 duration-300":s})}):null]}):null]})}),h&&a.nextPlanLimit?(0,t.jsx)("span",{className:(0,o.cn)("relative max-w-0 text-xs font-medium tabular-nums leading-4 text-blue-900 opacity-0 duration-300 shrink-0 transition-width whitespace-nowrap",{"opacity-100 duration-1000 max-w-40":s}),children:(0,t.jsx)("span",{className:"pl-1.5",children:u(a.nextPlanLimit)})}):null]})})}var M=e.i(4726513),D=e.i(4723202),L=e.i(1717203),A=e.i(7557283),F=e.i(9059293),T=e.i(7917902),R=e.i(675543);let z=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),O=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:2,minimumFractionDigits:2});function E(e){let{cycle:r,plan:i,planIteration:s,isTrialing:n,isBlocked:c,hasExceededLimits:u}=e,h="pro"===i&&"plus"===s,x=Math.max((0,a.differenceInDays)(r.end,Date.now()),1),p=`${x} day${x>1?"s":""} remaining in cycle`,j=null;if("hobby"===i&&(c?(p=(0,t.jsxs)("span",{className:"flex flex-row items-center gap-1 text-red-900",children:["Paused",(0,t.jsx)(d.StopFill,{})]}),j="Upgrade to resume service"):p=u?(0,t.jsxs)("span",{className:"flex flex-row items-center gap-1",children:["Exceeded free resources",(0,t.jsx)(m.WarningFill,{color:"amber-700"})]}):"Last 30 days"),h&&n){let e=(0,F.days)(r.end-Date.now());p=`${e} day${e>1?"s":""} remaining of Pro trial`}return(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,t.jsx)(l.DashboardLink,{className:(0,o.cn)(g.linkClassName,"text-label-14 m-0 font-medium leading-6"),route:"/[teamSlug]/~/usage",prefetchStrategy:"hover",...(0,f.createTrackingAttributes)({section:"usage-widget",element:"header"}),children:p}),j?(0,t.jsx)("span",{className:(0,o.cn)("text-label-12 font-medium text-gray-900",h?"hidden @smd-page:block font-normal text-sm leading-4":""),children:j}):null]})}function $(e){let{data:a,showUpgrade:r,teamId:s,trackingData:l}=e,{track:n}=(0,j.useTrackActivity)(),o=(0,h.useOpenUpgradeModal)(),c=(0,y.usePreloadUpgradeModal)();return r?(0,t.jsx)(i.Button,{className:"!h-6 !px-2 *:text-label-12 *:px-0 *:font-medium",size:"small",onMouseOver:c,onClick:()=>{o({teamHint:s,source:"team-overview-usage-widget",onConversionSuccess:()=>{n(v.VercelActivityAction.UsageWidgetUpgradeCompleted,l)}}),n(v.VercelActivityAction.UsageWidgetUpgradeClicked,l)},children:"Upgrade"}):a?"byCredit"===a.type?(0,t.jsx)(U,{data:a}):"byProject"===a.type?(0,t.jsx)(V,{data:a}):null:null}function U(e){let{data:a}=e;return"byCredit"!==a.type?null:(0,t.jsx)("div",{className:"flex flex-row gap-2 items-center",children:(0,t.jsx)(l.DashboardButtonLink,{className:"!h-6 text-label-12 m-0 font-medium",type:"secondary",route:"/[teamSlug]/~/settings/billing",prefetchStrategy:"hover",size:"small",...(0,f.createTrackingAttributes)({section:"usage-widget",element:"header"}),children:"Billing"})})}function V(e){let{data:a}=e,r=a.includedAllocation||a.onDemandCharges,i=(a.includedAllocation?.used??0)+(a.onDemandCharges??0),s=a.includedAllocation?.total?i/a.includedAllocation.total:void 0,l=a.includedAllocation?.type;return r?(0,t.jsxs)("span",{className:"text-label-12 shrink-0 font-medium text-gray-900",children:["USD"===l?O.format(i):`${z.format(i)} MIUs`,s?` (${Math.round(100*s)}%)`:""]}):null}e.s(["UsageWidget",0,function(e){var a;let{teamSlug:d}=e,m=(0,p.useIsomorphicSuspenseSWR)((0,x.swrRequest)(`/api/usage-summary?teamId=${d}`),{revalidateOnFocus:!1,refreshInterval:6e5,ssr:{timeout:2e3}}),h=(0,l.useLink)(),{team:g}=(0,T.useAccount)(),f=g?.billing?.plan==="pro"&&"plus"===g.billing.planIteration,j=g?.billing?.status==="trialing"&&f,{can:v,isLoading:y}=(0,L.default)(),[w,b]=(0,n.useState)(!1),{data:N,...k}=m.data,S=N?.type==="byCredit"?1:3,F=N?"byCredit"===(a=N).type?a.skus?a.skus.length:+!!a.usage[0]?.creditsApplied:a.usage?.length??0:0,z=F>S,O=N?.type==="bySKU"&&N.usage.some(e=>e.percentage&&e.percentage>100),U=N?.type==="bySKU"?N.usage[0]:void 0,{showUpgradeAction:V}=(0,R.useProTrialShowUpgradeAction)();return v(A.Action.Read,A.Resource.Usage)||y?(0,t.jsxs)("div",{className:"relative flex flex-col @smd-page:gap-3","data-section":"usage","data-has-more":!!z||void 0,children:[(0,t.jsx)(r.ProjectsHeading,{title:"Usage",className:"@max-smd-page:px-4 @max-smd-page:pt-4",href:h("/[teamSlug]/~/usage")}),(0,t.jsxs)("div",{"data-section-content":!0,className:(0,o.cn)("relative @smd-page:material-small gap-4 py-4 flex flex-col transition-[max-height] duration-200 ease-in-out overflow-hidden min-h-[180px]",w?"@smd-page:max-h-[999px]":"@smd-page:max-h-[180px]",N?.type==="byCredit"&&"gap-2"),children:[F>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2 h-6 px-4",children:[(0,t.jsx)(E,{...k,hasExceededLimits:O,isTrialing:j}),(0,t.jsx)($,{data:N,showUpgrade:"hobby"===k.plan||V,teamId:k.teamId,trackingData:{hasExceededLimit:O,isPaused:k.isBlocked,topSku:U?.id,topSkuName:U?.title,topSkuPercent:U?.percentage}})]}),N?.type==="byCredit"?(0,t.jsxs)("div",{className:"px-2 space-y-2",children:[(0,t.jsx)(M.CreditUsage,{currency:N.currency??N.usage[0].currency,creditsApplied:N.usage[0].creditsApplied,creditsAllocated:N.usage[0].creditsAllocated,balance:Number(N.usage[0].currentBalance),isTrialing:j}),(0,t.jsx)("ul",{className:"group flex flex-col p-0",children:N.skus?.map(e=>(0,t.jsx)(P,{item:e},e.id))})]}):(0,t.jsx)("ul",{className:"group m-0 flex flex-col px-2",children:N?.usage?.map(e=>"byProject"===N.type?(0,t.jsx)(C,{project:e,currencyType:N.includedAllocation?.type},e.id):"bySKU"===N.type?(0,t.jsx)(I,{isLink:!0,item:e,hideGauge:"enterprise"===k.plan||f,isHobby:"hobby"===k.plan},e.id):null)})]}):(0,t.jsx)("div",{children:(0,t.jsx)(s.EmptyState.Root,{paddingX:0,paddingY:0,className:"flex h-36 items-center justify-center border-0 *:gap-4",icon:(0,t.jsx)(s.EmptyState.Icon,{icon:(0,t.jsx)(u.ChartBarMiddle,{}),size:32}),description:"No usage this cycle"})}),w||!z?null:(0,t.jsx)("div",{className:"absolute inset-x-0 -bottom-px h-4 w-full bg-gradient-to-b from-[hsla(var(--ds-background-200-value),0)_0%] to-[hsla(var(--ds-background-200-value),1)_100%] @max-smd-page:hidden z-[2] pointer-events-none"})]}),z?(0,t.jsx)(i.Button,{className:"z-[2] absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 @max-smd-page:hidden",svgOnly:!0,"aria-label":"Show More Usage",type:"secondary",shape:"circle",size:"tiny",onClick:()=>b(e=>!e),children:(0,t.jsx)(c.ChevronDownSmall,{className:(0,o.cn)("transition-transform duration-200 ease-in-out",{"-rotate-180":w})})}):null]}):(0,t.jsxs)("div",{className:"relative flex flex-col @smd-page:gap-3","data-section":"usage","data-has-more":!!z||void 0,children:[(0,t.jsx)(r.ProjectsHeading,{title:"Usage",className:"@max-smd-page:px-4 @max-smd-page:pt-4",href:h("/[teamSlug]/~/usage")}),(0,t.jsx)("div",{"data-section-content":!0,className:(0,o.cn)("relative @smd-page:material-small p-4 gap-4 flex flex-col justify-center transition-[max-height] duration-200 ease-in-out overflow-hidden min-h-[180px]",w?"@smd-page:max-h-[408px]":"@smd-page:max-h-[180px]"),children:(0,t.jsx)(s.EmptyState.Root,{paddingX:0,paddingY:0,className:"flex h-24 items-center justify-center border-0 *:gap-4",icon:(0,t.jsx)(s.EmptyState.Icon,{icon:(0,t.jsx)(u.ChartBarMiddle,{}),size:32}),description:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:["You don't have the required permission to view team usage.",(0,t.jsx)(D.RequestRoleButton,{teamRole:"MEMBER"})]})})})]})}],4915059)},5987740,e=>{"use strict";var t=e.i(31889),a=e.i(198667),r=e.i(1107069),i=e.i(8851095),s=e.i(6159310);e.s(["UsageError",0,function(){let{retry:e}=(0,i.useError)(),l=(0,s.useLink)();return(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsx)(r.ProjectsHeading,{title:"Usage",href:l("/[teamSlug]/~/usage")}),(0,t.jsx)("button",{className:"material-small grid h-[180px] cursor-pointer place-content-center bg-background-200 p-2 text-gray-900 hover:text-gray-1000 focus-visible:text-gray-1000",onClick:e,type:"button",children:(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,t.jsx)("span",{className:"text-copy-14",children:"Failed to load usage"}),(0,t.jsx)(a.RefreshClockwise,{})]})})]})}])},1875605,e=>{"use strict";var t=e.i(31889),a=e.i(6695816),r=e.i(6143247),i=e.i(1107069),s=e.i(2504781),l=e.i(1136434),n=e.i(6159310);function o(e){let{children:o,large:c,headerAttachment:d,activeBorder:u}=e,[m,h]=(0,a.useState)(!1),[x,p]=(0,a.useState)(!1),g=(0,a.useRef)(null),f=(0,a.useRef)(null),j=(0,a.useMemo)(()=>c?162:112,[c]),v=(0,n.useLink)();return(0,a.useEffect)(()=>{let e=g.current,t=f.current;if(!e||!t)return;let a=()=>{p(t.scrollHeight>j)};a();let r=new ResizeObserver(a);return r.observe(t),()=>r.disconnect()},[o,j]),(0,t.jsxs)("div",{className:"relative flex flex-col @smd-page:gap-3","data-section":"alerts","data-has-more":!!x||void 0,"data-alerts-active":!!u||void 0,children:[(0,t.jsx)(i.ProjectsHeading,{title:"Alerts",className:"@max-smd-page:px-4 @max-smd-page:pt-4",attachment:d,href:v("/[teamSlug]/~/observability/alerts")}),(0,t.jsxs)("div",{"data-section-content":!0,className:(0,r.cn)("relative @smd-page:material-small gap-4 flex flex-col transition-[max-height] duration-200 ease-in-out overflow-hidden border-0 p-0",m?"@smd-page:max-h-[300px]":"@smd-page:max-h-[120px]"),style:{minHeight:c?164:114},children:[(0,t.jsx)("div",{ref:g,className:(0,r.cn)("absolute inset-0 @smd-page:bg-gray-300 rounded-[6px]",{"@smd-page:[background-image:linear-gradient(15deg,rgba(255,0,0,0)_52%,var(--ds-red-500)_100%)]":u})}),(0,t.jsxs)("div",{ref:f,className:(0,r.cn)("bg-background-100 rounded-[5px] z-[1] m-px h-full relative overflow-hidden",m?"@smd-page:max-h-[298px]":"@smd-page:max-h-[118px]"),style:{minHeight:j},children:[o,m||!x?null:(0,t.jsx)("div",{className:"absolute inset-x-0 -bottom-px h-4 w-full bg-gradient-to-b from-[hsla(var(--ds-background-200-value),0)_0%] to-[hsla(var(--ds-background-200-value),1)_100%] @max-smd-page:hidden z-[2] pointer-events-none"})]})]}),x?(0,t.jsx)(s.Button,{className:"z-[2] absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 @max-smd-page:hidden",svgOnly:!0,"aria-label":"Show More Usage",type:"secondary",shape:"circle",size:"tiny",onClick:()=>h(e=>!e),children:(0,t.jsx)(l.ChevronDownSmall,{className:(0,r.cn)("transition-transform duration-200 ease-in-out",{"-rotate-180":m})})}):null]})}var c=e.i(6728635),d=e.i(2630141),u=e.i(854682),m=e.i(7837522),h=e.i(7780974),x=e.i(5338940);function p(){let{team:e}=(0,x.useTeam)(),r=e?.billing?.plan==="hobby",i=(0,d.useOpenEnableModal)(),{track:l,isReady:n}=(0,m.useTrackActivity)(),o=(0,a.useRef)(!1),{applyPromotion:p}=(0,u.useHasObservabilityPlus)();return(0,a.useEffect)(()=>{!o.current&&n&&(o.current=!0,l(h.VercelActivityAction.AlertsWidgetImpression,{}))},[l,n]),(0,t.jsx)("div",{className:"size-full",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-5 flex-col w-full min-h-full py-5 px-2",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1.5 align-center text-center",children:[(0,t.jsx)("span",{className:"text-label-14 font-medium",children:"Get alerted for anomalies"}),(0,t.jsx)("span",{className:"text-label-14 text-gray-900 text-balance",children:"Automatically monitor your projects for anomalies and get notified."})]}),(0,t.jsx)(s.Button,{size:"small",type:r?"secondary":"default",onClick:()=>{i({via:"team-overview-alerts",upgradeUseCase:"anomaly-alerts"})},children:p?"Get 30 days for free":"Upgrade to Observability Plus"}),(0,t.jsx)(c.EnableModal,{})]})})}var g=e.i(215852),f=e.i(2686817),j=e.i(9979783),v=e.i(4244280),y=e.i(7432042);let w=(0,y.default)("48h");function b(e){return null!=e}var N=e.i(3306538),k=e.i(2627304),S=e.i(5761705),C=e.i(5072965),P=e.i(8042625),I=e.i(9997017),M=e.i(9386557),D=e.i(593207);function L(e){let{alerts:r,teamSlug:i}=e,{track:s,isReady:l}=(0,m.useTrackActivity)(),o=(0,a.useRef)(new Set);return((0,a.useEffect)(()=>{if(l&&r.length)for(let e of r)"active"!==e.status||o.current.has(e.id)||(o.current.add(e.id),s(h.VercelActivityAction.AlertsWidgetActiveAlertImpression,{alertId:e.id,level:e.level,type:e.type,title:e.title}))},[s,l,r]),r.length)?(0,t.jsx)("ul",{className:"group flex flex-col p-2",children:r.map(e=>(0,t.jsx)("li",{className:"flex flex-row rounded-sm [:where(&:nth-child(odd))]:bg-background-200 [:where(&:nth-child(odd))]:transition-colors [:where(&:nth-child(odd))]:delay-150 [:where(&:nth-child(odd))]:duration-200 overflow-hidden [@media(hover:hover){&:hover}]:!bg-gray-100 group-has-[li:hover]:[:where(&:nth-child(odd))]:bg-transparent group-has-[li:hover]:[:where(&:nth-child(odd))]:delay-0 group-has-[li:hover]:[:where(&:nth-child(odd))]:duration-0",children:(0,t.jsxs)(n.DashboardLink,{className:"flex h-8 flex-row min-w-0 flex-1 gap-1.5 p-2 items-center",route:"/[teamSlug]/~/observability/alerts/[alertId]",params:{alertId:e.id},prefetch:!1,...(0,C.createTrackingAttributes)({section:"alerts-widget",element:"row"}),onClick:()=>{s(h.VercelActivityAction.AlertsWidgetAlertClicked,{status:e.status,alertId:e.id,level:e.level,type:e.type,title:e.title})},children:[(0,t.jsx)(A,{projectId:e.projectId,teamSlug:i,deploymentId:e.deploymentId}),(0,t.jsx)(I.AlertTitle,{alert:e,className:"text-label-14 min-w-0 flex-1 truncate leading-4 content-center"}),"active"===e.status?(0,t.jsx)(M.WarningFill,{color:"red-700"}):(0,t.jsx)("span",{className:"text-label-12 shrink-0 font-medium tabular-nums text-gray-900",children:(0,D.ago)(Date.now()-(e.resolvedAt??e.startedAt),{justNowThreshold:(0,y.default)("1m")})})]})},e.id))}):(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 flex-row w-full h-full",children:[(0,t.jsx)(S.CheckCircle,{color:"gray-900"}),(0,t.jsx)("span",{className:"text-copy-14 text-gray-900",children:"No recent anomalies detected"})]})}function A(e){let{projectId:a,teamSlug:r,deploymentId:i,size:s=16}=e;return(0,t.jsx)(k.AvatarWithError,{className:"cursor-pointer",priority:!0,size:s,style:{flexBasis:s},tooltipProps:{className:"relative z-[2]",text:"There was an issue rendering your favicon"},url:function(e){let{deploymentId:t,projectId:a,teamSlug:r}=e;return`/api/v0/deployments/${t}/favicon${(0,P.encode)({teamId:r,project:a})}`}({deploymentId:i,projectId:a,teamSlug:r})})}e.s(["AlertsWrapper",0,function(e){let{teamSlug:r}=e,{data:i,enabled:s}=function(e){let{teamSlug:t}=e,r=(0,a.useRef)({}),{data:i,...s}=(0,g.useIsomorphicSuspenseSWR)((0,f.swrRequest)(`alerts-widget-${t}`),async()=>{let[e,a]=await Promise.all([(0,j.typedFetchData)("/alerts/v2/alerts","get",{teamId:t}),(0,j.typedFetchData)(v.API_OBSERVABILITY_CONFIGURATION,"get",{teamId:t})]);if(!a?.observabilityPlus?.enabled)return{enabled:!1,alerts:[],projects:[]};let i=e.filter(e=>!("active"!==e.status&&e.resolvedAt&&Date.now()-e.resolvedAt>w||a?.observabilityPlus?.excludedProjects?.some(t=>t.id===e.projectId))),s=new Set(i.map(e=>e.projectId)),l=Object.fromEntries(await Promise.all(Array.from(s).map(async e=>{if(r.current[e])return[e,r.current[e]];try{let a=await (0,j.typedFetchData)("/v1/dashboard/projects/{idOrName}","get",{idOrName:e,teamId:t}),r={id:a.id,name:a.name,productionDeployment:a.productionDeployment?{id:a.productionDeployment.id}:void 0};return[e,r]}catch(t){return console.error(e,t),[e,void 0]}})));return{enabled:!0,alerts:i.map(e=>{let t=l[e.projectId];if(t?.productionDeployment)return{...e,projectName:t.name,deploymentId:t.productionDeployment.id}}).filter(b).sort((e,t)=>Number("active"===t.status)-Number("active"===e.status)).slice(0,8),projects:Object.values(l).filter(b)}},{revalidateIfStale:!1});return(0,a.useEffect)(()=>{if(i?.projects)for(let e of i.projects)r.current[e.id]=e},[i?.projects]),{enabled:i?.enabled,data:i?.alerts,...s}}({teamSlug:r}),l=(0,a.useRef)(!1),n=i.filter(e=>"active"===e.status).length;return((0,a.useEffect)(()=>{if(!l.current&&(l.current=!0,n>0)){let e=document.querySelector("[data-sidebar-container] [value=alerts]");e&&(e.checked=!0)}},[n]),s)?(0,t.jsx)(o,{activeBorder:n>0,headerAttachment:n>0?(0,t.jsxs)(N.Badge,{variant:"red-subtle",size:"sm",children:[n," Active"]}):null,children:(0,t.jsx)(L,{alerts:i,teamSlug:r})}):(0,t.jsx)(o,{large:!0,children:(0,t.jsx)(p,{})})}],1875605)},1561802,e=>{"use strict";var t=e.i(31889),a=e.i(1107069),r=e.i(6159310);e.s(["AlertsError",0,function(){let e=(0,r.useLink)();return(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsx)(a.ProjectsHeading,{title:"Alerts",href:e("/[teamSlug]/~/observability/alerts")}),(0,t.jsx)("div",{className:"material-small grid h-[180px] cursor-pointer place-content-center bg-background-200 p-2 text-gray-900 hover:text-gray-1000 focus-visible:text-gray-1000",children:(0,t.jsx)("div",{className:"flex flex-row items-center gap-2",children:(0,t.jsx)("span",{className:"text-copy-14",children:"Failed to load alerts"})})})]})}])},1982365,e=>{"use strict";var t=e.i(31889),a=e.i(616019),r=e.i(3954609),i=e.i(6591520),s=e.i(6695816);function l(e){let{children:s}=e,[{repo:l,mfe:n}]=(0,a.useQueryStates)(r.teamOverviewSearchParams);return(0,i.useTeamOverviewDebouncedSearch)()||l||n?null:(0,t.jsx)(t.Fragment,{children:s})}e.s(["ProjectsSidebarControl",0,function(e){let{children:a,filtered:r=!1}=e;return(0,t.jsx)(s.Suspense,{fallback:r?null:a,children:(0,t.jsx)(l,{children:a})})}])}]);

//# debugId=5556b408-9d8a-406b-36e2-cc4f98286c97
//# sourceMappingURL=45d64cb75e8feff4.js.map