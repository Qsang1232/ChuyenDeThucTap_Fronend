;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="50f0d051-8932-7b5b-3824-40b7813b2108")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1508268,e=>{"use strict";var t=e.i(7909933),r=e.i(277234),i=e.i(4244280),a=e.i(5338940);e.s(["useProjectsByRepoUrl",0,function(e){let{team:s,isReady:l}=(0,a.useTeam)(),n=new URL((0,i.API_PROJECTS_VERSION)("v2"),"https://vercel.com");return n.searchParams.set("repoUrl",e??""),s?.id&&n.searchParams.set("teamId",s.id),(0,t.default)(l&&e?`${n.pathname}${n.search}`:null,e=>(0,r.fetchAPI)(e,{throwOnHTTPError:!0}))}])},4298944,e=>{"use strict";var t=e.i(6232213),r=e.i(6695816),i=e.i(1991452),a=e.i(5140444);e.s(["useTrackStatsigEvent",0,function(e){let{eventName:s,metadata:l}=e,{user:n,isLoading:o}=(0,a.useUser)(),{isReady:c}=(0,i.useRouter)(),u=(0,r.useRef)({});(0,r.useEffect)(()=>{o||!n||!c||u.current[s]||(u.current[s]=!0,(0,t.postToStatsigClient)({events:[{eventName:s,...l?{metadata:l}:{}}]}))},[s,l,c,o,n])}])},5466001,e=>{"use strict";var t=e.i(7045101),r=e.i(1508268);e.s(["useRemainingEligibleProjects",0,function(e){let{data:i,isLoading:a,isValidating:s}=(0,t.useDetectEligibleProjects)(e),{data:l,isLoading:n,isValidating:o,mutate:c}=(0,r.useProjectsByRepoUrl)(e),u=(i?.projects.length??0)>1,d=i?.projects.filter(e=>!l?.some(t=>!!t.rootDirectory&&e.path?.includes(t.rootDirectory)));return{isLoading:a||n,isValidating:s||o,data:u?d:[],mutate:c}}])},377478,e=>{"use strict";var t=e.i(6695816),r=e.i(7909933),i=e.i(1991452),a=e.i(7553931),s=e.i(8042625);let l=null;e.s(["default",0,function(){let{data:e,mutate:n}=(0,r.default)("import-url-data",()=>l),o=(0,i.useRouter)(),c=(0,a.usePathname)(),{query:u}=o;(0,t.useEffect)(()=>{l={...u},n()},[n,c,u]);let d=(0,t.useCallback)(e=>{let t=l||u,r=!1;for(let i in e)if(e[i]!==t[i]){r=!0;break}if(!r)return;let i=Object.assign({},t,e);for(let e in i)null===i[e]&&delete i[e];let a=o.pathname+(0,s.encode)(i);o.replace({pathname:o.pathname,query:i},a,{shallow:!0}),l=i,n()},[n,u,o]);return[e||u,d]}])},6178534,e=>{"use strict";var t=e.i(31889),r=e.i(7047540),i=e.i(6695816),a=e.i(1991452),s=e.i(2504781),l=e.i(4030453),n=e.i(3500331),o=e.i(3671642),c=e.i(5255926),u=e.i(9318197),d=e.i(3169345),m=e.i(455575),p=e.i(57106),f=e.i(8042625),h=e.i(9070994),g=e.i(4244280),x=e.i(5338940),y=e.i(1717203),b=e.i(7557283),j=e.i(545405),v=e.i(6060673),w=e.i(185801);async function T(e,t,r,i){await (0,h.default)(`${g.API_PROJECTS}/${e.id}/deploy-hooks${(0,f.encode)({teamId:t})}`,{method:"POST",body:{ref:i,name:r},throwOnHTTPError:!0})}let P=e=>{let{branch:r,id:a,name:l,url:n,mutate:o,project:c,onError:u}=e,{team:p}=(0,x.useTeam)(),[y,b]=(0,i.useState)(!1),v=(0,m.useToasts)(),w=(0,i.useCallback)(async e=>{"preventDefault"in e&&e?.preventDefault(),b(!0);try{await (0,h.default)(`${g.API_PROJECTS}/${c.id}/deploy-hooks/${a}${(0,f.encode)({teamId:p?p.id:null})}`,{method:"DELETE",throwOnHTTPError:!0}),await o()}catch(e){u(e)}finally{b(!1)}},[o,p,c,a,u]);return(0,t.jsxs)(d.Table.Row,{children:[(0,t.jsx)(d.Table.Cell,{style:{verticalAlign:"middle"},children:l||"-"}),(0,t.jsx)(d.Table.Cell,{style:{verticalAlign:"middle"},children:r}),(0,t.jsx)(d.Table.Cell,{className:"geist-ellipsis",title:n,style:{verticalAlign:"middle",height:"52px",alignContent:"center"},children:(0,t.jsx)("code",{className:"geist-mono",style:{maxWidth:"300px",display:"block",overflow:"hidden",textOverflow:"ellipsis"},children:n})}),(0,t.jsx)(d.Table.Cell,{style:{verticalAlign:"middle"},children:(0,t.jsxs)("div",{className:"flex flex-initial flex-row items-stretch justify-start gap-2",children:[(0,t.jsx)(s.Button,{onClick:e=>{"preventDefault"in e&&e?.preventDefault(),(0,j.copyToClipboard)(n),v.message("Copied to clipboard!")},size:"small",children:"Copy"}),(0,t.jsx)(s.Button,{loading:y,onClick:w,size:"small",type:"error",children:"Revoke"})]})})]},a)};e.s(["createDeployHook",0,T,"default",0,()=>{let e=(0,a.useRouter)(),{data:m,mutate:f}=(0,v.useProject)(e.query.project),{team:h,isReady:g}=(0,x.useTeam)(),{can:j,isLoading:S}=(0,y.default)(),C=j(b.Action.Update,b.Resource.Project),[_,E]=(0,i.useState)(!1),[R,N]=(0,i.useState)(""),[k,I]=(0,i.useState)(""),[A,O]=(0,i.useState)(null),D=!g||!m||S,L=(0,i.useCallback)(async e=>{if(e.preventDefault(),O(null),""===k.replace(/\s/g,""))return O({message:"Hook name must not be empty"});if(""===R)return O({message:"Branch name must not be empty"});if(k.length>180)return O({message:"The name for your Deploy Hook cannot be longer than 180 characters."});E(!0);try{await T(m,h?.id,k,R),await f(),N(""),I("")}catch(e){O(e)}finally{E(!1)}},[R,k,m,h,f]),$=m?.link,G=$?$.deployHooks:null,M=(0,i.useMemo)(()=>m?$?Array.isArray(G)&&G.length?(0,t.jsxs)(d.Table,{children:[(0,t.jsxs)(d.Table.Colgroup,{children:[(0,t.jsx)(d.Table.Col,{className:"w-1/4"}),(0,t.jsx)(d.Table.Col,{className:"w-[15%]"}),(0,t.jsx)(d.Table.Col,{className:"w-[45%]"}),(0,t.jsx)(d.Table.Col,{className:"w-[15%]"})]}),(0,t.jsx)(d.Table.Header,{children:(0,t.jsxs)(d.Table.Row,{children:[(0,t.jsx)(d.Table.Head,{children:"Name"}),(0,t.jsx)(d.Table.Head,{children:"Branch"}),(0,t.jsx)(d.Table.Head,{children:"URL"}),(0,t.jsx)(d.Table.Head,{})]})}),(0,t.jsx)(d.Table.Body,{children:G.map(e=>(0,t.jsx)(P,{branch:e.ref,id:e.id,mutate:f,name:e.name,onError:O,project:m,url:e.url},e.id))})]}):(0,t.jsx)("p",{className:"text-copy-14",children:"This project does not have any deploy hooks."}):(0,t.jsxs)("p",{className:"text-copy-14",children:["This Project is not connected to a Git repository. To be able to set up a Deploy Hook, you need to set up a new connection in the ",'"Connected Git Repository" section above.']}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Skeleton,{height:17,style:{marginTop:"5px"},width:280}),(0,t.jsx)(c.Skeleton,{height:17,style:{marginTop:"5px"},width:170}),(0,t.jsx)(c.Skeleton,{className:"geist-show-on-mobile",height:17,style:{marginTop:"5px"},width:200}),(0,t.jsx)(c.Skeleton,{className:"geist-show-on-mobile",height:17,style:{marginTop:"5px"},width:45})]}),[m,$,G,f]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(w.ProjectSettingsFieldset,{description:"Deploy hooks are unique URLs that allow you to trigger a deployment of a given branch.",disabled:D||!C,highlightNote:!D&&!C,note:D?(0,t.jsx)(c.Skeleton,{boxHeight:32,vcenter:!0,width:200}):C?(0,t.jsxs)("p",{className:"jsx-c668af8586dc9ab2 text-copy-14 text-gray-900 leading-[32px]",children:["Learn more about"," ",(0,t.jsx)(p.Link,{external:!0,href:"/docs/deploy-hooks",tab:!0,type:"highlight",children:"Deploy Hooks"})]}):(0,t.jsx)("p",{className:"jsx-c668af8586dc9ab2 text-copy-14 text-gray-900 leading-[32px]",children:"You need additional permissions to manage your project's deploy hooks."}),title:"Deploy Hooks",children:[M,m&&$?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Spacer,{y:.5}),(0,t.jsx)(u.Spacer,{y:.5}),(0,t.jsx)("form",{onSubmit:L,className:"jsx-c668af8586dc9ab2",children:(0,t.jsxs)("div",{className:"jsx-c668af8586dc9ab2 flex flex-initial flex-col justify-start @lg-page:flex-row items-start @lg-page:items-end gap-4",children:[(0,t.jsxs)("div",{className:"jsx-c668af8586dc9ab2 flex flex-initial items-stretch justify-start flex-col w-full @lg-page:w-auto",children:[(0,t.jsx)(o.Label,{htmlFor:"hook-name",value:"Name"}),(0,t.jsx)(n.Input,{explicitId:"hook-name",id:"hook-name",onChange:e=>I(e.target.value),placeholder:"My Example Hook",value:k,width:"100%"})]}),(0,t.jsxs)("div",{className:"jsx-c668af8586dc9ab2 flex flex-initial flex-col items-stretch justify-start w-full @lg-page:w-auto",children:[(0,t.jsx)(o.Label,{htmlFor:"hook-branch",value:"Branch"}),(0,t.jsx)(n.Input,{explicitId:"hook-branch",id:"hook-branch",onChange:e=>N(e.target.value),placeholder:"main",value:R,width:"100%"})]}),(0,t.jsx)(s.Button,{loading:_,style:{alignSelf:"end"},children:"Create Hook"})]})})]}):null,A?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Spacer,{}),(0,t.jsx)(l.Error,{children:A.message})]}):null]}),(0,t.jsx)(r.default,{id:"c668af8586dc9ab2",children:".input.jsx-c668af8586dc9ab2 label.jsx-c668af8586dc9ab2{color:var(--geist-foreground);cursor:pointer;align-items:center;font-size:13px;display:inline-flex}.input.disabled.jsx-c668af8586dc9ab2{opacity:.4}.input.jsx-c668af8586dc9ab2 label.jsx-c668af8586dc9ab2 .copy.jsx-c668af8586dc9ab2{margin-left:8px}.create-hook.jsx-c668af8586dc9ab2{justify-content:space-between;align-items:center;width:100%;display:flex}"})]})}])},3207250,e=>{"use strict";var t=e.i(901210),r=e.i(8042625),i=e.i(277234),a=e.i(4244280),s=e.i(5140444);async function l(e){return(0,i.fetchAPI)(e,{throwOnHTTPError:!0})}e.s(["default",0,function(e){let{user:i}=(0,s.useUser)();return(0,t.default)(()=>i&&!i.limited&&e?`${a.API_INTEGRATION_CONTROLLER}/detect-framework${(0,r.encode)({url:e})}`:null,l)}])},2661670,e=>{"use strict";var t=e.i(7909933),r=e.i(277234),i=e.i(4244280),a=e.i(5338940);async function s(e){let{teamId:t,gitNamespaceId:a,gitProvider:s,gitProviderCustomHost:l,gitNamespaceOwnerType:n}=e;return(0,r.fetchAPI)(`${i.API_TEAMS}/${t}/git-exclusivity`,{method:"POST",body:{gitNamespaceId:a,gitProvider:s,gitProviderCustomHost:l,gitNamespaceOwnerType:n},throwOnHTTPError:!0})}async function l(e){let{teamId:t,gitNamespaceId:a,gitProvider:s}=e;return(0,r.fetchAPI)(`${i.API_TEAMS}/${t}/git-exclusivity`,{method:"DELETE",body:{gitNamespaceId:a,gitProvider:s},throwOnHTTPError:!0})}e.s(["postGitExclusivity",0,s,"removeGitExclusivity",0,l,"useListGitExclusivity",0,function(e,a){let{teamId:s}=e;return(0,t.default)(()=>s?`${i.API_TEAMS}/${s}/git-exclusivity`:null,e=>(0,r.fetchAPI)(e,{throwOnHTTPError:!0}),a)},"useVerifyGitExclusivity",0,function(e){let{gitProvider:s,gitNamespaceId:l,gitNamespaceSlug:n}=e,{team:o,allTeamsSlugToFlagsMap:c}=(0,a.useTeam)(),u=!!o&&c?.[o.slug]?.["git-exclusivity"],d=(e=>{let{gitProvider:t,gitNamespaceId:r,gitNamespaceSlug:i}=e,a="bitbucket"===t?r:i;if("string"==typeof a){let e=a.indexOf("/");return e>0?a.slice(0,e):a}return a})({gitProvider:s,gitNamespaceId:l,gitNamespaceSlug:n});return(0,t.default)(()=>o&&s&&d?`${i.API_TEAMS}/${o.id}/git-exclusivity/${s}/${d}`:null,async e=>"github-limited"!==s&&u&&o?(0,r.fetchAPI)(e,{throwOnHTTPError:!1}):{hasAccess:!0})}])},8285341,e=>{e.v({card:"card-module__IZl3UW__card",compressCardOnMobile:"card-module__IZl3UW__compressCardOnMobile",newCard:"card-module__IZl3UW__newCard",root:"card-module__IZl3UW__root",uncontained:"card-module__IZl3UW__uncontained"})},6038905,e=>{"use strict";var t=e.i(31889),r=e.i(6695816),i=e.i(9722978),a=e.i(746850),s=e.i(8285341);let l=r.createContext({});l.displayName="CardContext";let n=r.forwardRef(function(e,n){let{title:o,titleDisabled:c,titleSuffix:u,subtitle:d,children:m,active:p=!0,className:f,uncontained:h,compressCardOnMobile:g,...x}=e,y=r.useRef(null);return(0,t.jsx)(l.Provider,{value:{active:p},children:(0,t.jsxs)("div",{className:(0,i.clsx)(s.default.root,s.default.newCard,"@md-page:rounded-lg",{"bg-background-100 @md-page:shadow-lg":p,"@md-page:shadow-border":!p},f),...x,children:[(0,t.jsxs)("div",{className:(0,i.clsx)(s.default.card,{[s.default.compressCardOnMobile]:g,[s.default.uncontained]:h}),ref:(0,a.default)([y,n]),title:p?void 0:c,children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between gap-3 flex-initial",children:[(0,t.jsx)("h3",{className:"text-heading-24",style:{...!p&&{color:"var(--ds-gray-700)"}},children:o}),u||null]}),(0,t.jsx)("div",{style:{marginTop:"var(--geist-space-4x)"}}),d?(0,t.jsx)("div",{className:"text-copy-14 font-normal m-0",style:{color:p?"var(--ds-gray-1000)":"var(--ds-gray-700)",margin:"var(--geist-gap) 0"},children:d}):null,h?null:m]}),h?m:null]})})});e.s(["default",0,n,"useCardContext",0,()=>r.useContext(l)])},7562527,e=>{"use strict";var t=e.i(7966665),r=e.i(7553931),i=e.i(6695816);let a="vercel-tutor";e.s(["VERCEL_TUTOR_TEMPLATE_NAME",0,a,"useRepoQuery",0,function(){let e=(0,r.useSearchParams)();return(0,i.useMemo)(()=>{let r=e?.get("repository-url")??e?.get("s"),i=e?.get("customGitHost")??void 0;if("string"==typeof r){let s=(0,t.default)(r,i);if(s)return{host:i,url:r,type:e?.get("provider")??("ghes"===s.type?"github-custom-host":s.type),owner:s.owner,name:s.name,fullName:`${s.owner}/${s.name}`,branch:s.branch,subdir:s.subdir,template:"github"===s.type&&"vercel"===s.owner&&"vercel"===s.name&&s.subdir.startsWith("examples/")?s.subdir.slice(9):"github"===s.type&&"vercel"===s.owner&&"examples"===s.name&&"vercel-tutor"===s.subdir?a:"github"===s.type&&"vercel"===s.owner&&"examples"===s.name&&s.subdir.startsWith("apps/")?s.subdir.slice(5):void 0}}return null},[e])}])},1177040,e=>{"use strict";var t=e.i(6695816);let r={configureProject:!1,deploymentId:null,rootDirectory:"",deploying:null,deploymentReset:null,configureProjectLoading:!1,dispatch:()=>void 0,flowId:null},i=t.createContext(r);function a(e,t){switch(t.type){case"SET_CONFIGURE_PROJECT":return{...e,configureProject:!!t.configureProject};case"SET_DEPLOYING":return{...e,deploying:!!t.deploying};case"SET_DEPLOYMENT_RESET":return{...e,deploymentReset:!!t.deploymentReset};case"SET_DEPLOYMENT_ID":return{...e,deploymentId:t.deploymentId};case"SET_ROOT_DIRECTORY":return{...e,rootDirectory:t.rootDirectory};case"RESET":return{...r,dispatch:e.dispatch};case"SET_FLOW_ID_ONCE":return{...e,flowId:e.flowId||t.flowId};default:return e}}i.displayName="ProjectImportContext",e.s(["ProjectImportContext",0,i,"useProjectImportContext",0,()=>t.useContext(i),"useProjectImportReducer",0,function(){return t.useReducer(a,r)}])},5065835,4588064,e=>{"use strict";var t=e.i(5140444),r=e.i(4586231),i=e.i(7909933),a=e.i(7691268);function s(e,r,s){let{user:l}=(0,t.useUser)();return(0,i.default)(l&&!l.limited?e:null,e=>"object"==typeof e&&null!==e?(0,a.getRepo)(e):(0,a.getRepo)(e,r,s),{shouldRetryOnError:e=>404!==e.status})}e.s(["default",0,s],4588064),e.s(["useRepoIfGitVerified",0,function(e,i,a){let{user:l}=(0,t.useUser)(),{account:n}=(0,r.default)({account:l&&!l.limited?l:void 0});return s(...n?.github?.verified||n?.gitlab?.verified||n?.bitbucket?.verified||n?.["github-limited"]?.verified||n?.["github-custom-host"]?.verified?"object"==typeof e&&null!==e?[e,void 0,void 0]:[e,i,a]:[null,void 0,void 0])}],5065835)},9192668,e=>{"use strict";var t=e.i(31889),r=e.i(4345845),i=e.i(325293),a=e.i(2064047),s=e.i(9739627),l=e.i(5255926),n=e.i(57106),o=e.i(4004502),c=e.i(7553931),u=e.i(5614970),d=e.i(7562527),m=e.i(5065835),p=e.i(4588064),f=e.i(1177040),h=e.i(4844919),g=e.i(9722978);function x(e){let{showDirectory:r=!0,checkGitVerified:i=!1,className:a}=e,s=(0,d.useRepoQuery)(),{rootDirectory:n}=(0,f.useProjectImportContext)();if(!s)return(0,t.jsxs)("div",{className:(0,g.default)("flex flex-col items-stretch justify-start gap-3 flex-initial",a),children:[(0,t.jsx)(l.Skeleton,{height:21,width:150}),(0,t.jsx)(l.Skeleton,{height:21,width:100}),(0,t.jsx)(l.Skeleton,{height:21,width:135})]});let{data:o}=i?(0,m.useRepoIfGitVerified)({provider:s.type,owner:s.owner,name:s.name,customGitHost:s.host}):(0,p.default)({provider:s.type,owner:s.owner,name:s.name,customGitHost:s.host}),c=function(e){switch(e.type){case"github":case"github-limited":return`https://github.com/${e.fullName}`;case"gitlab":return`https://gitlab.com/${e.fullName}`;case"bitbucket":return`https://bitbucket.org/${e.fullName}`;case"github-custom-host":return`https://${e.host}/${e.fullName}`;default:return`https://${e.type}.com/${e.fullName}`}}(s);return(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(j,{href:c,name:s.fullName,type:s.type}),s.branch||o?.defaultBranch||!i&&!o?(0,t.jsx)(b,{href:c,name:s.branch||o?.defaultBranch||"…"}):null,r&&(n||s.subdir)?(0,t.jsx)(y,{href:s.url,name:n||s.subdir||"./"}):null]})}function y(e){let{href:r,name:a}=e;return(0,t.jsxs)(n.Link,{className:"inline-flex gap-1 truncate",href:r,tab:!0,variant:"secondary",children:[(0,t.jsx)(i.FolderOpen,{color:"currentColor",size:16}),(0,t.jsx)("span",{className:"text-copy-14 text-inherit truncate","data-testid":(0,o.tid)("import","sidebar","repo","root-directory"),title:a,children:a})]})}function b(e){let{href:i,name:a}=e;return(0,t.jsxs)(n.Link,{className:"inline-flex min-w-[54px] gap-1 truncate",href:i,tab:!0,variant:"secondary",children:[(0,t.jsx)(r.GitBranch,{color:"currentColor",size:16}),(0,t.jsx)("span",{className:"text-copy-14 text-inherit truncate","data-testid":(0,o.tid)("import","sidebar","repo","branch"),style:{fontFamily:"var(--font-mono)"},title:a,children:a})]})}function j(e){let{href:r,type:i,name:a}=e;return(0,t.jsxs)(n.Link,{className:"inline-flex gap-1 truncate",href:r,tab:!0,children:[(0,t.jsx)(u.default,{gitType:i,height:16,style:{flexShrink:0},width:16}),(0,t.jsx)("span",{className:"text-[14px] leading-[20px] font-medium truncate","data-testid":(0,o.tid)("import","sidebar","repo","name"),title:a,children:a})]})}function v(e){let{placeholder:r,screenshotUrl:i,projectName:a}=e,n=r?(0,t.jsx)(l.Skeleton,{className:"geist-hide-on-mobile",height:120,style:{borderRadius:"4px"},width:192}):null;return i?(0,t.jsx)(s.Image,{alt:a||"screenshot",className:"geist-hide-on-mobile",height:120,loading:"eager",objectFit:"cover",placeholder:"blur",priority:!0,srcDark:i,srcLight:i,style:{display:"block",minWidth:192,minHeight:120,maxHeight:120,borderRadius:"4px"},width:192,unoptimized:!0}):n}e.s(["GitRepository",0,x,"GitRepositoryEntity",0,function(e){let{frameworks:r,action:i,checkGitVerified:s}=e,o=(0,c.useSearchParams)(),u=(0,d.useRepoQuery)(),m=r?.find(e=>e.slug===u?.template),p=o?.get("demo-image"),f=o?.get("demo-title"),g=o?.get("demo-description"),y=o?.get("demo-url"),b=p||m?.screenshot;b=function(e){try{if(!e)return;let t=e;return!function(e){if(!e||e.startsWith("//"))return!1;try{let t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch{return!1}}(t)&&(t.startsWith("//")&&(t=`https:${t}`),t.startsWith("http")||(t=`https://${t}`)),new URL(t).toString()}catch{console.error(`Invalid screenshot URL: ${e}`);return}}(b);let j=f||m?.name,w=g||m?.description,T=y||m?.website,P="cloning"===i&&(!o||!r);return u?(0,t.jsx)(a.Entity,{className:"rounded bg-gray-100",left:(0,t.jsx)(v,{placeholder:P,screenshotUrl:b,projectName:j}),padding:3,children:(0,t.jsxs)("div",{className:`flex w-full flex-col justify-between ${j||P?"h-[120px]":"h-[42px]"} `,children:[j?(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start flex-initial",children:[(0,t.jsx)(n.Link,{external:!0,href:T,children:(0,t.jsx)("p",{className:"text-[16px] leading-[24px] font-medium geist-ellipsis",children:j})}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900 line-clamp-2",children:w})]}):null,(0,t.jsxs)("div",{className:"flex flex-col gap-1 [contain:inline-size]",children:[(0,t.jsxs)("p",{className:"text-copy-13 text-gray-900",children:[(0,t.jsx)("span",{className:"capitalize",children:i})," from"," ",(e=>{switch(e){case"github":return"GitHub";case"github-limited":return"GitHub (Limited)";case"gitlab":return"GitLab";case"bitbucket":return"Bitbucket";case"github-custom-host":return"GitHub Enterprise";default:return(0,h.default)(e)}})(u.type)]}),(0,t.jsx)(x,{checkGitVerified:s,className:"flex-row"})]})]})}):(0,t.jsx)(l.Skeleton,{height:"cloning"===i?144:66,width:"100%"})}])},6532114,e=>{"use strict";e.s(["getRepoTree",0,function(e){return"github"===e?"tree":"gitlab"===e?"-/tree":"src"}])},1719521,e=>{"use strict";var t=e.i(7909933),r=e.i(8042625),i=e.i(277234),a=e.i(4244280),s=e.i(5338940);e.s(["default",0,function(e,l,n){let{isReady:o,team:c}=(0,s.useTeam)(n);return(0,t.default)(()=>e&&o?`${(0,a.API_PROJECTS_VERSION)("v4")}/${encodeURIComponent(e)}/integrations${(0,r.encode)({teamId:c?.id})}`:"",e=>(0,i.fetchAPI)(e,{throwOnHTTPError:!0}),l)}])},7102400,e=>{"use strict";var t=e.i(31889),r=e.i(8436238),i=e.i(6695816);e.s(["AnimateChangeInHeight",0,function(e){let{children:a,fixToBottom:s,disableAnimation:l,...n}=e,o=(0,i.useRef)(null),[c,u]=(0,i.useState)("auto");return(0,i.useEffect)(()=>{if(o.current){let e=new ResizeObserver(e=>{u(e[0].contentRect.height)});return e.observe(o.current),()=>{e.disconnect()}}},[]),(0,t.jsx)(r.motion.div,{animate:{height:c},style:{height:c,overflowY:"clip",position:"relative",display:s?"flex":"block",flexDirection:"column",justifyContent:"flex-end"},transition:{duration:.3*!l},children:(0,t.jsxs)("div",{ref:o,...n,children:[a,(0,t.jsx)("div",{className:"h-px flex-none"})]})})}])},9263987,e=>{e.v({bounce:"deploying-module__iZpPmG__bounce",buttonsContainer:"deploying-module__iZpPmG__buttonsContainer",chevron:"deploying-module__iZpPmG__chevron",commitMessage:"deploying-module__iZpPmG__commitMessage",commitMessageContainer:"deploying-module__iZpPmG__commitMessageContainer",error:"deploying-module__iZpPmG__error",header:"deploying-module__iZpPmG__header",logs:"deploying-module__iZpPmG__logs",logsError:"deploying-module__iZpPmG__logsError",logsText:"deploying-module__iZpPmG__logsText",logsTimestamp:"deploying-module__iZpPmG__logsTimestamp",panel:"deploying-module__iZpPmG__panel",pop:"deploying-module__iZpPmG__pop",root:"deploying-module__iZpPmG__root",slideDown:"deploying-module__iZpPmG__slideDown",slideUp:"deploying-module__iZpPmG__slideUp",step:"deploying-module__iZpPmG__step",warning:"deploying-module__iZpPmG__warning"})},2148480,e=>{"use strict";var t=e.i(31889),r=e.i(8195617),i=e.i(2111701),a=e.i(9722978),s=e.i(8248823),l=e.i(1991452),n=e.i(2504781),o=e.i(9318197),c=e.i(455575),u=e.i(57106),d=e.i(6695816),m=e.i(6352514),p=e.i(4759942),f=e.i(8042625),h=e.i(277234),g=e.i(4244280),x=e.i(5338940),y=e.i(5140444),b=e.i(3322724),j=e.i(4787991),v=e.i(6038905),w=e.i(2695633);e.i(5224197);var T=e.i(7442785),P=e.i(855127),S=e.i(6060673),C=e.i(5466001),_=e.i(2574789),E=e.i(9375869),R=e.i(9263987);e.s(["default",0,function(e){let N,{flow:k,deployment:I,mutateDeployment:A,dispatch:O,isVercelTutor:D,vercelTutorPrUrl:L,clonedFrom:$,flowId:G,microfrontendsGroupId:M}=e,U=(0,c.useToasts)(),F=(0,l.useRouter)(),{active:z}=(0,v.useCardContext)(),[H,q]=(0,d.useState)(!1),{expandedSteps:B,setExpandedSteps:V}=(0,P.useExpandedSteps)(I),{team:Z}=(0,x.useTeam)(),{user:W}=(0,y.useUser)(),Y=(0,d.useCallback)(async()=>{q(!0);try{let e=await (0,h.fetchAPI)(`${(0,g.API_DEPLOYMENTS)("v12")}/${I?.id}/cancel${(0,f.encode)({teamId:I?.team?.id})}`,{method:"PATCH",throwOnHTTPError:!0});"CANCELED"===e.readyState&&(U.success("Deployment canceled."),(0,i.mutate)(I?.id??""),"import"===k&&O&&O({type:"SET_DEPLOYING",deploying:!1}))}catch(e){U.error((0,s.errorToString)(e))}finally{q(!1)}},[I,U,O,k]),J=I&&["ERROR","CANCELED","READY"].includes(I.readyState)||!z;I?.meta?.githubDeployment?N=(0,w.getGithubMetaInfo)(I.meta):I?.meta?.gitlabDeployment?N=(0,w.getGitlabMetaInfo)(I.meta):I?.meta?.bitbucketDeployment&&(N=(0,w.getBitbucketMetaInfo)(I.meta));let{data:Q}=(0,S.useProject)(I?.projectId),X=(0,j.useNewProjectLink)(),{mutate:K}=(0,C.useRemainingEligibleProjects)(),ee=(0,_.useLogImportProgressEvent)();(0,d.useEffect)(()=>{F.prefetch(`${X}/success`)},[F,X]);let et=(0,d.useCallback)(()=>{p.analytics.track(m.AnalyticsEvent.PROJECT_CREATION_SUCCESS,{version:3,flow:k}),p.analytics.track(m.AnalyticsEvent.CREATE_PROJECT,{onboarding:"true"===F.query.onboarding});let e=F.query.remainingProjects,t=F.query.totalProjects;"string"==typeof e&&"string"==typeof t&&ee(Number.parseInt(e)-1,Number.parseInt(t),"import");let i=(0,r.stringify)({"auto-redirect":!0,"developer-id":F.query["developer-id"],"external-id":F.query["external-id"],"redirect-url":F.query["redirect-url"],branch:Q?.link?.productionBranch??"master",deploymentUrl:I?.url??"",projectName:Q?.name??"",s:F.query.s??N?.branchUrl,gitOrgLimit:F.query.gitOrgLimit,hasTrialAvailable:F.query.hasTrialAvailable,totalProjects:F.query.totalProjects,...D?{"vercel-tutor":!0}:{},...L?{"vercel-tutor-pr-url":L}:{},...$?{"cloned-from":$}:{},...G?{"flow-id":G}:{},..."1"===F.query.microfrontends?{microfrontends:"1"}:{},...M?{microfrontendsGroupId:M}:{}});K().then(()=>{F.push(`${X}/success?${i}`)})},[$,k,F,Q?.link?.productionBranch,Q?.name,I?.url,N?.branchUrl,K,ee,X,D,L,G,M]),er=!!N,ei=(0,b.useIsMobile)(),ea=I?.readyState==="ERROR",es=(0,d.useMemo)(()=>{let e=`/${Z?.slug??W?.username??""}`;return`${e}/${Q?.name??""}`},[Q?.name,Z,W?.username]),el=(0,E.useDeploymentLink)(I);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T.DeploySteps,{creationFlow:!0,deployment:I,expandedSteps:B,mutateDeployment:A,onComplete:et,onExpandedStepsChange:e=>V(e),teamSlug:Z?.slug,context:"new-project-flow"}),(0,t.jsx)(o.Spacer,{expand:!0}),(0,t.jsxs)("div",{className:(0,a.clsx)("flex flex-col items-stretch gap-4 flex-initial",ei?"flex-col":"flex-row",er&&!ei?"justify-between":"justify-center"),children:[N?(0,t.jsxs)("div",{className:(0,a.clsx)("flex flex-row items-center justify-start gap-2 flex-1",R.default.commitMessageContainer),children:[(0,t.jsx)(u.Link,{external:!0,href:N.commitUrl}),(0,t.jsxs)("span",{className:`text-copy-16 font-normal m-0 ${(0,a.clsx)(R.default.commitMessage)}`,style:{color:z?"var(--accents-5)":"var(--accents-3)"},title:N.commitMessage,children:[N.commitMessage.split("\n")[0]," - ",N.sha.slice(0,6)]})]}):(0,t.jsx)("div",{style:{height:21}}),ea||"import"===k?(0,t.jsxs)("div",{className:(0,a.clsx)("flex flex-col items-stretch justify-end gap-2 flex-initial @md-page:flex-row",R.default.buttonsContainer),children:[ea?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.ButtonLink,{href:es,size:"small",type:"secondary",children:"Go to Project"}),(0,t.jsx)(u.ButtonLink,{href:el,size:"small",children:"Inspect Deployment"})]}):null,ea||"import"!==k?null:(0,t.jsx)(n.Button,{disabled:J,loading:H||I?.readyState==="READY",onClick:()=>void Y(),size:"small",type:"secondary",children:I?.readyState==="READY"?"Completing Deployment…":"Cancel Deployment"})]}):null]})]})}])},8492314,e=>{"use strict";var t=e.i(6695816),r=e.i(6625227),i=e.i(100247),a=e.i(7783521),s=e.i(229875);e.s(["useNewDeploymentInterval",0,function(e){let[l,n]=(0,t.useState)(0),o=(0,r.default)(e,{refreshInterval:l},{automaticAliases:!0}),{data:c,mutate:u}=o,d=c?.readyState,m=c?.aliasAssigned||"ERROR"===d||"CANCELED"===d,p=(0,t.useMemo)(()=>(0,s.withThrottle)(e??"",()=>{u()}),[e,u]),{isListening:f}=(0,a.useDeploymentStatusPing)(m?void 0:c,p),{areChecksRunning:h,areDomainsAssigning:g}=(0,i.getDeploymentStatus)(c),x=(!c||m)&&!h&&!g||f,y=c?.readyState==="QUEUED";return(0,t.useEffect)(()=>{y?n(1e3):n(3e3*!x)},[x,y]),o}])},4963367,e=>{e.v({deployCard:"deploy-card-module__wIQjha__deployCard"})},9187364,e=>{"use strict";var t=e.i(31889),r=e.i(6695816),i=e.i(1991452),a=e.i(8735244),s=e.i(6232213),l=e.i(7218483),n=e.i(100247),o=e.i(2148480),c=e.i(6038905),u=e.i(8492314),d=e.i(4963367),m=e.i(4422059);e.s(["default",0,function(e){let{deploymentId:p,flow:f,resetDeploying:h,isVercelTutor:g,vercelTutorPrUrl:x,clonedFrom:y,flowId:b,microfrontendsGroupId:j,...v}=e,w=(0,i.useRouter)(),{data:T,mutate:P}=(0,u.useNewDeploymentInterval)(p);(0,r.useEffect)(()=>{if(p){let e=w.query.deploymentId,t=Array.from(new Set(Array.isArray(e)?e.concat([p]):[e??p,p]));w.replace({query:{...w.query,deploymentIds:t}},void 0,{shallow:!0})}},[p]);let{areChecksRunning:S,areDomainsAssigning:C}=(0,n.getDeploymentStatus)(T),_=(0,l.useAgo)(T?.createdAt,{justNowThreshold:0}),E=(0,r.useMemo)(()=>{if(!T)return"Preparing deployment…";switch(T.readyState){case"QUEUED":return(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(a.Spinner,{size:16}),"Deployment queued..."]});case"READY":if(S||C)return(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(a.Spinner,{size:16}),"Deployment started ",_,"..."]});return"Deployment completed.";case"ERROR":return"Deployment failed with error.";case"CANCELED":return"Deployment canceled.";default:return(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(a.Spinner,{size:16}),"Deployment started ",_,"..."]})}},[T,_,S,C]);return!function(e){let{callback:t,deployment:i}=e,a=(0,m.usePrevious)(i?.id),s=(0,m.usePrevious)(i?.readyState);(0,r.useEffect)(()=>{i?.id&&a&&s&&a===i.id&&s!==i.readyState&&("CANCELED"===i.readyState||"ERROR"===i.readyState)&&t(i.readyState)},[i?.readyState,t,i?.id,a,s])}({callback:(0,r.useCallback)(()=>{(0,s.postToStatsigClient)({events:[{eventName:`${f}_deploy_error`}]}),h?.()},[f,h]),deployment:T}),(0,t.jsx)(c.default,{className:d.default.deployCard,subtitle:E,title:"Deployment",...v,children:(0,t.jsx)(o.default,{deployment:T,flow:f,isVercelTutor:g,mutateDeployment:P,vercelTutorPrUrl:x,clonedFrom:y,flowId:b,microfrontendsGroupId:j})})}])},7374478,e=>{"use strict";var t=e.i(31889),r=e.i(9739627);e.s(["SlashDivider",0,function(){return(0,t.jsx)(r.Image,{alt:"Slash Divider",height:40,srcDark:"https://assets.vercel.com/image/upload/v1689795055/front/new/slash-divider-dark.svg",srcLight:"https://assets.vercel.com/image/upload/v1689795055/front/new/slash-divider-light.svg",width:40})}])},7691989,e=>{"use strict";var t=e.i(8042625),r=e.i(277234),i=e.i(4244280);e.s(["displayError",0,e=>e?.code==="tarball_not_found"?"Your codebase could not be retrieved. Please check that your repository is not empty.":e?.keyword==="additionalProperties"?"Additional property `"+e.params?.additionalProperty+"` is not allowed. Please check the `vercel.json` or `now.json` file in your repository.":e?.message||e?.toString?.(),"getProject",0,e=>{let{id:a,teamId:s}=e;return(0,r.fetchAPI)(`${i.API_PROJECTS}/${a}${(0,t.encode)({teamId:s})}`,{throwOnHTTPError:!0})},"getProjectInfo",0,e=>{let{name:a,teamId:s}=e;return(0,r.fetchAPI)(`${i.API_PROJECTS}/${encodeURIComponent(a||"")}${(0,t.encode)({teamId:s,deploymentInfo:0})}`,{throwOnHTTPError:!0})}])},5394280,e=>{"use strict";var t=e.i(8042625),r=e.i(277234),i=e.i(4244280);async function a(e){let{type:a,source:s,target:l,teamId:n,branch:o}=e;return(0,r.fetchAPI)(`${i.API_INTEGRATION_CONTROLLER}/push-to-repo${(0,t.encode)({teamId:n})}`,{method:"POST",body:JSON.stringify({type:a,source:s,repo:l,branch:o}),throwOnHTTPError:!0,wrapErrorsLegacy:!0})}e.s(["pushRepo",0,a])},1801538,e=>{"use strict";e.s(["shallow",0,function(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}let r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(let i of r)if(!Object.prototype.hasOwnProperty.call(t,i)||!Object.is(e[i],t[i]))return!1;return!0}])},5680277,e=>{"use strict";var t=e.i(8914449),r=e.i(6695816),i=e.i(1801538);let a={loading:!1,gitType:void 0,repoNameStates:{},isPrivate:!0,gitError:null,isTeamRepo:!1},s=(0,t.create)(e=>({...a,setLoading:t=>e(e=>({...e,loading:t})),setGitType:t=>e(e=>({...e,gitType:t})),setRepoNameStates:t=>{e(e=>{let r=t(e.repoNameStates);return{...e,repoNameStates:r}})},setIsPrivate:t=>e(e=>({...e,isPrivate:t})),setGitError:t=>e(e=>({...e,gitError:t})),reset:()=>e(a),setIsTeamRepo:t=>e({isTeamRepo:t})}));e.s(["useGitInputStore",0,s,"useNewNamespace",0,()=>{let e=s((0,r.useCallback)(e=>e.gitType,[]),i.shallow),t=s((0,r.useCallback)(e=>e.repoNameStates,[]),i.shallow)[e||""];return Array.isArray(t)?t[0]:null},"useNewRepo",0,()=>{let e=s((0,r.useCallback)(e=>e.gitType,[]),i.shallow),t=s((0,r.useCallback)(e=>e.repoNameStates,[]),i.shallow)[e||""];return Array.isArray(t)?t[1]:null}])},5432439,e=>{"use strict";var t=e.i(9385057),r=e.i(6695816),i=e.i(1801538),a=e.i(8248823),s=e.i(134877),l=e.i(7691989),n=e.i(5680277);e.s(["useGetProjectName",0,function(){let{setLoading:e,setGitError:o}=(0,n.useGitInputStore)((0,r.useCallback)(e=>({setLoading:e.setLoading,setGitError:e.setGitError}),[]),i.shallow),c=(0,n.useNewRepo)();return async(r,i)=>{if(!c&&!i)return;let n=(0,t.customAlphabet)("123456789abcdefghijklmnopqrstuvwxyz",4),u=c?c.slice(0,95):"",d=i??u;try{await (0,l.getProject)({id:d,teamId:r}),d=`${d}-${n()}`}catch(t){if((0,s.isAPIError)(t)&&"not_found"!==t.code){e(!1),o((0,a.normalizeError)(t));return}}return d}}])},6475061,8334396,e=>{"use strict";var t=e.i(31889),r=e.i(6695816),i=e.i(7553931),a=e.i(5338940),s=e.i(5140444);function l(e){let[t,i]=(0,r.useState)(!1),a=(0,r.useRef)(!1),s=(0,r.useRef)(e),l=(0,r.useCallback)(r=>{i(r),a.current=t,s.current=e},[e,t]);return(0,r.useMemo)(()=>({data:t?s.current:e,frozen:t,setFrozen:l}),[e,t,l])}var n=e.i(5255926);function o(){return(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-3",children:[(0,t.jsx)(n.Skeleton,{className:"flex-1",height:"68px"}),(0,t.jsx)(n.Skeleton,{className:"flex-1",height:"68px"})]}),(0,t.jsx)(n.Skeleton,{height:"24px",width:"auto"}),(0,t.jsx)(n.Skeleton,{height:"40px",width:"auto"})]})}var c=e.i(6079422),u=e.i(6489459),d=e.i(455575),m=e.i(1991452),p=e.i(5523169);e.i(7197081);var f=e.i(626404),h=e.i(6352514),g=e.i(4759942),x=e.i(8631221),y=e.i(3196486),b=e.i(1628687);let j=e=>{g.analytics.track(h.AnalyticsEvent.NEW_FLOW_CONVERTED,e),(0,y.sendToSnowflake)(x.Topic.VercelAppV0NewFlowConverted,{conversion_type:(0,b.snowflakeify)(e.conversionType),source:e.source,actor_id:e.actorId,team_id:e.teamId,team_created_at:(0,b.floor)(e.teamCreatedAt),prior_plan:(0,b.snowflakeify)(e.priorPlan),new_plan:(0,b.snowflakeify)(e.newPlan),cart_total:(0,b.floor)(e.cartTotal)},"vercel-app")};var v=e.i(9588822),w=e.i(7846892),T=e.i(8378310),P=e.i(2401140),S=e.i(4736806),C=e.i(1450448),_=e.i(5786585);let E=(0,v.withStripe)(function(e){let{user:i,active:a,source:s,teamManager:l,close:n,continueAction:o,isProTrialAndRequirePayment:c}=e,{team:u,members:d,cartTotal:m,setCartTotal:p,isSubmitting:f,setIsSubmitting:h,scrollToRef:g,paymentMethodInfo:x,showSkeleton:y,onBillingFormReady:b,submit:j,makeDefaultBillingAddress:v,elements:E,billingFormProps:R,addressError:N,setAddressError:k}=(0,C.usePaymentInfoStep)({teamManager:l}),[I,A]=(0,r.useState)(),[O,D]=(0,r.useState)({}),[L,$]=(0,r.useState)(),G=(0,_.usePaymentInfoContinue)({type:"new-flow",team:u,setIsSubmitting:h,submit:j,makeDefaultBillingAddress:v,elements:E,setAddressError:k,cartTotal:m,continueAction:o,paymentMethodInfo:x,taxId:L,teamManager:l,unparsedAddress:O,setSubmissionError:A});return(0,t.jsx)(w.SheetWrapper,{open:a,onClose:n,teamManager:l,children:(0,t.jsx)(P.SheetStepWrapper,{hideFooter:y,title:(0,t.jsx)(T.DefaultTitle,{teamManager:l,isProTrial:c}),defaultCancelText:"Cancel",defaultContinueText:o.text,cancelButton:{text:"Cancel",onClick:n,disabled:f},continueButton:{text:o.text,onClick:()=>void G(),disabled:"loading"===x.type},loading:f,onCancel:n,onContinue:()=>void G(),children:(0,t.jsx)(S.PaymentInfoShared,{user:i,team:u,teamManager:l,setCartTotal:p,members:d,source:s,showSkeleton:y,paymentMethodInfo:x,makeDefaultBillingAddress:v,onBillingFormReady:b,billingFormProps:R,isSubmitting:f,addressError:N,scrollToRef:g,type:"new-flow",setUnparsedAddress:D,setTaxId:$,submissionError:I,continueButtonText:o.text,isProTrialAndRequirePayment:c})})})});var R=e.i(2504781),N=e.i(8248823),k=e.i(134877),I=e.i(4976875),A=e.i(3238154),O=e.i(8668551);function D(e){let{teamManager:i,planSelector:a,continueAction:s,frozen:l}=e,{validationError:n,setValidationError:o,validate:c,onBlur:u}=(0,I.useTeamNameInput)({teamManager:i}),[d,m]=(0,r.useState)(),[p,f]=(0,r.useState)(!1),h=(0,r.useCallback)(async()=>{m(void 0),f(!0);try{let e=c();if(e)return void o(e);await s.onContinue()}catch(i){let e=(0,N.normalizeError)(i),{link:t,action:r}=(0,k.getErrorLink)(e);m({message:e.message,...t?{link:t}:{},...r?{action:r}:{}})}finally{f(!1)}},[s,c,o]);return(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsx)(A.TeamNameInput,{validationError:n,onBlur:u,teamManager:i,isNewProjectFlow:!0,frozen:l}),(0,t.jsx)(O.SelectorSection,{planSelector:a,errorMessage:d?.message,errorLink:d?.link,errorAction:d?.action,className:"flex flex-col gap-3",frozen:l}),(0,t.jsx)(R.Button,{loading:p||l,onClick:()=>void h(),typeName:"button",children:s.text})]})}function L(e){let{user:r,continueAction:i,teamManager:a,stepState:s,planSelector:l,source:n,frozen:o,isProTrialAndRequirePayment:c}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(D,{continueAction:i,frozen:o,planSelector:l,teamManager:a}),(0,t.jsx)(E,{user:r,active:"payment-info"===s.step,close:()=>{s.gotoStep("select-team-and-plan")},continueAction:i,source:n,teamManager:a,isProTrialAndRequirePayment:c})]})}var $=e.i(2762499),G=e.i(1347988),M=e.i(4597921),U=e.i(4429918),F=e.i(8851095),z=e.i(1108230),H=e.i(3889303);function q(e){return(0,t.jsx)(F.SafeSuspense,{error:(0,t.jsx)(V,{...e,proTrialRequirePaymentFlagVal:null,proTrialRequirePaymentFlagRule:null}),loading:null,children:(0,t.jsx)(B,{...e})})}function B(e){let{value:r,rule:i}=(0,M.useServerFlag)("card-required-trial",(0,U.statsigOption)(null));return(0,t.jsx)(V,{...e,proTrialRequirePaymentFlagRule:i,proTrialRequirePaymentFlagVal:r})}function V(e){let{user:a,teamManager:s,planSelector:l,source:n,onConversionError:o,onConversionSuccess:c,onConversionStart:u,mutate:h,frozen:g,setFrozen:x,proTrialRequirePaymentFlagVal:y,proTrialRequirePaymentFlagRule:b}=e,v=(0,f.useSteps)({steps:["select-team-and-plan","payment-info"],workflowName:"new-flow-upgrade"}),w=(0,m.useRouter)(),T=(0,i.useSearchParams)(),P=(0,i.usePathname)(),S=(0,r.useRef)(null),C=!!(y&&"pro-trial"===l.selectedPlan),_=(0,$.useCreateTeam)({teamManager:s,onConversionStart:u,planSelector:l,mutate:h,onConversionError:o,router:w,customCreateTeamApiSource:"new-flow-upgrade",customPostCreationFlow:e=>{let{team:t,cartTotal:r,selectedPlan:i}=e;S.current=t,j({conversionType:"create",source:n,actorId:a.uid,teamId:t.id,teamCreatedAt:t.createdAt,priorPlan:"hobby",newPlan:i,cartTotal:r});let s=new URLSearchParams(T?.toString());s.set("teamSlug",t.slug),w.replace(`${P}?${s.toString()}`,void 0,{scroll:!1}),d.toasts.success({text:"Your team has been created."})}}),E=(0,G.useUpgradeTeam)({teamManager:s,onConversionStart:u,planSelector:l,mutate:h,onConversionError:o,router:w,source:n,customPostUpgradeFlow:e=>{let{team:t,selectedPlan:r,cartTotal:i}=e;j({conversionType:"upgrade-existing",source:n,actorId:a.uid,teamId:t.id,teamCreatedAt:t.createdAt,priorPlan:"hobby",newPlan:r,cartTotal:i})},awaitMutate:!0}),R="pro"===l.selectedPlan||C,N=(0,r.useMemo)(()=>"pro-trial"===l.selectedPlan?"Start Pro Trial and Deploy":"select-team-and-plan"===v.step&&R?"Continue":"create"===s.userIntent?"Create Team and Deploy":"Upgrade and Deploy",[R,v.step,s.userIntent,l.selectedPlan]),k=(0,r.useCallback)(async e=>{if("pro-trial"===l.selectedPlan&&(0,H.proTrialRequirePaymentExposure)({proTrialRequirePaymentFlagVal:y,proTrialRequirePaymentFlagRule:b,metadata:{userIntent:s.userIntent,step:v.step,source:n,type:"new-flow",proTrialRequirePaymentFlagVal:y?.toString()||"null"}}),"select-team-and-plan"===v.step&&R)return void v.gotoStep("payment-info");x(!0),await u();try{"create"===s.userIntent?await _(e):await E(e?{upgradeTimingOption:"now",...e}:{upgradeTimingOption:"now",cartTotal:0}),await c(S.current??void 0),(0,z.trackConversionOnStatsig)({priorPlan:"hobby",newPlan:l.selectedPlan,type:s.userIntent,source:n})}catch(e){throw x(!1),await o().catch(p.default),e}},[_,R,o,u,c,x,v.gotoStep,v.step,s.userIntent,E,n,l.selectedPlan,y,b]),I=(0,r.useMemo)(()=>({onContinue:k,text:N}),[N,k]);return(0,t.jsx)(L,{user:a,continueAction:I,frozen:g,planSelector:l,source:n,stepState:v,teamManager:s,isProTrialAndRequirePayment:C})}function Z(e){let{user:r,team:i,disallowHobby:a,source:s,onConversionError:n,onConversionSuccess:d,onConversionStart:m,mutate:p,frozen:f,setFrozen:h}=e,{data:g,frozen:x,setFrozen:y}=l((0,u.useTeamManagerFromTeam)({team:i})),{data:b,frozen:j,setFrozen:v}=l((0,c.usePlanSelector)({teamManager:g,disallowHobby:a}));return b.loading?(0,t.jsx)(o,{}):(0,t.jsx)(q,{frozen:f||x||j,mutate:p,onConversionError:n,onConversionStart:m,onConversionSuccess:d,planSelector:b.data,setFrozen:e=>{h(e),y(e),v(e)},source:s,teamManager:g,user:r})}let W=()=>Promise.resolve();function Y(e){let{selectedTeamSlug:r,disallowHobby:i,source:n,onConversionError:c=W,onConversionSuccess:u=W,onConversionStart:d=W}=e,{user:m,isLoading:p,mutate:f}=(0,s.useUser)(),{team:h,isLoading:g,mutate:x}=(0,a.useTeam)(r),{data:y,frozen:b,setFrozen:j}=l(h),v=async()=>{await Promise.all([f(),x()])};return p||g?(0,t.jsx)(o,{}):!m||y&&y.billing?.plan!=="hobby"?null:(0,t.jsx)(Z,{disallowHobby:i,frozen:b,mutate:v,onConversionError:c,onConversionStart:d,onConversionSuccess:u,setFrozen:j,source:n,team:y??void 0,user:m})}let J=e=>{switch(e){case"github":return"GitHub organization";case"gitlab":return"GitLab group";case"bitbucket":return"Bitbucket workspace";default:return"organization"}};e.s(["getGitProviderNameAndOrg",0,J],8334396),e.s(["UpgradeCTA",0,function(e){let{disallowHobby:a,selectedTeamSlug:s,onSubmit:l,setFreezeUpgradeUI:n}=e,o=(0,i.usePathname)(),c=(0,r.useMemo)(()=>o?o.includes("import")?"import":o.includes("clone")?"new-clone":o.replace(/\/|\s/g,"-"):"unknown",[o]),u=(0,r.useMemo)(()=>{if(""!==s)return s??void 0},[s]);return(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-1 flex-initial",children:(0,t.jsx)(Y,{disallowHobby:a,onConversionError:()=>Promise.resolve(n(!1)),onConversionStart:()=>Promise.resolve(n(!0)),onConversionSuccess:l,selectedTeamSlug:u,source:c})})},"useUpgradeCTA",0,e=>{let{isCreatingTeam:i,isTeamRepo:s,isPrivate:l,gitType:n,selectedTeamSlug:o}=e,{teams:c,team:u,isReady:d}=(0,a.useTeam)(o),m=l&&s,p=u?.billing&&"hobby"!==u.billing.plan,f=d&&c?.length===0,h=m&&!p&&!!u?.billing||i||f,[g,x]=(0,r.useState)(!1),y=h||g;return{upgradeMessage:y?(0,t.jsxs)(t.Fragment,{children:["Deploying from a ",l?"private ":"",J(n)," requires a Vercel Pro plan. Switch to an existing Pro team or"," ",i?"create a new one":(0,t.jsxs)(t.Fragment,{children:["upgrade"," ",(0,t.jsx)("span",{className:"text-[14px] leading-[20px] font-medium text-inherit",children:u?.name})]})," ","to continue."]}):null,showUpgradeCTA:y,setFreezeUpgradeUI:x,disallowHobby:m}}],6475061)},6913536,e=>{"use strict";var t=e.i(6532114);e.s(["default",0,function(e,r,i){if(null===e)return"";let a=(0,t.getRepoTree)(e.type);return`${e.url}${i?`${e.subdir?"":`/${a}/${e.branch||r||"main"}`}/${i}`:""}`}])},8276950,e=>{e.v({comboboxLabel:"team-selector-module__POX1Da__comboboxLabel",input:"team-selector-module__POX1Da__input",tooltip:"team-selector-module__POX1Da__tooltip"})},4909757,e=>{"use strict";var t=e.i(31889),r=e.i(6695816),i=e.i(6881349),a=e.i(5468328),s=e.i(4585051),l=e.i(5255926),n=e.i(5756088),o=e.i(5883567),c=e.i(5338940),u=e.i(8977282),d=e.i(7553931),m=e.i(5140444),p=e.i(6228447),f=e.i(4600551),h=e.i(1717203),g=e.i(7557283),x=e.i(4004502),y=e.i(2661670),b=e.i(8276950);let j="create-team-sentinel";function v(e){let{gitProvider:l,gitNamespaceId:o,gitNamespaceSlug:c,team:u,setShowMissingPermissions:d,disabled:m}=e,x=u.permissions?(0,h.buildCan)(new Map(Object.entries(u.permissions))):()=>!0,{data:j}=(0,y.useVerifyGitExclusivity)({gitProvider:l,gitNamespaceId:o,gitNamespaceSlug:c}),v=x(g.Action.Create,g.Resource.Project),w=(0,p.getTeamLimitedBy)(u),T=1===w.length&&w.includes("mfa"),P=j&&!j.hasAccess||!v||T;(0,r.useEffect)(()=>{P&&d(!0)},[P,d]);let S=(0,r.useMemo)(()=>v?u.limited?T?"You must enable 2FA on your account to create project in this team.":"Re-authentication required.":j&&!j.hasAccess?(0,t.jsxs)(t.Fragment,{children:["This team does not have permission to deploy from"," ",(0,t.jsx)("span",{style:{fontWeight:600},children:c})," as it is a Protected Git Scope."]}):void 0:"You do not have permission to create a project in this team.",[v,j,c,u,T]);return(0,t.jsx)(a.Tooltip,{className:b.default.tooltip,position:"right",style:{display:"inherit"},text:S,children:(0,t.jsx)(i.Combobox.Option,{disabled:P,displayLast:P,label:u.name,prefix:(0,t.jsx)(s.Avatar,{size:16,teamId:u.id}),suffix:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(f.PlanBadge,{disabled:m,team:u}),S?(0,t.jsx)(a.Tooltip,{text:S,children:(0,t.jsx)(n.LockClosed,{size:16})}):null]}),value:u.slug,children:u.name})})}e.s(["TeamSelector",0,function(e){let{gitProvider:a,gitNamespaceId:s,gitNamespaceSlug:n,disabled:u,onChange:d,value:m,loading:p}=e,f=(0,c.useSortedTeams)(),[h,g]=(0,r.useState)(!1);return(0,t.jsx)(l.Skeleton,{show:p,style:p?{overflow:"hidden"}:void 0,children:(0,t.jsxs)(i.Combobox,{clearable:!1,"data-testid":(0,x.tid)("import-flow","team-selector","combobox-root"),disabled:u,displaySelectedSuffix:!0,noRawSelectedValue:!0,onChange:d,placeholder:"Select a Vercel Team",value:m,children:[(0,t.jsx)(i.Combobox.Input,{className:b.default.input,"data-testid":(0,x.tid)("import-flow","team-selector","combobox-value")}),(0,t.jsx)(i.Combobox.List,{children:(0,t.jsxs)(t.Fragment,{children:[f.map(e=>(0,t.jsx)(v,{disabled:u,gitNamespaceId:s,gitNamespaceSlug:n,gitProvider:a,setShowMissingPermissions:g,team:e},e.slug)),(0,t.jsx)(i.Combobox.Option,{prefix:(0,t.jsx)(o.PlusCircle,{color:"gray-900",size:16}),value:j,children:"Create a Team"}),h?(0,t.jsx)(i.Combobox.Option,{className:b.default.comboboxLabel,disabled:!0,value:"missing-permissions",children:(0,t.jsx)("p",{className:"text-copy-13",children:"Missing Permissions"})}):null]})})]})})},"useSelectedTeamSlug",0,e=>{let{gitProvider:i,gitNamespaceId:a,gitNamespaceSlug:s}=e,{teams:l,team:n,isReady:o}=(0,c.useTeam)(),{user:f}=(0,m.useUser)(),x=(0,d.useRouter)(),b=(0,d.useSearchParams)(),v=(0,d.usePathname)(),[w,T]=(0,r.useState)(null),{can:P}=(0,h.default)(),{data:S}=(0,y.useVerifyGitExclusivity)({gitProvider:i,gitNamespaceId:a,gitNamespaceSlug:s}),C=P(g.Action.Create,g.Resource.Project);(0,r.useEffect)(()=>{if(null===w&&o&&b&&f?.defaultTeamId&&l){let e=(0,u.getScope)(),t=l.find(e=>e.id===f.defaultTeamId)?.slug,r=n?.slug??e??t;T(r??j);let i=b.get("teamSlug");if(i&&i!==r){let e=new URLSearchParams(b.toString());r?e.set("teamSlug",r):e.delete("teamSlug"),x.replace(`${v}?${e.toString()}`,{scroll:!1})}}},[l,w,b,v,x,f,n,o,T]),(0,r.useEffect)(()=>{let e=b?.get("teamSlug");if(w&&e!==w){let e=new URLSearchParams(b?.toString());w===j?e.delete("teamSlug"):(e.set("teamSlug",w),(0,u.setScope)(w)),x.replace(`${v}?${e.toString()}`,{scroll:!1})}},[w]);let _=(0,r.useCallback)(e=>{let t=l?.find(t=>t.slug===e);if(t?.limited){let e=new URLSearchParams(b?.toString());return e.set("teamSlug",t.slug),(0,p.requireAuthentication)({slug:t.slug,next:`${v}?${e.toString()}`,push:e=>{x.push(e)}})}T(e)},[T,l,b,v,x]),E=(0,r.useMemo)(()=>{if(w&&w===n?.slug){if(!C)return(0,t.jsxs)(t.Fragment,{children:["You do not have the required permission to create a project in"," ",(0,t.jsx)("span",{className:"text-[14px] leading-[20px] font-medium text-inherit",children:n.name}),". Select a different Vercel team to continue."]});if(S&&!S.hasAccess)return(0,t.jsxs)(t.Fragment,{children:["This team does not have permission to deploy from"," ",(0,t.jsx)("span",{style:{fontWeight:600},children:s})," as it is a Protected Git Scope. Select a different Vercel team, or change the Git scope to continue."]})}},[C,S,s,w,n?.slug,n?.name]);return{isSelectedTeamSlugReady:"string"==typeof w,isCreatingTeam:w===j,selectedTeamSlug:w,onTeamSlugChange:_,selectedTeamError:E}}])},2138061,e=>{"use strict";let t=/^(?!.*---)[a-z0-9-_.]+$/;function r(e){return t.test(e)&&e.length>0&&e.length<=100}e.s(["PROJECT_NAME_ERROR_MESSAGE",0,"A Project name can only contain up to 100 lowercase letters, digits, and the characters '.', '_', and '-'.","isValidProjectName",0,r,"sanitizeProjectName",0,function e(t){return r(t)?t:e(t.slice(0,100).toLowerCase().replace(/[^a-z0-9-_.]|---/g,"-"))}])},3495961,1315623,6979900,e=>{"use strict";var t=e.i(1991452),r=e.i(5140444);e.s(["useShouldRedirectToNew",0,function(){let e=(0,t.useRouter)(),{data:i,isLoading:a}=(0,r.useUser)();a||i||e.replace("/new")}],3495961);var i=e.i(31889),a=e.i(9739627),s=e.i(6038905);e.s(["DeploymentPlaceholderCard",0,function(){return(0,i.jsx)(s.default,{active:!1,className:"relative overflow-hidden border-0 border-y border-solid border-gray-400 @md-page:border-0",subtitle:"Once you're ready, start deploying to see the progress here…",title:"Deployment",children:(0,i.jsx)(a.Image,{alt:"Globe",className:"relative -bottom-2 -m-8 mt-4 w-[calc(100%+64px)] max-w-none",height:256,priority:!0,srcDark:"https://assets.vercel.com/image/upload/v1689795055/front/new/globe-outline-dark-2.svg",srcLight:"https://assets.vercel.com/image/upload/v1689795055/front/new/globe-outline-light.svg",width:688})})}],1315623);var l=e.i(57106);e.s(["ImportFooter",0,function(){return(0,i.jsxs)("div",{className:"mt-4 flex flex-col items-center gap-y-4 px-2",children:[(0,i.jsx)(l.Link,{href:"/new",type:"secondary",children:"Import a different Git Repository →"}),(0,i.jsx)(l.Link,{href:"/new/templates",type:"secondary",children:"Browse Templates →"})]})}],6979900)},2251791,e=>{"use strict";var t=e.i(7780974),r=e.i(7837522),i=e.i(7562527),a=e.i(6695816),s=e.i(9871375),l=e.i(1177040),n=e.i(9385057),o=e.i(7553931);function c(e){let t=(0,a.useRef)((0,n.nanoid)());return(0,a.useEffect)(()=>{(0,a.startTransition)(()=>{e({type:"SET_FLOW_ID_ONCE",flowId:t.current})})},[e]),t.current}function u(){let e=(0,o.useSearchParams)(),t=(0,i.useRepoQuery)(),r=t?.template===i.VERCEL_TUTOR_TEMPLATE_NAME,s=(0,a.useMemo)(()=>t?`${t.owner}/${t.name}${t.subdir?`/${t.subdir}`:""}`:void 0,[t]),l=e?.get("from")==="templates";return{isVercelTutor:r,clonedFrom:s,templateSlug:e?.get("repository-name")??void 0,isTemplate:l}}e.s(["useCloneTrackBaseParams",0,u,"useCloneTrackStatusChanges",0,function(){let{track:e}=(0,r.useTrackActivity)(),i=u(),{status:l,cloneRepoStatus:n,dispatch:o}=(0,s.useProjectCloneContext)(),d=(0,a.useRef)(null),m=(0,a.useRef)(n),p=c(o);(0,a.useEffect)(()=>{d.current!==l&&(d.current=l,e(t.VercelActivityAction.NewProjectCloneStatusChanged,{...i,flowId:p,status:l})),m.current!==n&&(m.current=n,e(t.VercelActivityAction.NewProjectCloneRepoStatusChanged,{...i,flowId:p,status:n}))},[p,n,i,l,e])},"useImportTrackStatusChanges",0,function(){let{track:e}=(0,r.useTrackActivity)(),{deploying:i,dispatch:s}=(0,l.useProjectImportContext)(),n=(0,a.useRef)(null),o=c(s);(0,a.useEffect)(()=>{n.current!==i&&null!==i&&(n.current=i,e(t.VercelActivityAction.NewProjectImportDeployingChanged,{deploying:i,flowId:o}))},[i,e,o])}])}]);

//# debugId=50f0d051-8932-7b5b-3824-40b7813b2108
//# sourceMappingURL=dd734e2c0bda7cc9.js.map