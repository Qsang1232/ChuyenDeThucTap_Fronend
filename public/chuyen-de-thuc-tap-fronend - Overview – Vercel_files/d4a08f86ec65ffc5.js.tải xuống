;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="5ff4b3e6-4173-a57f-d344-fa9c61a1d483")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2483928,6663213,9621575,7045711,431597,4272280,6345985,9120086,2660880,e=>{"use strict";var t=e.i(31889),a=e.i(6695816),r=e.i(57106),i=e.i(7553931),n=e.i(8794163);e.i(8703064);var o=e.i(648779),l=e.i(4877814),s=e.i(6838069),c=e.i(4004502),d=e.i(3306538),u=e.i(2504781),g=e.i(5255926),p=e.i(5468328),h=e.i(7807822),x=e.i(6835270),m=e.i(397094),b=e.i(3758860),f=e.i(9243747);e.i(6887680);var y=e.i(6810699),j=e.i(9668517);function v(e){let{integration:t,marketplaceConfigurations:a}=e,r=(0,j.useTeamSlug)(),i=(0,f.getIntegrationOps)({integration:t}).isSingleProductLayout(),{data:n}=(0,y.useResourceList)({integrationIdOrSlug:t.slug,integrationConfigurationId:a?.[0]?.id,skip:!i||!r});if(!r)return{isLoading:!1,canInstallIntegration:!0};let o=!n&&i;if(!a)return{isLoading:!0};let l=a.at(0);return l?l.deleteRequestedAt?{isLoading:o,canInstallIntegration:!1}:i?n?{isLoading:o,canInstallIntegration:0===n.stores.length}:{isLoading:!0}:{isLoading:!1,canInstallIntegration:!0}:{isLoading:o,canInstallIntegration:!0}}e.s(["useCanInstallIntegration",0,v],6663213);var C=e.i(2521731),w=e.i(8525850);let k=["tag_code_review","tag_code_security","tag_code_testing","tag_security","tag_testing","tag_web_automation","tag_support_agent","tag_optimization","tag_performance","tag_monitoring","tag_dev_tools"];function N(e,t,a,r){if(!e||!t||!a)return{title:"Other",isAgentCategory:!1};let i=e.tagIds||[];if(i.includes("tag_databases")){let t=e.tagIds?.includes("tag_agents")??!1;return"database"===r?{title:"Database",isAgentCategory:t}:{title:"Storage",isAgentCategory:t}}let n=a.find(e=>("tag_database"===e.id||"tag_storage"===e.id)&&i.includes(e.id));if(n){let t=e.tagIds?.includes("tag_agents")??!1;return{title:n.title,isAgentCategory:t}}if(e.tagIds?.includes("tag_agents")){for(let e of k){let t=a.find(t=>t.id===e&&i.includes(t.id));if(t)return{title:t.title,isAgentCategory:!0}}let e=a.find(e=>i.includes(e.id)&&"tag_agents"!==e.id&&!e.id.startsWith("tag_agents_"));if(e)return{title:e.title,isAgentCategory:!0};let t=a.find(e=>"tag_agents"===e.id);return{title:t?.title||"Agents",isAgentCategory:!0}}return{title:(0,w.getProductCategoryDisplayTitle)(e.slug,a,e.tagIds||[]),isAgentCategory:!1}}var L=e.i(1017032),S=e.i(7594446),I=e.i(3584802),M=e.i(6280036),P=e.i(4597921),_=e.i(7047540),F=e.i(4725703);function A(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[r,i]=(0,a.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.default,{id:"78d34819a030602e",children:"@keyframes drill-bob{0%{transform:translateY(.5px)}to{transform:translateY(-.5px)}}.striped-background.jsx-78d34819a030602e{background:repeating-linear-gradient(-45deg,#ffedcc,#ffedcc 10px,#fff 10px 20px)}.powertool-expanded.jsx-78d34819a030602e{transform:translate(-50%)}.powertool-minimized.jsx-78d34819a030602e{transform:translate(calc(50vw - 100%))}"}),(0,t.jsx)("div",{className:`jsx-78d34819a030602e fixed bottom-4 left-1/2 w-90 z-50 transition-all duration-300 ease-out ${r?"powertool-minimized":"powertool-expanded"}`,children:(0,t.jsxs)("div",{className:`jsx-78d34819a030602e relative ${r?"mr-4":"border border-amber-800 rounded py-3 pl-2 pr-5 striped-background shadow-lg"}`,children:[(0,t.jsx)("button",{type:"button",onClick:()=>i(!0),"aria-label":"Minimize powertool warning",className:`jsx-78d34819a030602e absolute -top-2 -right-2 w-6 h-6 bg-amber-800 cursor-pointer rounded-full flex items-center justify-center transition-opacity duration-300 ease-out ${r?"opacity-0":"opacity-100"}`,children:(0,t.jsx)(F.FullscreenClose,{className:"w-3 h-3",color:"gray-100"})}),(0,t.jsxs)("div",{className:"jsx-78d34819a030602e "+((r?"":"flex items-center gap-5")||""),children:[(0,t.jsxs)("div",{onClick:()=>r&&i(!1),className:"jsx-78d34819a030602e [filter:drop-shadow(0px_1px_0px_rgba(255,255,255,1))_drop-shadow(0px_-1px_0px_rgba(255,255,255,1))_drop-shadow(1px_0px_0px_rgba(255,255,255,1))_drop-shadow(-1px_0px_0px_rgba(255,255,255,1))] flex flex-row gap-0 items-start justify-start rotate-[10deg] cursor-pointer",children:[(0,t.jsx)("img",{src:"https://py8fhxnkzwtsqdo9.public.blob.vercel-storage.com/powertool/PowertoolDrill.svg",alt:"powertool drill",style:{animation:"drill-bob 0.1s ease-in-out infinite alternate",animationTimingFunction:"cubic-bezier(0.4, 0, 0.6, 1)"},className:"jsx-78d34819a030602e w-[21px] h-[24px]"}),(0,t.jsx)("img",{src:"https://py8fhxnkzwtsqdo9.public.blob.vercel-storage.com/powertool/PowertoolHandle.svg",alt:"powertool handle",className:"jsx-78d34819a030602e w-[35px] h-[59px]"})]}),!r&&(0,t.jsxs)("div",{className:"jsx-78d34819a030602e opacity-100 transition-opacity duration-300 ease-out",children:[(0,t.jsx)("div",{className:"jsx-78d34819a030602e text-heading-24 dark:text-gray-100",children:"Powertool active."}),(0,t.jsx)("div",{className:"jsx-78d34819a030602e text-label-13 dark:text-gray-100 font-semibold",children:"Changes are global. Toggle with enablePowertool flag."}),e.integration&&(0,t.jsx)("div",{className:"jsx-78d34819a030602e mt-1 text-label-12 dark:text-gray-100 opacity-90",children:e.integration.name&&(0,t.jsxs)("span",{className:"jsx-78d34819a030602e",children:["Current: ",e.integration.name," (",e.integration.installs," installs)"]})})]})]})]})})]})}e.s(["PowertoolWarning",0,A],9621575);var B=e.i(4879499),E=e.i(6929776),O=e.i(189816),R=e.i(8139291),z=e.i(6891161),T=e.i(3500331),D=e.i(6881349),$=e.i(4460254);let q={Blue:"#0070F3",Red:"#E5484D",Amber:"#FFB224",Green:"#46A758",Teal:"#12A594",Purple:"#8E4EC6",Pink:"#E93D82"};function U(e){let{value:a,onChange:r,label:i}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",style:{marginBottom:"4px"},children:i}),(0,t.jsxs)(D.Combobox,{value:a,onChange:e=>{e&&r(e)},placeholder:"Select color","aria-label":"Select an accent color",children:[(0,t.jsx)(D.Combobox.Input,{}),(0,t.jsx)(D.Combobox.List,{children:Object.entries(q).map(e=>{let[a,r]=e;return(0,t.jsx)(D.Combobox.Option,{value:r,prefix:(0,t.jsx)("span",{style:{marginRight:"8px",display:"inline-block",width:"20px",height:"20px",borderRadius:"4px",backgroundColor:r,border:"1px solid var(--ds-gray-400)"}}),children:a},r)})})]})]})}e.s(["ACCENT_COLORS",0,q,"VERCEL_BLOB_URL_PREFIX",0,"https://py8fhxnkzwtsqdo9.public.blob.vercel-storage.com/marketplace-hardcode/"],7045711),e.s(["ColorPicker",0,U,"DragHandle",0,function(e){let{attributes:r,listeners:i,variant:n="default"}=e,o=(0,a.useCallback)(e=>{e.stopPropagation()},[]);return(0,t.jsx)("div",{...r,...i,"data-drag-handle":!0,className:`${"template"===n?"absolute right-2 top-2 z-50":"absolute -right-2 top-1/2 -translate-y-1/2 z-10"} flex h-5 w-4 border border-gray-alpha-400 items-center cursor-grab active:cursor-grabbing justify-center rounded-sm bg-background-200 backdrop-blur-sm text-white hover:bg-gray-200 duration-100 opacity-0 group-hover:opacity-100`,style:{touchAction:"none"},onClick:o,"aria-label":"Drag to reorder",role:"button",tabIndex:0,children:(0,t.jsx)(R.MoreVertical,{color:"gray-900",className:"h-2 w-2"})})},"EditButton",0,function(e){let{onEdit:r,variant:i="default"}=e,n=(0,a.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),r()},[r]);return(0,t.jsx)("button",{type:"button",className:`${"template"===i?"absolute right-2 top-8 z-50":"absolute -right-2 top-4 z-10"} flex h-5 w-4 border border-gray-alpha-400 items-center cursor-pointer justify-center rounded-sm bg-background-200 backdrop-blur-sm text-white hover:bg-gray-200 duration-100 opacity-0 group-hover:opacity-100`,onClick:n,"aria-label":"Edit item",children:(0,t.jsx)($.Pen,{color:"gray-900",className:"h-2 w-2"})})}],431597);var G=e.i(4585051),W=e.i(9256474),V=e.i(4244280),K=e.i(277234);let H=(0,a.createContext)(null);function X(){return(0,a.useContext)(H)||{enabled:!1,openEdit:()=>{},closeEdit:()=>{},editingItem:null,isEditModalOpen:!1}}function Y(e){let{attributes:r,listeners:i}=e,n=(0,a.useCallback)(e=>{e.stopPropagation()},[]);return(0,t.jsx)("div",{...r,...i,"data-drag-handle":!0,className:"absolute -right-2 top-1/2 -translate-y-1/2 z-10 flex h-5 w-4 border border-gray-alpha-400 items-center cursor-grab active:cursor-grabbing justify-center rounded-sm bg-background-200 backdrop-blur-sm text-white hover:bg-gray-200 duration-100 opacity-0 group-hover:opacity-100",style:{touchAction:"none"},onClick:n,"aria-label":"Drag to reorder",role:"button",tabIndex:0,children:(0,t.jsx)(R.MoreVertical,{color:"gray-900",className:"h-2 w-2"})})}function J(e){let{enablePowertool:r=!1,onReorder:i,children:n}=e,o=(0,a.useMemo)(()=>a.default.Children.toArray(n),[n]),{idOrderFromChildren:l,idToElement:s,idToData:c}=(0,a.useMemo)(()=>{let e=[],t=new Map,r=new Map;for(let i of o)if(a.default.isValidElement(i)&&"object"==typeof i.props&&null!==i.props&&"id"in i.props&&"data"in i.props&&"string"==typeof i.props.id){let a=i.props.id;e.push(a),t.set(a,i),r.set(a,i.props.data)}return{idOrderFromChildren:e,idToElement:t,idToData:r}},[o]),[d,g]=(0,a.useState)(l);(0,a.useLayoutEffect)(()=>{g(e=>{if(0===e.length)return l;let t=new Set(l);return e.length===l.length&&e.every(e=>t.has(e))?e:l})},[l]);let[,p]=(0,a.useState)(null),[h,x]=(0,a.useState)(!1),[m,b]=(0,a.useState)(null),[f,y]=(0,a.useState)({integrationName:"",integrationDescription:"",integrationIcon:"",iconBackgroundColor:"#0070F3",website:"",slug:"",tags:[]}),[j,v]=(0,a.useState)(!1),C=(0,B.useSensors)((0,B.useSensor)(B.PointerSensor,{activationConstraint:{distance:8}}),(0,B.useSensor)(B.KeyboardSensor,{coordinateGetter:E.sortableKeyboardCoordinates})),w=(0,a.useCallback)(e=>{b(e),y({integrationName:e.integration.name,integrationDescription:e.integration.shortDescription,integrationIcon:e.integration.icon,iconBackgroundColor:e.product.iconBackgroundColor||e.integration.accentColor||"#0070F3",website:e.integration.website,slug:e.integration.slug,tags:e.product.tags}),x(!0)},[]),k=(0,a.useCallback)(async()=>{if(m){try{let e={slug:m.integration.slug,description:f.integrationDescription,lightImgUrl:f.integrationIcon,darkImgUrl:f.integrationIcon,iconBackgroundColor:f.iconBackgroundColor,categoryTitle:f.tags?.[0]||"Other",boldWords:[m.integration.name]},t=await fetch(V.API_MARKETPLACE_CONFIG,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({featuredItems:{products:[e]}})});if(!t.ok){let e=await t.text();console.error("Failed to save featured section:",e);return}}catch(e){console.error("Error saving featured section:",e)}x(!1),b(null)}},[f,m]),N=(0,a.useCallback)(()=>{x(!1),b(null)},[]),L=(0,a.useCallback)(e=>{p(e.active.id)},[]),S=(0,a.useCallback)(e=>{},[]),I=(0,a.useCallback)(e=>{let{active:t,over:a}=e;p(null),a&&t.id!==a.id&&g(e=>{let r=e.indexOf(String(t.id)),n=e.indexOf(String(a.id));if(-1===r||-1===n)return e;let o=(0,E.arrayMove)(e,r,n);return i&&i(o.map(e=>c.get(e)).filter(e=>!!e)),o})},[c,i]),M={enabled:r,openEdit:w,closeEdit:N,editingItem:m,isEditModalOpen:h},P=(0,t.jsxs)(z.Modal.Modal,{active:h,onClickOutside:()=>x(!1),width:"600px",children:[(0,t.jsxs)(z.Modal.Body,{children:[(0,t.jsx)(z.Modal.Header,{children:(0,t.jsx)(z.Modal.Title,{children:"Edit Integration"})}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px",marginTop:"16px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",style:{marginBottom:"4px"},children:"Integration Name"}),(0,t.jsx)(T.Input,{id:"integrationName",value:f.integrationName,onChange:e=>y(t=>({...t,integrationName:e.target.value})),placeholder:"Integration name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",style:{marginBottom:"4px"},children:"Integration Description"}),(0,t.jsx)(T.Input,{id:"integrationDescription",value:f.integrationDescription,onChange:e=>y(t=>({...t,integrationDescription:e.target.value})),placeholder:"Integration description"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",style:{marginBottom:"8px"},children:"Integration Icon"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,t.jsx)(G.Avatar,{hash:f.integrationIcon,size:48,title:"Integration Icon Preview"}),(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsx)(T.Input,{id:"integrationIcon",value:f.integrationIcon,onChange:e=>y(t=>({...t,integrationIcon:e.target.value})),placeholder:"Hash or URL (e.g., d84320427d57d47879edfeea213a6275cdc24224)"}),(0,t.jsx)("p",{className:"text-label-12 text-gray-900",style:{marginTop:"4px"},children:"Enter a hash ID or full image URL"})]}),(0,t.jsx)(u.Button,{size:"small",type:"secondary",onClick:()=>{let e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=async e=>{let t=e.target.files?.[0];if(t){v(!0);try{let e=new FileReader;e.onload=async()=>{let t=e.result;try{let e=await (0,K.fetchAPI)(V.API_MARKETPLACE_FEATURED_IMAGE_UPLOAD,{method:"POST",body:{image:t}});console.log("Image uploaded successfully:",e.url),y(t=>({...t,integrationIcon:e.url}))}catch(e){console.error("Failed to upload image:",e)}finally{v(!1)}},e.readAsDataURL(t)}catch(e){console.error("Error uploading image:",e),v(!1)}}},e.click()},disabled:j,children:j?"Uploading...":"Upload"})]})]}),(0,t.jsx)(U,{label:"Icon Background Color",value:f.iconBackgroundColor,onChange:e=>y(t=>({...t,iconBackgroundColor:e}))}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",style:{marginBottom:"4px"},children:"Website"}),(0,t.jsx)(T.Input,{id:"website",value:f.website,onChange:e=>y(t=>({...t,website:e.target.value})),placeholder:"https://example.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",style:{marginBottom:"4px"},children:"Slug"}),(0,t.jsx)(T.Input,{id:"slug",value:f.slug,onChange:e=>y(t=>({...t,slug:e.target.value})),placeholder:"integration-slug"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",style:{marginBottom:"4px"},children:"Tags"}),(0,t.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,t.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px",marginBottom:"8px"},children:f.tags.map(e=>{let a=W.integrationCategoryTags.find(t=>t.id===e);return(0,t.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",padding:"4px 8px",backgroundColor:"#f3f4f6",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},onClick:()=>{y(t=>({...t,tags:t.tags.filter(t=>t!==e)}))},children:[a?.title||e," ✕"]},e)})}),(0,t.jsxs)(D.Combobox,{value:"",onChange:e=>{e&&!f.tags.includes(e)&&y(t=>({...t,tags:[...t.tags,e]}))},placeholder:"Add a tag...","aria-label":"Select tags",children:[(0,t.jsx)(D.Combobox.Input,{}),(0,t.jsx)(D.Combobox.List,{children:W.integrationCategoryTags.filter(e=>!f.tags.includes(e.id)).map(e=>(0,t.jsx)(D.Combobox.Option,{value:e.id,children:e.title},e.id))})]})]})]})]})]}),(0,t.jsxs)(z.Modal.Actions,{children:[(0,t.jsx)(z.Modal.Action,{type:"secondary",onClick:N,children:"Cancel"}),(0,t.jsx)(z.Modal.Action,{onClick:k,children:"Save Changes"})]})]});return r?(0,t.jsxs)(H.Provider,{value:M,children:[P,(0,t.jsx)(B.DndContext,{sensors:C,collisionDetection:B.closestCenter,onDragStart:L,onDragOver:S,onDragEnd:I,children:(0,t.jsx)(E.SortableContext,{items:d,strategy:E.rectSortingStrategy,children:(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4 @sm-page:grid-cols-2 @xl-page:grid-cols-3",children:d.map(e=>s.get(e)).filter(Boolean)})})})]}):(0,t.jsx)(H.Provider,{value:M,children:(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4 @sm-page:grid-cols-2 @xl-page:grid-cols-3",children:n})})}J.Item=function(e){let{id:r,children:i}=e,n=X(),{attributes:o,listeners:l,setNodeRef:s,transform:c,transition:d,isDragging:u}=(0,E.useSortable)({id:r}),g=(0,a.useMemo)(()=>({transform:O.CSS.Transform.toString(c),transition:u?"none":d,opacity:u?.6:1,zIndex:u?1e3:"auto",scale:u?"1.02":"1"}),[c,d,u]),p=(0,a.useCallback)(e=>{if(!n.enabled)return;let t=e.target,a=null!==t.closest("button")||null!==t.closest("[data-drag-handle]")||null!==t.closest("svg")||null!==t.closest("a");(u||a)&&(e.preventDefault(),e.stopPropagation())},[u,n.enabled]);return n.enabled?(0,t.jsxs)("div",{ref:s,style:g,className:`relative group ${u?"shadow-lg":"hover:shadow-md"} transition-shadow duration-200`,onClick:p,children:[(0,t.jsx)(Y,{attributes:o,listeners:l}),i]}):(0,t.jsx)(t.Fragment,{children:i})};var Z=e.i(7909933);e.i(7962980);var Q=e.i(455575),ee=e.i(9208930);function et(e){let{integration:r,product:i,productName:n,size:o="small",className:l,variant:s="secondary"}=e,c=(0,Q.useToasts)(),[d,g]=(0,a.useState)(!1),[p,h]=(0,a.useState)(()=>{try{let e=`marketplace-subscription-${i?.id||r.slug}`;return"true"===localStorage.getItem(e)}catch{return!1}}),x=(0,a.useCallback)(()=>{d||p||(g(!0),fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:"localhost"===window.location.hostname?`https://vercel.com/dev-mode${window.location.pathname}`:window.location.toString(),note:`Subscribed to ${n}`,topic:"Marketplace and Integrations",ua:`front production + ${navigator.userAgent} (${navigator.language||"unknown language"})`})}).then(()=>{h(!0);try{let e=`marketplace-subscription-${i?.id||r.slug}`;localStorage.setItem(e,"true")}catch(e){console.error("Failed to save subscription state:",e)}c.success(`You're all set! We'll email you as soon as ${n} is available in our marketplace.`)}).catch(e=>{console.error("Failed to subscribe:",e)}).finally(()=>{g(!1)}))},[d,p,n,i?.id,r.slug,c]);return(0,t.jsx)(u.Button,{className:l,disabled:p,loading:d,onClick:x,prefix:(0,t.jsx)(ee.Envelope,{className:"ml-1.5",size:16}),size:o,type:s,typeName:"button",children:p?"Subscribed":"Get notified"})}function ea(e){let{product:r,integration:i,categories:n,variant:o="default"}=e;(0,a.useMemo)(()=>N(i,r,n),[i,r,n]);let l=(0,P.useServerFlag)("enable-marketplace-of-products",!1),s=l?r.name:i.name,c=l?r.iconUrl:i.icon,u=c&&(c.startsWith("http")||c.startsWith("https")||c.startsWith("//")),[g,p]=(0,a.useState)({x:50,y:50}),[h,x]=(0,a.useState)(!1),m=(0,a.useRef)(null),b=(0,a.useCallback)(e=>{m.current&&requestAnimationFrame(()=>{if(!m.current)return;let t=m.current.getBoundingClientRect(),a=(e.clientX-t.left)/t.width*100,r=(e.clientY-t.top)/t.height*100;p(e=>{let t=Math.abs(e.x-a),i=Math.abs(e.y-r);return t>2||i>2?{x:a,y:r}:e})})},[]),f=(0,a.useCallback)(()=>{x(!0)},[]),y=(0,a.useCallback)(()=>{x(!1),p({x:50,y:50})},[]),j=(0,a.useMemo)(()=>({position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:+!!h,transition:"opacity 0.5s ease",pointerEvents:"none",zIndex:0}),[h]);return(0,t.jsxs)("div",{className:`group relative h-[200px] flex flex-col items-center justify-between gap-3 overflow-hidden p-4 transition-colors ${"agents"===o?"bg-white shadow-border":"rounded border border-dashed border-gray-alpha-400 hover:border-blue-500"}`,ref:m,onMouseMove:b,onMouseEnter:f,onMouseLeave:y,children:[(0,t.jsx)("div",{style:j,className:"[background:radial-gradient(100%_100%_at_0%_0%,#FFFFFF00_80%,#E2F0FF66_100%)] dark:[background:radial-gradient(100%_100%_at_0%_0%,#00000000_80%,#1a3a5230_100%)]"}),(0,t.jsx)("div",{className:"relative z-10 flex w-full flex-row items-center justify-between",children:(0,t.jsx)("div",{className:"flex flex-row gap-2",children:(0,t.jsx)(d.Badge,{size:"sm",className:"bg-blue-100 text-blue-700",children:"Coming Soon"})})}),(0,t.jsxs)("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[(0,t.jsx)("div",{className:"flex size-[52px] items-center justify-center rounded-full border border-dashed border-gray-alpha-400 transition-colors group-hover:border-blue-500",children:(0,t.jsx)(G.Avatar,{className:"!border-none",...u?{url:c}:{hash:c},size:32})}),(0,t.jsx)("div",{className:"text-label-16",children:(0,t.jsx)("strong",{className:"text-gray-900",children:s})})]}),(0,t.jsx)("div",{className:"relative z-10 w-full",children:(0,t.jsx)(et,{className:"w-full",integration:i,product:r,productName:s,size:"small",variant:"secondary"})})]})}e.s(["GetNotifiedButton",0,et],4272280);var er=e.i(1438473),ei=e.i(2762633),en=e.i(7749291);function eo(e){let{isOpen:a,searchQuery:i,matchingIntegrations:n,isSubmitting:l,submitSuccess:c,teamSlugOrPublic:d,isFromV0:u,onBack:g,onSubmitAnyway:p,onClose:h}=e;return(0,t.jsxs)(z.Modal.Modal,{active:a,onClickOutside:()=>{l||h()},children:[(0,t.jsxs)(z.Modal.Body,{children:[(0,t.jsxs)(z.Modal.Header,{children:[(0,t.jsxs)(z.Modal.Title,{children:["We found some options for “",i,"”"]}),(0,t.jsx)(z.Modal.Subtitle,{children:"These integrations might be what you're looking for."})]}),(0,t.jsx)("div",{className:"flex flex-col gap-2",children:n.flatMap(e=>{let a=i.toLowerCase().trim(),n=e.products.filter(e=>{let t=e.name.toLowerCase().includes(a),r=(0,C.searchMatchesKV)(i)&&(e.tags?.includes("kv")||e.tags?.includes("redis")),n=(0,C.searchMatchesPostgres)(i)&&e.tags?.some(e=>e.toLowerCase().startsWith("postgres"));return!!t||!!r||!!n});return(n.length>0?n:e.products).map(a=>{let i=a?.iconUrl||e.icon;return(0,t.jsxs)(r.Link,{href:(0,s.getIntegrationDetailsLink)({integrationSlug:e.slug,teamSlugOrPublic:d??{isPublic:!0},isFromV0:u}),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:border-gray-400 hover:bg-gray-50 transition-colors no-underline",children:[(0,t.jsx)(o.ProductIcon,{icon:i,size:"medium"}),(0,t.jsxs)("div",{className:"flex flex-col gap-0.5 min-w-0 flex-1",children:[(0,t.jsx)("span",{className:"font-medium text-gray-1000",children:a?.name||e.name}),(0,t.jsx)("span",{className:"text-sm text-gray-700 truncate",children:a?.shortDescription||e.shortDescription})]}),(0,t.jsx)(en.ExternalSmall,{className:"size-4 text-gray-500 flex-shrink-0"})]},a.id)})})})]}),(0,t.jsxs)(z.Modal.Actions,{children:[(0,t.jsx)(z.Modal.Action,{onClick:g,type:"secondary",children:"Back"}),(0,t.jsx)(z.Modal.Action,{disabled:!i.trim()||c,loading:l,onClick:p,children:c?"Submitted!":`Request "${i}" anyway`})]})]})}function el(e){let{category:r,categories:i,variant:n="default",integrations:o=[],teamSlugOrPublic:l,isFromV0:s}=e,[c,u]=(0,a.useState)(!1),[g,p]=(0,a.useState)(""),[h,x]=(0,a.useState)(!1),[m,b]=(0,a.useState)(!1),[f,y]=(0,a.useState)(!1),[j,v]=(0,a.useState)({x:50,y:50}),[w,k]=(0,a.useState)(!1),N=(0,a.useRef)(null),L="agents"===r,S=(0,a.useMemo)(()=>{let e=g.trim();return 0===o.length||e.length<2?[]:o.filter(t=>(0,C.integrationMatchesSearch)(t,e))},[g,o]),I=i.find(e=>e.slug===r),M=I?.title||"Integration",P=r?`tag_${r}`:null,_=P&&P in W.categoryIconMapping?W.categoryIconMapping[P]:ei.GridSquare,F=L?"Request an Agent":"Request an Integration",A=`Not seeing the ${M} you need? Request an integration.`,B=L?"Request an Agent":"Request an Integration",E=L?"Not seeing what you need? Request an agent you'd like to use in a project.":"Not seeing what you need? Request an integration you'd like to use in a project.",O=L?"Agent name":"Integration name",R=L?"AI Agent":M,D=(0,a.useCallback)(e=>{N.current&&requestAnimationFrame(()=>{if(!N.current)return;let t=N.current.getBoundingClientRect(),a=(e.clientX-t.left)/t.width*100,r=(e.clientY-t.top)/t.height*100;v(e=>{let t=Math.abs(e.x-a),i=Math.abs(e.y-r);return t>2||i>2?{x:a,y:r}:e})})},[]),$=(0,a.useCallback)(()=>{k(!0)},[]),q=(0,a.useCallback)(()=>{k(!1),v({x:50,y:50})},[]),U=(0,a.useMemo)(()=>({position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:+!!w,transition:"opacity 0.5s ease",pointerEvents:"none",zIndex:15}),[w]),G=(0,a.useCallback)((e,t)=>{if(e.preventDefault(),h||!g.trim())return;if(S.length>0&&!f&&!t?.bypassSuggestions)return void y(!0);x(!0);let a=L?"agent":"integration",i=r?` (Category: ${r})`:"";fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:"localhost"===window.location.hostname?`https://vercel.com/dev-mode${window.location.pathname}`:window.location.toString(),note:`Requested ${a}: ${g.trim()}${i}`,topic:"Marketplace and Integrations",ua:`front production + ${navigator.userAgent} (${navigator.language||"unknown language"})`})}).then(()=>{b(!0),setTimeout(()=>{u(!1),p(""),b(!1),y(!1)},2e3)}).catch(e=>{console.error("Failed to submit request:",e)}).finally(()=>{x(!1)})},[g,h,L,r,S.length,f]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{ref:N,className:`h-[200px] group relative flex cursor-pointer flex-col items-start justify-between gap-3 overflow-hidden transition-colors ${"agents"===n?"bg-white shadow-border":"rounded border border-gray-alpha-400 hover:border-blue-500"}`,onClick:()=>u(!0),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),u(!0))},onMouseMove:D,onMouseEnter:$,onMouseLeave:q,role:"button",tabIndex:0,children:[(0,t.jsx)("div",{style:U,className:"[background:radial-gradient(100%_100%_at_0%_0%,#FFFFFF00_80%,#E2F0FF66_100%)] dark:[background:radial-gradient(100%_100%_at_0%_0%,#00000000_80%,#1a3a5230_100%)]"}),(0,t.jsx)("div",{className:"absolute inset-0 z-0 overflow-hidden rounded",children:(0,t.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 306 220",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"absolute inset-0",preserveAspectRatio:"none",children:(0,t.jsx)("path",{d:"M-72.6319 0.914097C-72.7551 0.842564 -72.8476 0.788746 -72.9092 0.752964C-72.9398 0.735172 -72.9632 0.721806 -72.9785 0.712925C-72.9861 0.70853 -72.9923 0.705357 -72.9961 0.703159C-72.9979 0.702122 -72.9991 0.700779 -73 0.70023C-73.001 0.699665 -73.0008 0.697788 -72.8135 0.375034L-72.8047 3.43034e-05C-72.8038 4.95621e-05 -72.8024 3.78558e-06 -72.8008 3.4303e-05C-72.7978 9.53379e-05 -72.7901 0.000888794 -72.7832 0.00101086C-72.768 0.00128552 -72.7444 0.00142285 -72.7139 0.00198742C-72.6523 0.00313182 -72.5597 0.00459666 -72.4365 0.00687021L-49.1192 0.437532C-33.3275 0.729462 -9.63991 1.16812 21.9433 1.75198L306.193 7.00684L306.187 7.38184L306.18 7.75586C179.846 5.42042 85.0963 3.6697 21.9297 2.50198C-8.54546 1.93861 -31.6692 1.51138 -47.4414 1.21976C-31.6687 1.97789 -8.53658 3.08919 21.9541 4.55471C85.1207 7.59079 179.871 12.1446 306.204 18.2168L306.187 18.5918L306.169 18.9658C179.836 12.8937 85.0856 8.33982 21.9189 5.30374C-8.52391 3.84051 -31.6313 2.72977 -47.4024 1.97171L306.216 29.4277L306.157 30.1758L-47.3516 2.72855C-31.5803 4.41954 -8.4709 6.89654 21.9765 10.1612L306.227 40.6387L306.146 41.3848L21.8965 10.9073C-8.44054 7.65448 -31.4927 5.18375 -47.2598 3.4932C-31.4905 5.65039 -8.40798 8.80681 21.9873 12.9649C85.1539 21.6061 179.904 34.5682 306.237 51.8506L306.187 52.2217L306.136 52.5938C179.802 35.3114 85.0524 22.3492 21.8857 13.708C-8.37935 9.56778 -31.3941 6.42018 -47.1582 4.2637L306.248 63.0625L306.125 63.8027C179.792 42.7836 85.0416 27.0184 21.875 16.5088L-47.0469 5.04202L22.0088 18.5742C85.1754 30.9522 179.926 49.5186 306.259 74.2744L306.114 75.0107C179.781 50.2549 85.0309 31.6875 21.8642 19.3096C-8.21697 13.415 -31.1357 8.92439 -46.8916 5.83695L22.0195 21.3789C85.1861 35.6252 179.936 56.9949 306.269 85.4873L306.187 85.8525L306.104 86.2188L21.8545 22.1104L-46.7422 6.63968L306.279 96.6992L306.187 97.0625L306.094 97.4268C179.76 65.1975 85.0104 41.0248 21.8437 24.9102L-46.5469 7.46292C-30.7963 11.947 -7.93425 18.4561 22.039 26.9893C85.2057 44.9723 179.956 71.9461 306.289 107.912L306.187 108.273L306.084 108.634L21.834 27.71L-46.3506 8.29886C-30.6062 13.2468 -7.80629 20.4114 22.0488 29.794C85.2155 49.6453 179.966 79.4232 306.299 119.126L306.074 119.841L21.8242 30.5098C-7.74208 21.218 -30.389 14.1009 -46.1162 9.15824C-30.3799 14.5691 -7.65489 22.3827 22.0586 32.5996C85.2252 54.3194 179.975 86.8994 306.309 130.339L306.064 131.048L-45.8574 10.041C-30.1308 15.9138 -7.48909 24.3691 22.0674 35.4063L306.317 141.553L306.187 141.903L306.056 142.255L21.8056 36.1084C-7.4218 25.1941 -29.888 16.8056 -45.5918 10.9414C-29.8759 17.2751 -7.31911 26.3651 22.0771 38.2119C85.2438 63.6684 179.994 101.853 306.327 152.766L306.187 153.114L306.046 153.462L-45.3369 11.8526C-29.632 18.6464 -7.15785 28.3686 22.0849 41.0186C85.2515 68.3434 180.002 109.33 306.335 163.979L306.187 164.324L306.038 164.668L21.7881 41.7061C-7.09944 29.2098 -29.3819 19.5715 -45.0586 12.7901C-29.3665 20.0423 -6.98213 30.3865 22.0937 43.8242C85.2604 73.0174 180.01 116.808 306.344 175.194L306.187 175.534L306.029 175.875C179.696 117.489 84.9459 73.6981 21.7793 44.5049C-6.89497 31.2528 -29.0611 21.0088 -44.7188 13.7725L306.352 186.408L306.187 186.744L306.021 187.081L-44.4072 14.7618C-28.7484 22.9249 -6.57542 34.4831 22.1103 49.4375L306.36 197.622L306.187 197.955L306.013 198.287L21.7637 50.1026C-6.48659 35.3752 -28.4203 23.9416 -44.0362 15.8008L22.1172 52.2442C85.2838 87.0424 180.034 139.239 306.367 208.836L306.187 209.165L306.006 209.493C179.673 139.897 84.9225 87.6997 21.7558 52.9014L-43.6787 16.8535L306.375 220.051L305.998 220.699L-72.6319 0.914097Z",className:"fill-[#EBEBEB] dark:fill-[#2a2a2a]"})})}),(0,t.jsxs)("div",{className:"z-20 p-4 flex flex-col gap-2 items-start justify-end h-full",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-2 items-center transition-[gap] duration-200 ease-out group-hover:gap-2.5",children:[(0,t.jsx)("div",{className:"relative z-10 w-full text-start text-label-16",children:(0,t.jsx)("strong",{children:F})}),(0,t.jsx)("div",{className:"text-gray-900",children:(0,t.jsx)(er.ArrowRight,{})})]}),(0,t.jsx)("div",{className:"relative z-10 w-full text-start text-copy-13 text-gray-alpha-800",children:A})]}),(0,t.jsx)("div",{className:"z-10 absolute w-full h-full bg-gradient-to-b from-background-100/20 to-background-100/90"}),(0,t.jsxs)("div",{className:"bg-background-100 flex justify-center items-center absolute top-8 left-1/2 -translate-x-1/2 z-0 border border-gray-alpha-400 w-60 h-60 text-gray-alpha-400 transition-[top] duration-200 ease-out group-hover:top-6 rounded",children:[(0,t.jsx)("div",{className:"absolute left-2 top-2",children:(0,t.jsx)(d.Badge,{icon:(0,t.jsx)(_,{className:"size-3"}),size:"sm",variant:"gray-subtle",children:R})}),(0,t.jsx)(_,{size:150})]})]}),f?(0,t.jsx)(eo,{isOpen:c,searchQuery:g,matchingIntegrations:S,isSubmitting:h,submitSuccess:m,teamSlugOrPublic:l,isFromV0:s,onBack:()=>y(!1),onSubmitAnyway:()=>{G(new Event("submit"),{bypassSuggestions:!0})},onClose:()=>{u(!1),p(""),b(!1),y(!1)}}):(0,t.jsxs)(z.Modal.Modal,{active:c,onClickOutside:()=>{h||(u(!1),p(""),b(!1),y(!1))},children:[(0,t.jsxs)(z.Modal.Body,{children:[(0,t.jsxs)(z.Modal.Header,{children:[(0,t.jsx)(z.Modal.Title,{children:B}),(0,t.jsx)(z.Modal.Subtitle,{children:E})]}),(0,t.jsx)("form",{onSubmit:G,children:(0,t.jsx)(T.Input,{autoFocus:!0,"aria-labelledby":"agent-name-input",disabled:h||m,id:"agent-name-input",onChange:e=>p(e.target.value),placeholder:O,value:g})})]}),(0,t.jsxs)(z.Modal.Actions,{children:[(0,t.jsx)(z.Modal.Action,{onClick:()=>{u(!1),p(""),b(!1),y(!1)},type:"secondary",disabled:h,children:"Cancel"}),(0,t.jsx)(z.Modal.Action,{disabled:!g.trim()||m,loading:h,onClick:()=>G(new Event("submit")),children:m?"Submitted!":"Submit"})]})]})]})}e.s(["RequestIntegrationCard",0,el],6345985);var es=e.i(8852425);function ec(e){let{category:i,categories:n,variant:o="default"}=e,[l,s]=(0,a.useState)({x:50,y:50}),[c,d]=(0,a.useState)(!1),u=(0,a.useRef)(null),g=(0,a.useCallback)(e=>{u.current&&requestAnimationFrame(()=>{if(!u.current)return;let t=u.current.getBoundingClientRect(),a=(e.clientX-t.left)/t.width*100,r=(e.clientY-t.top)/t.height*100;s(e=>{let t=Math.abs(e.x-a),i=Math.abs(e.y-r);return t>2||i>2?{x:a,y:r}:e})})},[]),p=(0,a.useCallback)(()=>{d(!0)},[]),h=(0,a.useCallback)(()=>{d(!1),s({x:50,y:50})},[]),x=i?`tag_${i}`:null,m=x&&x in W.categoryIconMapping?W.categoryIconMapping[x]:ei.GridSquare,b=(0,a.useMemo)(()=>({position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:+!!c,transition:"opacity 0.5s ease",pointerEvents:"none",zIndex:15}),[c]),f="agents"===o;return(0,t.jsx)("div",{ref:u,onMouseMove:g,onMouseEnter:p,onMouseLeave:h,className:"group relative h-[200px]",children:(0,t.jsxs)(r.Link,{href:"/marketplace/program",target:"_blank",className:`relative flex h-full cursor-pointer flex-col items-start justify-between gap-3 overflow-hidden transition-colors no-underline ${f?"bg-white shadow-border":"rounded border border-gray-alpha-400 hover:border-blue-500"}`,children:[(0,t.jsx)("div",{style:b,className:"[background:radial-gradient(100%_100%_at_0%_0%,#FFFFFF00_80%,#E2F0FF66_100%)] dark:[background:radial-gradient(100%_100%_at_0%_0%,#00000000_80%,#1a3a5230_100%)]"}),(0,t.jsx)("div",{className:`absolute inset-0 z-0 overflow-hidden ${f?"":"rounded"}`,children:(0,t.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 306 220",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"absolute inset-0",preserveAspectRatio:"none",children:(0,t.jsx)("path",{d:"M-72.6319 0.914097C-72.7551 0.842564 -72.8476 0.788746 -72.9092 0.752964C-72.9398 0.735172 -72.9632 0.721806 -72.9785 0.712925C-72.9861 0.70853 -72.9923 0.705357 -72.9961 0.703159C-72.9979 0.702122 -72.9991 0.700779 -73 0.70023C-73.001 0.699665 -73.0008 0.697788 -72.8135 0.375034L-72.8047 3.43034e-05C-72.8038 4.95621e-05 -72.8024 3.78558e-06 -72.8008 3.4303e-05C-72.7978 9.53379e-05 -72.7901 0.000888794 -72.7832 0.00101086C-72.768 0.00128552 -72.7444 0.00142285 -72.7139 0.00198742C-72.6523 0.00313182 -72.5597 0.00459666 -72.4365 0.00687021L-49.1192 0.437532C-33.3275 0.729462 -9.63991 1.16812 21.9433 1.75198L306.193 7.00684L306.187 7.38184L306.18 7.75586C179.846 5.42042 85.0963 3.6697 21.9297 2.50198C-8.54546 1.93861 -31.6692 1.51138 -47.4414 1.21976C-31.6687 1.97789 -8.53658 3.08919 21.9541 4.55471C85.1207 7.59079 179.871 12.1446 306.204 18.2168L306.187 18.5918L306.169 18.9658C179.836 12.8937 85.0856 8.33982 21.9189 5.30374C-8.52391 3.84051 -31.6313 2.72977 -47.4024 1.97171L306.216 29.4277L306.157 30.1758L-47.3516 2.72855C-31.5803 4.41954 -8.4709 6.89654 21.9765 10.1612L306.227 40.6387L306.146 41.3848L21.8965 10.9073C-8.44054 7.65448 -31.4927 5.18375 -47.2598 3.4932C-31.4905 5.65039 -8.40798 8.80681 21.9873 12.9649C85.1539 21.6061 179.904 34.5682 306.237 51.8506L306.187 52.2217L306.136 52.5938C179.802 35.3114 85.0524 22.3492 21.8857 13.708C-8.37935 9.56778 -31.3941 6.42018 -47.1582 4.2637L306.248 63.0625L306.125 63.8027C179.792 42.7836 85.0416 27.0184 21.875 16.5088L-47.0469 5.04202L22.0088 18.5742C85.1754 30.9522 179.926 49.5186 306.259 74.2744L306.114 75.0107C179.781 50.2549 85.0309 31.6875 21.8642 19.3096C-8.21697 13.415 -31.1357 8.92439 -46.8916 5.83695L22.0195 21.3789C85.1861 35.6252 179.936 56.9949 306.269 85.4873L306.187 85.8525L306.104 86.2188L21.8545 22.1104L-46.7422 6.63968L306.279 96.6992L306.187 97.0625L306.094 97.4268C179.76 65.1975 85.0104 41.0248 21.8437 24.9102L-46.5469 7.46292C-30.7963 11.947 -7.93425 18.4561 22.039 26.9893C85.2057 44.9723 179.956 71.9461 306.289 107.912L306.187 108.273L306.084 108.634L21.834 27.71L-46.3506 8.29886C-30.6062 13.2468 -7.80629 20.4114 22.0488 29.794C85.2155 49.6453 179.966 79.4232 306.299 119.126L306.074 119.841L21.8242 30.5098C-7.74208 21.218 -30.389 14.1009 -46.1162 9.15824C-30.3799 14.5691 -7.65489 22.3827 22.0586 32.5996C85.2252 54.3194 179.975 86.8994 306.309 130.339L306.064 131.048L-45.8574 10.041C-30.1308 15.9138 -7.48909 24.3691 22.0674 35.4063L306.317 141.553L306.187 141.903L306.056 142.255L21.8056 36.1084C-7.4218 25.1941 -29.888 16.8056 -45.5918 10.9414C-29.8759 17.2751 -7.31911 26.3651 22.0771 38.2119C85.2438 63.6684 179.994 101.853 306.327 152.766L306.187 153.114L306.046 153.462L-45.3369 11.8526C-29.632 18.6464 -7.15785 28.3686 22.0849 41.0186C85.2515 68.3434 180.002 109.33 306.335 163.979L306.187 164.324L306.038 164.668L21.7881 41.7061C-7.09944 29.2098 -29.3819 19.5715 -45.0586 12.7901C-29.3665 20.0423 -6.98213 30.3865 22.0937 43.8242C85.2604 73.0174 180.01 116.808 306.344 175.194L306.187 175.534L306.029 175.875C179.696 117.489 84.9459 73.6981 21.7793 44.5049C-6.89497 31.2528 -29.0611 21.0088 -44.7188 13.7725L306.352 186.408L306.187 186.744L306.021 187.081L-44.4072 14.7618C-28.7484 22.9249 -6.57542 34.4831 22.1103 49.4375L306.36 197.622L306.187 197.955L306.013 198.287L21.7637 50.1026C-6.48659 35.3752 -28.4203 23.9416 -44.0362 15.8008L22.1172 52.2442C85.2838 87.0424 180.034 139.239 306.367 208.836L306.187 209.165L306.006 209.493C179.673 139.897 84.9225 87.6997 21.7558 52.9014L-43.6787 16.8535L306.375 220.051L305.998 220.699L-72.6319 0.914097Z",className:"fill-[#EBEBEB] dark:fill-[#2a2a2a]"})})}),(0,t.jsxs)("div",{className:"z-20 p-4 flex flex-col gap-2 items-start justify-end h-full",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-2 items-center transition-[gap] duration-200 ease-out group-hover:gap-2.5",children:[(0,t.jsx)("div",{className:"relative z-10 w-full text-start text-label-16",children:(0,t.jsx)("strong",{children:"Join the Marketplace"})}),(0,t.jsx)("div",{className:"text-gray-900",children:(0,t.jsx)(er.ArrowRight,{})})]}),(0,t.jsx)("div",{className:"relative z-10 w-full text-start text-copy-13 text-gray-alpha-800",children:"Offer your solution to millions of Vercel developers."})]}),(0,t.jsx)("div",{className:"z-10 absolute w-full h-full bg-gradient-to-b from-background-100/20 to-background-100/90"}),(0,t.jsx)("div",{className:"z-[7] bg-background-100 border-dashed flex justify-center items-center absolute top-14 left-[40%] -translate-x-1/2 border border-gray-alpha-400 w-[100px] h-[100px] text-gray-alpha-400 transition-[top] duration-200 ease-out group-hover:top-10 rounded-full",children:(0,t.jsx)(m,{size:48})}),(0,t.jsx)("div",{className:"z-[6] bg-background-100 flex justify-center items-center absolute top-6 left-[60%] -translate-x-1/2 border border-gray-alpha-400 w-[100px] h-[100px] text-gray-alpha-400 transition-[top] duration-200 ease-out group-hover:top-4 rounded-full",children:(0,t.jsx)(es.LogoVercel,{size:48})})]})})}e.s(["JoinMarketplaceCard",0,ec],9120086);var ed=e.i(5806401),eu=e.i(7087273),eg=e.i(6942035);e.i(2331088);var ep=e.i(6817234),eh=e.i(545169),ex=e.i(9588822),em=e.i(373291),eb=e.i(2557188);function ef(e){let{integration:a,product:r,configuration:i,source:n,onContinue:o}=e,{plan:l}=(0,ep.useMarketplaceBillingPlansContext)(),{hasMetadataErrors:s,metadataState:c,areMetadataChanged:d}=(0,em.useStoreIntegrationFormContext)();return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"pb-6 border-b border-accents-2",children:(0,t.jsx)(eh.ResourceMetadataFieldsWithErrorBoundary,{integrationId:a.id,isLoading:!1,productId:r.id})}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)(eb.MarketplaceBillingPlanSelectorWithErrorBoundary,{type:"product",areMetadataChanged:d,arePermissionsLoading:!1,hasLogDrainsSupport:!1,installationId:i.id,integrationId:a.id,integrationName:a.name,integrationSlug:a.slug,integrationFlags:a.flags,isInstallationLevel:!1,metadata:c,productId:r.id,source:n})}),(0,t.jsx)("div",{className:"mt-6 flex justify-end",children:(0,t.jsx)(u.Button,{onClick:()=>{if(!s){if(!l)throw Error("Billing plan must be selected to continue.");o(l)}},disabled:s||!l,children:"Continue"})})]})}var ey=e.i(5338940),ej=e.i(8522580),ev=e.i(1914640),eC=e.i(553769),ew=e.i(4987761),ek=e.i(9349058),eN=e.i(1595844),eL=e.i(1571992),eS=e.i(5074599),eI=e.i(9722978);function eM(e){let{configuration:r,integration:i,product:n,billingPlan:o,source:l,onBack:s,onConfirmStart:c,onResourceCreated:d,onError:g}=e,{createResource:p}=(0,ek.useMutateResource)(),{createAuthorization:h}=(0,ew.useMarketplaceBillingAuthorizationApi)(),x=(0,ew.useAwaitAuthorization)(),{team:m}=(0,ey.useTeam)(),{plan:b}=(0,ep.useMarketplaceBillingPlansContext)(),{formError:f,metadataState:y,onSubmit:j}=(0,em.useStoreIntegrationFormContext)(),v=(0,a.useMemo)(()=>{let e=n.slug.toLowerCase(),t=Object.entries(n.metadataSchema?.properties||{}).find(e=>{let[t,a]=e;return"git-namespace"===a["ui:control"]});if(t&&y[t[0]]){let a=y[t[0]];if(a&&"string"==typeof a){let t=(0,eL.stringToGitNamespace)(a);t&&(e+=`-${t.slug}`)}}return`${e}-${(0,eN.generateRandomName)()}`},[n,y]),{name:C,setName:w,resourceNameError:k,isAtLimit:N,characterCount:L,maxLength:S,minLength:I}=(0,eN.useResourceName)({product:n,defaultName:v}),M=(0,eS.getResourceNameLabelByProduct)(n);return(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)("p",{className:"text-base font-medium",children:"Review Configuration"}),(0,t.jsx)(ev.ReadOnlyMetadataWithErrorBoundary,{integrationId:i.id,metadata:y,metadataErrors:f.metadata,productId:n.id,target:"create"}),(0,t.jsx)(ev.ReadOnlyBillingPlan,{billingPlan:b,isAwsIntegration:(0,eC.isAwsIntegration)(i)})]})}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(T.Input,{id:"resource-name",label:"Resource Name",value:C,maxLength:S+1,minLength:I,onChange:e=>w(e.target.value),placeholder:`My ${n.name}`,width:"100%",bypassCasing:!0,error:k}),(0,t.jsxs)("p",{className:(0,eI.default)("text-label-12",N?"text-red-900":"text-gray-900"),style:{textAlign:"right"},children:[L,"/",S]}),(0,t.jsxs)("p",{className:"text-copy-13 text-gray-900",children:["This is how we call your ",M," in the Vercel dashboard and in ",i.name,"."]}),n.disableResourceRenaming&&(0,t.jsx)(ej.Note,{fill:!0,type:"warning",children:"The name cannot be changed after the resource is created."})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between gap-3",children:[(0,t.jsx)(u.Button,{onClick:s,type:"secondary",children:"Back"}),(0,t.jsx)(u.Button,{onClick:()=>{c(),j(async e=>{let{metadata:t}=e;try{if(!o)throw Error("Billing plan is required");if(!m?.id)throw Error("Team is required");let e=await h(m.id,{integrationIdOrSlug:i.id,productId:n.id,integrationConfigurationId:r.id,billingPlanId:o.id,metadata:t,source:l});if(e){let t=await x(m.id,e.id);if("succeeded"!==t.status)return void g("Payment authorization failed")}let a=await p({integrationConfigurationId:r.id,integrationProductIdOrSlug:n.id,billingPlanId:o.id,authorizationId:e?.id,name:C,metadata:t,source:l});d(a)}catch(e){g(e instanceof Error?e.message:"Failed to create resource")}},{noTransition:!0,resourceName:C})},disabled:!C.trim()||!!k,children:"Create"})]})]})}var eP=e.i(8735244),e_=e.i(8761240);function eF(e){let{product:a,createdResource:r,error:i,onBack:n,onNext:o}=e,l=(0,eS.getResourceTitleByProduct)(a);return(0,t.jsx)("div",{className:"flex flex-col gap-6",children:(0,t.jsxs)("div",{className:"flex relative h-[320px]",children:[(0,t.jsxs)("div",{className:"absolute left-1/2 top-1/2 flex w-full -translate-x-1/2 -translate-y-1/2 flex-col items-center gap-4 px-4 text-center",children:[i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:"text-base font-medium text-red-900",children:["Error creating ",l]}),(0,t.jsx)("p",{className:"text-sm text-gray-900",children:i})]}),r&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.CheckCircleFill,{color:"green-800",size:36}),(0,t.jsxs)("p",{className:"text-lg font-medium",children:[l," created"]}),(0,t.jsxs)("p",{className:"text-sm text-gray-900",children:["Your"," ",(0,t.jsx)("span",{className:"text-gray-1000",children:r.name})," ","has been created successfully"]})]}),!i&&!r&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eP.Spinner,{size:48}),(0,t.jsxs)("p",{className:"text-base font-medium",children:["Creating ",l,"..."]}),(0,t.jsxs)("p",{className:"text-sm text-gray-900",children:["Setting up your ",l,". This may take a moment..."]})]})]}),i?(0,t.jsx)(u.Button,{className:"absolute left-0 bottom-0",onClick:n,type:"secondary",children:"Back"}):(0,t.jsx)("div",{}),r?(0,t.jsx)(u.Button,{className:"absolute right-0 bottom-0",onClick:o,children:"Done"}):(0,t.jsx)("div",{})]})})}var eA=e.i(4240811);function eB(e){let{state:a}=e;switch(a){case"complete":return(0,t.jsx)(e_.CheckCircleFill,{color:"gray-700",size:28});case"active":return(0,t.jsx)(eA.ChevronCircleRightFill,{size:28});default:return(0,t.jsx)("div",{className:"h-7 w-7 rounded-full border-2 border-gray-400 bg-background-100"})}}function eE(e){let{label:a,state:r,isOpen:i,isLastStep:n=!1,children:o}=e;return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:(0,eI.clsx)("overflow-hidden rounded-lg border border-gray-alpha-200",i&&"shadow-sm"),children:[(0,t.jsx)("div",{className:(0,eI.clsx)("flex w-full items-center justify-between","bg-background-100 p-4","locked"===r&&"opacity-60"),children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(eB,{state:r}),(0,t.jsx)("span",{className:(0,eI.clsx)("text-md font-medium","active"===r&&"text-gray-1000","active"!==r&&"text-gray-700"),children:a})]})}),i&&o&&(0,t.jsx)("div",{className:"bg-background-100 px-4 py-4",children:o})]}),!n&&(0,t.jsx)("div",{className:"absolute left-8 h-6 w-px",style:{top:"100%",backgroundImage:"linear-gradient(to bottom, var(--ds-gray-500) 50%, transparent 50%)",backgroundSize:"1px 6px",backgroundRepeat:"repeat-y"}})]})}let eO=(0,ex.withStripe)(function(e){let{configuration:r,ref:i}=e,[n,o]=(0,a.useState)({isFlowOpen:!1});if((0,a.useImperativeHandle)(i,()=>({openCheckout:(e,t)=>{if(!e||!t)throw Error("Integration and product are required to open the flow");o({isFlowOpen:!0,integration:e,product:t,currentStep:"metadata",billingPlan:null,createdResource:null,error:null})},closeCheckout:()=>{o({isFlowOpen:!1})}}),[]),!n.isFlowOpen)return null;let{integration:l,product:s}=n,c="marketplace";function d(e){e||o({isFlowOpen:!1})}let g=e=>"metadata"===n.currentStep?"metadata"===e?"active":"locked":"confirm"===n.currentStep?"metadata"===e?"complete":"confirm"===e?"active":"locked":"provisioning"===n.currentStep?"provisioning"===e?"active":"complete":"locked",p=(0,t.jsx)(eh.ResourceFormProvider,{metadataSchema:s.metadataSchema,resourceTitle:s.name,target:"create",children:(0,t.jsx)(ep.MarketplaceInstallationBillingPlansProvider,{defaultPlan:r.billingPlan,isBillingPlanPreselected:!!r.billingPlan,target:"create",children:(0,t.jsxs)("div",{className:"flex flex-col gap-6 px-6 pb-6 pt-3",children:[(0,t.jsx)(eE,{label:"Select Parameters and Plan",state:g("metadata"),isOpen:"metadata"===n.currentStep,children:"metadata"===n.currentStep&&(0,t.jsx)(ef,{integration:l,product:s,configuration:r,onContinue:e=>{o({isFlowOpen:!0,integration:l,product:s,currentStep:"confirm",billingPlan:e,createdResource:null,error:null})},source:c})}),(0,t.jsx)(eE,{label:"Review and Confirm",state:g("confirm"),isOpen:"confirm"===n.currentStep,children:"confirm"===n.currentStep&&(0,t.jsx)(eM,{integration:l,billingPlan:n.billingPlan,configuration:r,product:s,onBack:()=>o({isFlowOpen:!0,integration:l,product:s,currentStep:"metadata",billingPlan:null,createdResource:null,error:null}),onConfirmStart:()=>{o({isFlowOpen:!0,integration:l,product:s,currentStep:"provisioning",billingPlan:n.billingPlan,createdResource:null,error:null})},onResourceCreated:e=>o({isFlowOpen:!0,integration:l,product:s,currentStep:"provisioning",billingPlan:n.billingPlan,createdResource:e,error:null}),onError:e=>o({isFlowOpen:!0,integration:l,product:s,currentStep:"provisioning",billingPlan:n.billingPlan,createdResource:null,error:e}),source:c})}),(0,t.jsx)(eE,{label:`Create ${(0,eS.getResourceTitleByProduct)(s)}`,state:g("provisioning"),isOpen:"provisioning"===n.currentStep,isLastStep:!0,children:"provisioning"===n.currentStep&&(0,t.jsx)(eF,{createdResource:n.createdResource,product:s,error:n.error,onBack:()=>o({isFlowOpen:!0,integration:l,product:s,currentStep:"confirm",billingPlan:n.billingPlan,createdResource:null,error:null}),onNext:()=>o({isFlowOpen:!1})})})]})})});return(0,t.jsx)(ed.Sheet,{open:!0,onOpenChange:d,modal:!0,children:(0,t.jsx)(ed.SheetContent,{side:"right",className:"overflow-hidden !m-6 !h-[calc(100vh-48px)] !w-[640px] !max-w-[640px] rounded-[12px] border-none bg-background-100 p-0 shadow-modal",children:(0,t.jsxs)("div",{className:"flex h-full flex-col",children:[(0,t.jsxs)("div",{className:"relative p-6 pb-2",children:[(0,t.jsxs)(ed.SheetTitle,{className:"m-0 text-heading-20 font-medium text-gray-1000",children:["Install ",l.name]}),(0,t.jsx)(u.Button,{svgOnly:!0,"aria-label":"Close",shape:"square",size:"tiny",type:"tertiary",onClick:()=>d(!1),className:"absolute right-6 top-6",children:(0,t.jsx)(eg.Cross,{})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,t.jsx)(eu.Scroller,{overflow:"y",height:"100%",children:p})})]})})})});function eR(e){let{product:r,integration:n,disabled:o,onAddAction:l,tooltip:d,teamSlugOrPublic:g,enableMarketplaceNewCheckout:h,configuration:m}=e,b=(0,i.useRouter)(),f=(0,x.useOpenInstallMarketplaceProductModal)(),{isPublic:y}=g,j=!!n?.comingSoon,v=(0,P.useServerFlag)("enable-marketplace-drawer-checkout-flow",!1),C=(0,a.useRef)(null),w=v&&"stripe"===r.slug;return(0,t.jsxs)(t.Fragment,{children:[w&&m?(0,t.jsx)(eO,{ref:C,configuration:m}):null,(0,t.jsx)(u.Button,{"data-testid":(0,c.tid)("install-marketplace-modal",r.id),disabled:!y&&o||j,onClick:()=>{y?b.push(`/login?next=${(0,s.getIntegrationDetailsLink)({integrationSlug:n.slug,teamSlugOrPublic:{isPublic:!0}})}`):l?l():C.current?C.current?.openCheckout(n,r):h&&g.teamSlug?b.push((0,I.getIntegrationCheckoutUrl)({params:{integrationSlug:n.slug,teamSlug:g.teamSlug},searchParams:{installationId:m?.id,productSlug:r.slug,cancelUrl:`${window.location.pathname}${window.location.search}`}})):f({product:r,integration:n})},size:"small",type:"secondary",typeName:"button",rel:"nofollow",children:(0,t.jsx)(p.Tooltip,{disableTriggers:!d&&!j,text:j?"This integration is coming soon.":d||"",children:"Install"})})]})}function ez(e){let a=(0,i.useRouter)(),n=(0,P.useServerFlag)("enable-marketplace-of-products",!1),{isPublic:o}=e.teamSlugOrPublic;if(e.integration.comingSoon)return(0,t.jsx)(ea,{product:e.product,integration:e.integration,categories:e.categories,variant:e.variant,showMore:e.showMore});let s=(0,t.jsx)(eD,{actionButton:o?null:(0,t.jsx)(eT,{...e}),footerContent:e.product.shortBillingPlansDescription,iconElement:(0,t.jsx)(l.GlowProductIcon,{icon:n?e.product.iconUrl:e.integration.icon,size:"large",integrationColor:n?e.product.iconBackgroundColor:e.integration.accentColor}),accentBackground:n?e.product.iconBackgroundColor:e.integration.accentColor,productName:n?e.product.name:e.integration.name,productDescription:n?e.product.shortDescription:e.integration.shortDescription,isPrivate:!(0,C.integrationPubliclyVisible)(e.integration),showMore:e.showMore,categories:e.categories,product:e.product,integration:e.integration,category:e.category});return(0,t.jsx)(r.Link,{"aria-label":`Open ${e.product.name}`,className:`group block no-underline ${e.showMore?"":"rounded"}`,href:e.href,onMouseDown:(0,m.buildOnMouseDown)({href:e.href,router:a}),"data-testid":(0,c.tid)("product-card",e.product.id),children:s})}function eT(e){let{integration:a,configurations:n,product:o}=e,l=(0,x.useOpenInstallMarketplaceProductModal)(),c=(0,j.useTeamSlug)(),d=(0,L.filterMarketplaceConfigurations)(n),g=v({integration:a,marketplaceConfigurations:d}),h=(0,i.useRouter)(),{isLoading:m,canCreateIntegrationConfiguration:b}=(0,S.useIntegrationPermissions)(),f=(0,P.useServerFlag)("enable-marketplace-new-checkout",!1),y=!!a?.comingSoon,C=!a.canInstall&&!!a.hiddenAt,w=d.at(0);if(g.isLoading)return null;let k=m||!b||y;if((!g.canInstallIntegration||C)&&c&&w){let e=(0,s.getInstallationDetailsLink)({teamSlug:c,integrationSlug:a.slug,configurationId:w.id,isMarketplace:!0});return(0,t.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,t.jsx)(r.Link,{href:e,className:"no-underline",children:(0,t.jsx)(u.Button,{"aria-label":"Manage Product",size:"small",type:"secondary",typeName:"button",className:"no-underline",children:"Manage"})})})}return C?null:(0,t.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,t.jsx)(p.Tooltip,{disableTriggers:!k,position:"bottom",text:y?"This integration is coming soon.":"You need additional permissions to add integrations.",children:(0,t.jsxs)(u.Button,{"aria-label":"Add Product",size:"small",type:"secondary",typeName:"button",className:"relative",disabled:k,children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 size-full cursor-pointer",tabIndex:0,role:"button","aria-label":`Install ${a.name}`,onClick:e=>{e.preventDefault(),e.stopPropagation(),f&&c?h.push((0,I.getIntegrationCheckoutUrl)({params:{integrationSlug:a.slug,teamSlug:c},searchParams:{productSlug:o?.slug,cancelUrl:`${window.location.pathname}${window.location.search}`}})):l({product:o,integration:a})},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.stopPropagation(),f&&c?h.push((0,I.getIntegrationCheckoutUrl)({params:{integrationSlug:a.slug,teamSlug:c},searchParams:{productSlug:o?.slug,cancelUrl:`${window.location.pathname}${window.location.search}`}})):l({product:o,integration:a}))}}),"Install"]})})})}function eD(e){let{iconElement:r,productName:i,productDescription:n,categories:o,product:l,integration:s,accentBackground:c,showMore:u,category:g}=e,[p,x]=(0,a.useState)({x:50,y:50}),[m,b]=(0,a.useState)(!1),f=(0,a.useRef)(null),{resolvedTheme:y}=(0,M.useTheme)(),j="dark"===y,v=X().enabled,C=(0,a.useMemo)(()=>N(s,l,o,g),[s,l,o,g]),w=(0,a.useMemo)(()=>{let e=(c||"#0070F3").replace("#",""),t=Number.parseInt(e.substring(0,2),16),a=Number.parseInt(e.substring(2,4),16),r=Number.parseInt(e.substring(4,6),16),i=j?.15:.1;return`rgba(${t}, ${a}, ${r}, ${i})`},[j,c]),k=(0,a.useCallback)(e=>{f.current&&requestAnimationFrame(()=>{if(!f.current)return;let t=f.current.getBoundingClientRect(),a=(e.clientX-t.left)/t.width*100,r=(e.clientY-t.top)/t.height*100;x(e=>{let t=Math.abs(e.x-a),i=Math.abs(e.y-r);return t>2||i>2?{x:a,y:r}:e})})},[]),L=(0,a.useCallback)(()=>{b(!0)},[]),S=(0,a.useCallback)(()=>{b(!1),x({x:50,y:50})},[]),I=(0,a.useMemo)(()=>({zIndex:0,position:"absolute",top:0,left:0,width:"100%",height:"100%",background:`radial-gradient(circle at ${p.x}% ${p.y}%, ${w} 0%, rgba(255,255,255,0) 90%)`,opacity:+!!m,transition:"opacity 0.3s ease-out",pointerEvents:"none",transform:"translate3d(0, 0, 0)",willChange:m?"opacity":"auto"}),[p.x,p.y,m,w]);return(0,t.jsxs)("div",{className:`group relative flex flex-col items-center justify-between gap-3 overflow-hidden p-4 ${u?"pb-7":"h-[200px] rounded"} bg-white shadow-border`,ref:f,onMouseMove:k,onMouseEnter:L,onMouseLeave:S,children:[m?(0,t.jsx)("div",{style:I}):null,(0,t.jsx)("div",{className:"relative z-10 flex w-full flex-row items-center justify-between",children:(0,t.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,t.jsx)(d.Badge,{size:"sm",className:"bg-gray-alpha-100",variant:"gray-subtle",children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[C.isAgentCategory&&(0,t.jsx)(h.Agents,{className:"size-3"}),C.title]})}),l?.slug==="stripe"?(0,t.jsx)(d.Badge,{size:"sm",variant:"pink",children:"Beta"}):null,s?.installs&&v&&(0,t.jsx)(d.Badge,{size:"sm",className:"bg-blue-alpha-100",variant:"amber",children:s.exactInstalls?s.exactInstalls.toLocaleString():s.installs})]})}),(0,t.jsxs)("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[r,(0,t.jsx)("div",{className:"text-label-16",children:(0,t.jsx)("strong",{children:i})})]}),(0,t.jsx)("div",{className:"relative z-10 w-full text-copy-13 text-gray-900",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",height:"2.6em"},children:n})]})}e.s(["IntegrationCheckout",0,eO],2660880),e.s(["MarketplaceProductCard",0,ez,"MarketplaceProductCardList",0,function(e){let r=(0,a.useMemo)(()=>(function(e){if(!e.category&&!e.search)return(0,w.sortAuthenticationIntegrations)(e.integrations,e.category);if("agents"===e.category){let t=e.integrations.filter(t=>{if(!t.tagIds?.includes("tag_agents"))return!1;if(e.subcategory){let a=`tag_agents_${e.subcategory}`;return t.tagIds?.includes(a)}return!0}).filter(t=>{if(!e.search)return!0;let a=e.search.toLowerCase(),r=t.name.toLowerCase().includes(a),i=t.description?.toLowerCase().includes(a),n=t.products.some(e=>e.name.toLowerCase().includes(a));return r||i||n});return(0,w.sortAuthenticationIntegrations)(t,e.category)}let t=e.integrations.filter(t=>{if(null===e.category)return!0;let a=e.category.replaceAll("-","_"),r=`tag_${a}`;return t.tagIds?.some(e=>e===r||"storage"===a&&"tag_databases"===e||"database"===a&&"tag_databases"===e)}).filter(t=>{if(!e.search)return!0;let a=e.search.toLowerCase(),r=t.products.some(r=>{if((0,C.searchMatchesLogDrains)(e.search)&&(0,b.isProtocolSupported)(r,"logDrain"))return!0;let i=a.replace(/-/g,"").replace(/\s/g,""),n=r.name.toLowerCase().includes(a),o=r.shortDescription.toLowerCase().includes(a),l=t.tagIds?.some(t=>e.categories.find(e=>e.id===t)?.title.toLowerCase().includes(a)),s=r.tags.some(e=>e.toLowerCase().replace(/-/g,"").replace(/\s/g,"").includes(i)),c=(0,C.searchMatchesKV)(e.search)&&(r.tags.includes("redis")||r.tags.includes("kv"));return n||o||l||s||c}),i=t.name.toLowerCase().includes(a);return r||i});return(0,w.sortAuthenticationIntegrations)(t,e.category)})({integrations:e.integrations,search:e.search,category:e.category,subcategory:e.subcategory,categories:e.categories}),[e.integrations,e.search,e.category,e.subcategory,e.categories]),i=(0,P.useServerFlag)("enable-marketplace-of-products",!1),o=(0,P.useServerFlag)("enable-powertool",!1),{data:l,isLoading:c}=(0,Z.default)(V.API_MARKETPLACE_CONFIG,e=>(0,K.fetchAPI)(e),{revalidateOnFocus:!1,revalidateOnMount:!0,dedupingInterval:6e4}),d=!!(0,n.useV0Marketplace)()?.token,u=(0,a.useMemo)(()=>{if(i){let t=r.flatMap(e=>e.products.map(t=>({type:"product",product:t,integration:e,id:t.id}))),a=void 0!==e.expanded?e.expanded?t.length:5:t.length,i=t.slice(0,a);if(l?.order){let e=new Map(l.order.map((e,t)=>[e,t]));i.sort((t,a)=>(e.get(t.id)??Number.MAX_SAFE_INTEGER)-(e.get(a.id)??Number.MAX_SAFE_INTEGER))}return i}{let t=(void 0!==e.expanded?e.expanded?r:r.slice(0,5):r).map(e=>({type:"integration",integration:e,product:e.products[0],id:e.products[0]?.id||e.id}));if(l?.order){let e=new Map(l.order.map((e,t)=>[e,t]));t.sort((t,a)=>(e.get(t.id)??Number.MAX_SAFE_INTEGER)-(e.get(a.id)??Number.MAX_SAFE_INTEGER))}return t}},[r,e.expanded,i,o,l]);if(c||void 0===l)return(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4 @sm-page:grid-cols-2 @xl-page:grid-cols-3",children:Array.from({length:6},(e,a)=>(0,t.jsx)("div",{className:"relative flex flex-col items-center justify-between gap-3 overflow-hidden p-4 h-[200px] rounded bg-white shadow-border",children:(0,t.jsx)(g.Skeleton,{height:"100%",width:"100%"})},`skeleton-${a}`))});if(!u.length)return(0,t.jsxs)(J,{enablePowertool:!1,children:[(0,t.jsx)(el,{category:e.category??void 0,categories:e.categories,integrations:e.integrations,teamSlugOrPublic:e.teamSlugOrPublic,isFromV0:d},"request-agent-card"),(0,t.jsx)(ec,{category:e.category??void 0,categories:e.categories},"provider-card")]});let p=t=>(0,s.getIntegrationDetailsLink)({integrationSlug:t.integration.slug,teamSlugOrPublic:e.teamSlugOrPublic,isFromV0:d});return o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A,{}),(0,t.jsx)(J,{enablePowertool:o,onReorder:async e=>{try{let t=e.map(e=>e.id),a=await fetch(V.API_MARKETPLACE_CONFIG,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({order:t})});if(a.ok)console.log("Marketplace order saved successfully");else{let e=await a.text();console.error("Failed to save marketplace order:",e)}}catch(e){console.error("Error saving marketplace order:",e)}},children:u.map(a=>{let r=p(a);if("product"===a.type){let i=e.configurations.filter(e=>e.integrationId===a.integration.id);return(0,t.jsx)(J.Item,{id:a.id,data:a,children:(0,t.jsx)(ez,{href:r,configurations:i,integration:a.integration,product:a.product,teamSlugOrPublic:e.teamSlugOrPublic,categories:e.categories,category:e.category})},a.id)}{let i=a.integration,n=e.configurations.filter(e=>e.integrationId===i.id);return(0,t.jsx)(J.Item,{id:a.id,data:a,children:(0,t.jsx)(ez,{href:r,configurations:n,integration:i,product:i.products[0],teamSlugOrPublic:e.teamSlugOrPublic,categories:e.categories,category:e.category})},a.id)}})})]}):(0,t.jsxs)(J,{enablePowertool:!1,children:[u.map(a=>{if("product"===a.type){let r=e.configurations.filter(e=>e.integrationId===a.integration.id);return(0,t.jsx)(J.Item,{id:a.id,data:a,children:(0,t.jsx)(ez,{href:p(a),configurations:r,integration:a.integration,product:a.product,teamSlugOrPublic:e.teamSlugOrPublic,categories:e.categories,category:e.category})},a.id)}{let r=a.integration,i=e.configurations.filter(e=>e.integrationId===r.id);return(0,t.jsx)(J.Item,{id:a.id,data:a,children:(0,t.jsx)(ez,{href:p(a),configurations:i,integration:r,product:r.products[0],teamSlugOrPublic:e.teamSlugOrPublic,categories:e.categories,category:e.category})},a.id)}}),(0,t.jsx)(el,{category:e.category??void 0,categories:e.categories,integrations:e.integrations,teamSlugOrPublic:e.teamSlugOrPublic,isFromV0:d},"request-agent-card"),(0,t.jsx)(ec,{category:e.category??void 0,categories:e.categories},"provider-card")]})},"MarketplaceProductDetailsCard",0,function(e){let{product:a,integration:r,disabled:i=!1,onAddAction:n,hasAvatar:l,tooltip:s,teamSlugOrPublic:c,enableMarketplaceNewCheckout:u,configuration:g}=e,p=!r.canInstall&&!!r.hiddenAt;return(0,t.jsxs)("div",{className:"flex flex-col justify-between rounded-lg border border-gray-200 bg-white",children:[(0,t.jsx)("div",{className:"flex h-full flex-col gap-1.5 border-gray-200 border-b p-4",children:(0,t.jsxs)("div",{className:"flex flex-row justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-2",children:[l?(0,t.jsx)(o.ProductIcon,{icon:a.iconUrl,size:"large"}):null,(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,t.jsx)("div",{className:"font-medium",children:a.name}),"published"!==a.reviewStatus?(0,t.jsx)(d.Badge,{size:"sm",variant:"gray-subtle",children:"Private"}):null]}),(0,t.jsx)("div",{className:"text-gray-900",children:a.shortDescription})]})]}),!p&&(0,t.jsx)(eR,{product:a,integration:r,disabled:i,onAddAction:n,tooltip:s,teamSlugOrPublic:c,enableMarketplaceNewCheckout:u,configuration:g})]})}),(0,t.jsx)("div",{className:"rounded-b-lg bg-gray-50 p-3",children:(0,t.jsx)("div",{className:"text-gray-900",children:a.shortBillingPlansDescription})})]})},"MarketplaceProductDetailsCardPlaceholder",0,function(e){let{hasAvatar:a,hasTitle:r}=e;return(0,t.jsxs)("div",{className:"flex flex-col justify-between rounded-lg border border-gray-200 bg-white",children:[(0,t.jsx)("div",{className:"flex h-full flex-row justify-between border-gray-200 border-b p-4",children:(0,t.jsxs)("div",{className:"flex flex-row gap-2",children:[a?(0,t.jsx)(g.Skeleton,{boxHeight:36,className:"my-[2px]",height:36,rounded:!0,vcenter:!0,width:36}):null,r?(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(g.Skeleton,{boxHeight:20,height:18,width:140}),(0,t.jsx)(g.Skeleton,{boxHeight:a?18:20,height:18,width:180})]}):(0,t.jsx)("div",{className:"h-[44px]"})]})}),(0,t.jsx)("div",{className:"rounded-b-lg bg-gray-50 p-3",children:(0,t.jsx)(g.Skeleton,{boxHeight:20,height:18,width:200})})]})}],2483928)}]);

//# debugId=5ff4b3e6-4173-a57f-d344-fa9c61a1d483
//# sourceMappingURL=a613109dd8bce1dc.js.map