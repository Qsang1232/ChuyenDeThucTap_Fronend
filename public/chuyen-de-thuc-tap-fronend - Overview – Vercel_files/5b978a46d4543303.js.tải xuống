;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="792610c8-d2d7-cd4f-0d1d-77e528a5eb75")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6450656,e=>{"use strict";var i=e.i(2466450);let t={fee:1e3,rate:{hobby:0,pro:3e3,plus:3e3},allocation:{hobby:5e4,pro:1e5,plus:1e5},reportingWindow:{hobby:"30 days",pro:"12 months",plus:"24 months"},bundle:"1M events prorated",bundleTooltip:"you'll be charged per event.\n\nFor example, {allocation} extra events will cost $3.",plusDescription:"Unlocks advanced UI features and view up to {reportingWindow} of data for all your projects. {fee} per month."},n=new Intl.NumberFormat("en-US");e.s(["pricingModel",0,t,"withPricing",0,function(e){let{offering:s="pro",currency:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/{plusDescription}/g,t.plusDescription).replace(/{bundleTooltip}/g,t.bundleTooltip).replace(/{fee}/g,(0,i.formatCurrency)(t.fee,l)).replace(/{allocation}/g,n.format(t.allocation[s])).replace(/{rate}/g,(0,i.formatCurrency)(t.rate[s],l)).replace(/{bundle}/g,t.bundle).replace(/{reportingWindow}/g,t.reportingWindow[s])}])},2924439,e=>{"use strict";var i=e.i(6450656);let t=Object.freeze({pro:{title:"Pro",price:2e3,subLineItems:[],credit:2e3},teamSeats:{title:"Additional Team Seats",price:2e3,subLineItems:[]},concurrentBuilds:{title:"Concurrent Builds",price:5e3,subLineItems:[{title:"1 Free Concurrent Build",price:0,unit:"month"}]},bandwidth:{title:"Bandwidth – Overage Fee",price:4e3,batch:100,threshold:1e3,unit:"GB",subLineItems:[]},serverlessFunctionExecution:{title:"Serverless Function Execution – Overage Fee",price:4e3,batch:100,threshold:1e3,unit:"GB-Hours",subLineItems:[]},artifacts:{title:"Vercel Remote Caching",price:50,batch:1,threshold:10,unit:"GB",subLineItems:[]},edgeMiddlewareInvocations:{title:"Edge Middleware Invocations",price:65,batch:1e6,threshold:1e6,unit:"invocations",subLineItems:[]},edgeFunctionExecutionUnits:{title:"Edge Function Execution Units",price:200,batch:1e6,threshold:1e6,unit:"execution units",subLineItems:[]},sourceImages:{title:"Source Images",price:500,batch:1e3,threshold:5e3,subLineItems:[]},speedInsights:{title:"Speed Insights",price:1e3,unit:"month",subLineItems:[{title:"On-Demand Events",billedAfter:"Billed after 10k events",price:65,batch:1e4,threshold:1e4,unit:"10k"}]},observabilityPlus:{title:"Observability Plus",price:1e3,subLineItems:[]},passwordProtection:{title:"Advanced Deployment Protection",price:15e3,subLineItems:[{title:"Password Protection",price:0},{title:"Deployment Protection Exceptions",price:0},{title:"Private Production Deployments",price:0}]},previewDeploymentSuffix:{title:"Preview Deployment Suffix",price:1e4,subLineItems:[]},webAnalytics:{title:i.withPricing("Web Analytics with {allocation} Events"),price:0,threshold:i.pricingModel.allocation.pro,limit:1,subLineItems:[{title:"On-Demand Events",billedAfter:i.withPricing("Billed after {allocation} Events"),price:i.pricingModel.rate.pro,threshold:i.pricingModel.allocation.pro,batch:0,unit:i.withPricing("{bundle}")}]},webAnalyticsPlus:{title:"Web Analytics Plus",price:i.pricingModel.fee,unit:"month",threshold:i.pricingModel.allocation.plus,limit:1,subLineItems:[]},monitoring:{title:"Monitoring with 250k Data Points",price:1e3,unit:"month",subLineItems:[{title:"On-Demand Data Points",billedAfter:"Billed after 250k data points",price:120,threshold:25e4,batch:1e6,unit:"million"}]},storage:{title:"5 KV Databases",price:0,subLineItems:[]}});e.s(["pricingMenu",0,t])},1649649,e=>{"use strict";var i=e.i(7917902),t=e.i(2924439);e.s(["getWebAnalyticsEventsMaxLimit",0,e=>{let{plan:i,isPlus:n}=e;if("hobby"===i)return 2500;if("pro"===i){if(n){if(!t.pricingMenu.webAnalyticsPlus.limit)throw Error("pricingMenu.webAnalyticsPlus.limit is not defined");return t.pricingMenu.webAnalyticsPlus.limit}if(!t.pricingMenu.webAnalytics.limit)throw Error("pricingMenu.webAnalytics.limit is not defined");return t.pricingMenu.webAnalytics.limit}return 1/0},"useIsWebAnalyticsBilling",0,function(){let{team:e,mutate:t}=(0,i.useAccount)(),n=e?.billing?.plan||"hobby",s=e?.billing?.planIteration||"legacy",l=e?.billing?.status==="trialing";return"pro"===n&&e?.enabledInvoiceItems?.webAnalytics?.enabled?{isPlus:!0,mutate:t,isTrialTeam:l,plan:n,planIteration:s,isSubscribed:!0}:{isPlus:!1,mutate:t,plan:n,planIteration:s,isTrialTeam:l,isSubscribed:"hobby"===n||(e?.enabledInvoiceItems?.webAnalyticsEvent?.enabled??!1)}}])},9694854,e=>{"use strict";var i=e.i(8914449),t=e.i(7780974);let n=(0,i.create)((e,i)=>({isOpen:!1,track:null,setProps:i=>{let{track:t}=i;e({track:t})},open:n=>{let{track:s}=i();s?.(t.VercelActivityAction.DrainsModalOpened,{source:n}),e({isOpen:!0})},close:()=>{e({isOpen:!1})}}));e.s(["useDrainModalState",0,n,"useOpenDrainModal",0,()=>n(e=>e.open)])},4207022,e=>{"use strict";var i=e.i(1717203),t=e.i(5338940),n=e.i(7557283);e.s(["useCanCreateDrain",0,function(){let{team:e,isLoading:s}=(0,t.useTeam)(),{can:l,isLoading:r}=(0,i.default)(),a=e?.billing?.plan==="hobby",o=e?.billing?.plan==="pro"&&"trialing"===e.billing.status;return{canCreateDrain:l(n.Action.Create,n.Resource.Drain)&&!(a||o),isLoading:s||r}}])},4301221,e=>{"use strict";var i=e.i(8914449),t=e.i(8042625),n=e.i(7722264),s=e.i(277234),l=e.i(6352514),r=e.i(4759942);let a={step:"closed",isProcessing:!1,error:void 0},o=(0,i.create)((e,i)=>({...a,team:null,projectId:null,isPlusEnabled:!1,setProps:i=>{let{team:t,projectId:n,onSuccess:s}=i;e({team:t,projectId:n,isPlusEnabled:t?.enabledInvoiceItems?.webAnalytics?.enabled??!1,onSuccess:s})},open:()=>{e({...a,step:"confirm"})},close:()=>{e(a)},disable:async()=>{let{team:a,projectId:o}=i();try{e({isProcessing:!0,error:void 0}),await (0,s.fetchAPI)(`/api/v1/web/insights/toggle${(0,t.encode)({projectId:o,teamId:a?.id})}`,{method:"POST",body:{value:!1},throwOnHTTPError:!0}),r.analytics.track(l.AnalyticsEvent.ANALYTICS_DISABLED,{teamId:a?.id,projectId:o}),e({step:"survey",isProcessing:!1})}catch(i){e({error:"Something went wrong.",isProcessing:!1}),(0,n.isErrorLike)(i)&&r.analytics.track(l.AnalyticsEvent.ERROR,{message:i.message,name:i.name,teamId:a?.id})}},completeSurvey:()=>{let{onSuccess:t}=i();e(a),t?.()}}));e.s(["useModalState",0,o,"useOpenDisableModal",0,()=>o(e=>e.open)])},3343953,e=>{"use strict";var i=e.i(31889),t=e.i(8876434),n=e.i(8674454),s=e.i(6694387),l=e.i(4991687),r=e.i(8459493),a=e.i(7553931),o=e.i(6695816),c=e.i(6352514),u=e.i(4759942),d=e.i(5338940),p=e.i(9928621),b=e.i(4301221),g=e.i(9694854),h=e.i(4207022),m=e.i(1649649),y=e.i(60582);e.s(["OptionsMenu",0,function(e){let{buttonClassName:I}=e,{setUpgradeModalSource:A}=(0,p.useWebAnalyticsContext)(),v=(0,b.useOpenDisableModal)(),w=(0,g.useOpenDrainModal)(),f=(0,a.useRouter)(),{team:P,isLoading:M}=(0,d.useTeam)(),{isPlus:D,plan:L}=(0,m.useIsWebAnalyticsBilling)(),{canCreateDrain:x,isLoading:C}=(0,h.useCanCreateDrain)(),E=(0,o.useCallback)(()=>{"pro"===L&&D?f.push(P?`/${P.slug}/~/settings/billing#web-analytics`:"/account/billing#web-analytics"):(u.analytics.track(c.AnalyticsEvent.ANALYTICS_UPSELL_CLICKED,{currentPlan:L,teamId:P?.id,type:"three-dots"}),A("menu"))},[D,L,f,A,P]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(l.MenuContainer,{position:"bottom-end",children:[(0,i.jsx)(s.MenuButton,{"aria-label":"More Actions",className:I,shape:"square",svgOnly:!0,type:y.IS_DASH?"tertiary":"secondary",children:(0,i.jsx)(t.MoreHorizontal,{})}),(0,i.jsxs)(n.Menu,{width:213,children:["enterprise"!==L?(0,i.jsx)(r.MenuItem,{disabled:M,onClick:E,children:"hobby"===L?"Upgrade to Pro":D?"Go to Billing":"Upgrade to Plus"}):null,(0,i.jsx)(r.MenuItem,{external:!0,href:"/docs/analytics",isLink:!0,target:"_blank",children:"Go to Docs"}),C?null:(0,i.jsx)(r.MenuItem,{disabled:!x,onClick:()=>{w("web-analytics-options-menu")},children:"Add Drain"}),(0,i.jsx)(r.MenuItem,{onClick:v,type:"error",children:"Disable Web Analytics"})]})]})})}])},1187354,e=>{"use strict";var i=e.i(31889),t=e.i(6695816),n=e.i(7553931),s=e.i(6352514),l=e.i(4759942),r=e.i(5338940),a=e.i(9928621),o=e.i(4301221),c=e.i(1649649),u=e.i(1295503),d=e.i(60582),p=e.i(3343953),b=e.i(9694854),g=e.i(4207022);function h(){return d.IS_DASH?(0,i.jsx)(t.Suspense,{fallback:null,children:(0,i.jsx)(m,{})}):(0,i.jsx)(p.OptionsMenu,{buttonClassName:"!w-[36px]"})}function m(){let e=(0,n.useRouter)(),{setUpgradeModalSource:d}=(0,a.useWebAnalyticsContext)(),{team:p,isLoading:h}=(0,r.useTeam)(),{isPlus:m,plan:y}=(0,c.useIsWebAnalyticsBilling)(),{canCreateDrain:I,isLoading:A}=(0,g.useCanCreateDrain)(),v=(0,o.useOpenDisableModal)(),w=(0,b.useOpenDrainModal)(),f=(0,t.useCallback)(()=>{"pro"===y&&m?e.push(p?`/${p.slug}/~/settings/billing#web-analytics`:"/account/billing#web-analytics"):(l.analytics.track(s.AnalyticsEvent.ANALYTICS_UPSELL_CLICKED,{currentPlan:y,teamId:p?.id,type:"three-dots"}),d("menu"))},[m,y,e,d,p]);return(0,i.jsxs)(i.Fragment,{children:["enterprise"!==y?(0,i.jsx)(u.ActionMenuItem,{disabled:h,onClick:f,children:"hobby"===y?"Upgrade to Pro":m?"Go to Billing":"Upgrade to Plus"}):null,(0,i.jsx)(u.ActionMenuLink,{href:"/docs/analytics",external:!0,children:"Go to Docs"}),A?null:(0,i.jsx)(u.ActionMenuItem,{disabled:!I,onClick:()=>{w("web-analytics-options-menu")},children:"Add Drain"}),(0,i.jsx)(u.ActionMenuItem,{onClick:v,type:"error",children:"Disable Web Analytics"})]})}e.s(["default",0,function(){return(0,i.jsx)(h,{})}],1187354)}]);

//# debugId=792610c8-d2d7-cd4f-0d1d-77e528a5eb75
//# sourceMappingURL=c8dad3ccc4f75827.js.map